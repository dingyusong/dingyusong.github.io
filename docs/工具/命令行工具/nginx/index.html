<!doctype html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width,initial-scale=1">
<meta name="generator" content="Docusaurus v2.0.0-alpha.70">
<link rel="alternate" type="application/rss+xml" href="/blog/rss.xml" title="My Site Blog RSS Feed">
<link rel="alternate" type="application/atom+xml" href="/blog/atom.xml" title="My Site Blog Atom Feed"><title data-react-helmet="true">nginx | My Site</title><meta data-react-helmet="true" name="twitter:card" content="summary_large_image"><meta data-react-helmet="true" name="docusaurus_locale" content="en"><meta data-react-helmet="true" name="docusaurus_version" content="current"><meta data-react-helmet="true" name="docusaurus_tag" content="docs-default-current"><meta data-react-helmet="true" property="og:title" content="nginx | My Site"><meta data-react-helmet="true" name="description" content="title: Nginx"><meta data-react-helmet="true" property="og:description" content="title: Nginx"><meta data-react-helmet="true" property="og:url" content="http://localhost:9999//docs/工具/命令行工具/nginx"><link data-react-helmet="true" rel="shortcut icon" href="/img/favicon.ico"><link data-react-helmet="true" rel="canonical" href="http://localhost:9999//docs/工具/命令行工具/nginx"><link rel="stylesheet" href="/styles.8cfbcdec.css">
<link rel="preload" href="/styles.aaa24a49.js" as="script">
<link rel="preload" href="/runtime~main.7eeb3d64.js" as="script">
<link rel="preload" href="/main.7a041c89.js" as="script">
<link rel="preload" href="/1.62b3ea65.js" as="script">
<link rel="preload" href="/257.bb7ed37e.js" as="script">
<link rel="preload" href="/258.ed1b30f8.js" as="script">
<link rel="preload" href="/935f2afb.55f5968c.js" as="script">
<link rel="preload" href="/256.a7530d90.js" as="script">
<link rel="preload" href="/0b97bcd2.911452cf.js" as="script">
</head>
<body>
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){var t=null;try{t=localStorage.getItem("theme")}catch(t){}return t}();t(null!==e?e:"light")}()</script><div id="__docusaurus">
<nav aria-label="Skip navigation links"><button type="button" tabindex="0" class="skipToContent_11B0">Skip to main content</button></nav><nav class="navbar navbar--fixed-top"><div class="navbar__inner"><div class="navbar__items"><div aria-label="Navigation bar toggle" class="navbar__toggle" role="button" tabindex="0"><svg aria-label="Menu" width="30" height="30" viewBox="0 0 30 30" role="img" focusable="false"><title>Menu</title><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></div><a class="navbar__brand" href="/"><img src="/img/logo.svg" alt="My Site Logo" class="themedImage_YANc themedImage--light_3CMI navbar__logo"><img src="/img/logo.svg" alt="My Site Logo" class="themedImage_YANc themedImage--dark_3ARp navbar__logo"><strong class="navbar__title">My Site</strong></a><a class="navbar__item navbar__link" href="/docs/">编程基础</a><a class="navbar__item navbar__link" href="/docs/编程语言/编程语言">编程语言</a><a aria-current="page" class="navbar__item navbar__link navbar__link--active" href="/docs/工具/常用工具">工具</a><a class="navbar__item navbar__link" href="/docs/应用开发/应用开发">应用开发</a><a class="navbar__item navbar__link" href="/docs/Apple/iOS开发/iOS开发">Apple</a><a class="navbar__item navbar__link" href="/docs/音视频/音视频">音视频</a><a class="navbar__item navbar__link" href="/docs/项目/项目">项目</a></div><div class="navbar__items navbar__items--right"><div class="react-toggle react-toggle--disabled displayOnlyInLargeViewport_2N3Q"><div class="react-toggle-track"><div class="react-toggle-track-check"><span class="toggle_3NWk">🌜</span></div><div class="react-toggle-track-x"><span class="toggle_3NWk">🌞</span></div></div><div class="react-toggle-thumb"></div><input type="checkbox" disabled="" aria-label="Dark mode toggle" class="react-toggle-screenreader-only"></div><div class="navbar__search"><span aria-label="expand searchbar" role="button" class="search-icon" tabindex="0"></span><input type="search" id="search_input_react" placeholder="Search" aria-label="Search" class="navbar__search-input search-bar"></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div><div class="navbar-sidebar"><div class="navbar-sidebar__brand"><a class="navbar__brand" href="/"><img src="/img/logo.svg" alt="My Site Logo" class="themedImage_YANc themedImage--light_3CMI navbar__logo"><img src="/img/logo.svg" alt="My Site Logo" class="themedImage_YANc themedImage--dark_3ARp navbar__logo"><strong class="navbar__title">My Site</strong></a></div><div class="navbar-sidebar__items"><div class="menu"><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" href="/docs/">编程基础</a></li><li class="menu__list-item"><a class="menu__link" href="/docs/编程语言/编程语言">编程语言</a></li><li class="menu__list-item"><a aria-current="page" class="menu__link navbar__link--active" href="/docs/工具/常用工具">工具</a></li><li class="menu__list-item"><a class="menu__link" href="/docs/应用开发/应用开发">应用开发</a></li><li class="menu__list-item"><a class="menu__link" href="/docs/Apple/iOS开发/iOS开发">Apple</a></li><li class="menu__list-item"><a class="menu__link" href="/docs/音视频/音视频">音视频</a></li><li class="menu__list-item"><a class="menu__link" href="/docs/项目/项目">项目</a></li></ul></div></div></div></nav><div class="main-wrapper"><div class="docPage_vMrn"><main class="docMainContainer_2iGs"><div class="container padding-vert--lg docItemWrapper_1bxp"><div class="row"><div class="col docItemCol_U38p"><div class="docItemContainer_a7m4"><article><header><h1 class="docTitle_Oumm">nginx</h1></header><div class="markdown"><p>title: Nginx
toc: true
categories: [工具]
tags: [工具,nginx]
date: 2018-06-21 18:17:36</p><hr><h1><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_prK2" id="nginx"></a>nginx<a class="hash-link" href="#nginx" title="Direct link to heading">#</a></h1><p>Nginx 作为高性能的<a href="https://baike.baidu.com/item/HTTP" target="_blank" rel="noopener noreferrer">HTTP</a>和<a href="https://baike.baidu.com/item/%E5%8F%8D%E5%90%91%E4%BB%A3%E7%90%86" target="_blank" rel="noopener noreferrer">反向代理</a>服务器，在日常工作中经常会用到，无论如何也要了解下。</p><p>官方文档： <a href="https://docs.nginx.com/nginx/admin-guide" target="_blank" rel="noopener noreferrer">https://docs.nginx.com/nginx/admin-guide</a></p><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_prK2" id="nginx是什么"></a>nginx是什么<a class="hash-link" href="#nginx是什么" title="Direct link to heading">#</a></h2><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_prK2" id="为什么要用nginx"></a>为什么要用nginx<a class="hash-link" href="#为什么要用nginx" title="Direct link to heading">#</a></h2><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_prK2" id="怎么用"></a>怎么用<a class="hash-link" href="#怎么用" title="Direct link to heading">#</a></h2><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_prK2" id="安装"></a>安装<a class="hash-link" href="#安装" title="Direct link to heading">#</a></h3><p>mac：</p><div class="mdxCodeBlock_1zKU"><div class="codeBlockContent_actS"><div tabindex="0" class="prism-code language-undefined codeBlock_tuNs thin-scrollbar"><div class="codeBlockLines_3uvA" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">brew install nginx</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">=&gt; Caveats</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">Docroot is: /usr/local/var/www</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">The default port has been set in /usr/local/etc/nginx/nginx.conf to 8080 so that</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">nginx can run without sudo.</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">nginx will load all files in /usr/local/etc/nginx/servers/.</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">To have launchd start nginx now and restart at login:</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  brew services start nginx</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">Or, if you don&#x27;t want/need a background service you can just run:</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  nginx</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">==&gt; Summary</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">🍺  /usr/local/Cellar/nginx/1.19.6: 25 files, 2.2MB</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">==&gt; Caveats</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">==&gt; nginx</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">Docroot is: /usr/local/var/www</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">The default port has been set in /usr/local/etc/nginx/nginx.conf to 8080 so that</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">nginx can run without sudo.</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">nginx will load all files in /usr/local/etc/nginx/servers/.</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">To have launchd start nginx now and restart at login:</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  brew services start nginx</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">Or, if you don&#x27;t want/need a background service you can just run:</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  nginx</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_2GIj">Copy</button></div></div><p>ubuntu：</p><div class="mdxCodeBlock_1zKU"><div class="codeBlockContent_actS"><div tabindex="0" class="prism-code language-undefined codeBlock_tuNs thin-scrollbar"><div class="codeBlockLines_3uvA" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">sudo apt-get install nginx</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_2GIj">Copy</button></div></div><p>nginx的默认安装路径在/usr/local/nginx下.</p><p>nginx的默认配置在/etc/nginx下.</p><p>查看文档 man一下</p><div class="mdxCodeBlock_1zKU"><div class="codeBlockContent_actS"><div tabindex="0" class="prism-code language-undefined codeBlock_tuNs thin-scrollbar"><div class="codeBlockLines_3uvA" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">man nginx</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_2GIj">Copy</button></div></div><p>centos安装nginx 官方教程：</p><p><a href="https://www.nginx.com/resources/wiki/start/topics/tutorials/install/" target="_blank" rel="noopener noreferrer">https://www.nginx.com/resources/wiki/start/topics/tutorials/install/</a></p><p>添加安装源：</p><p>/etc/yum.repos.d/nginx.repo</p><p>阿里云安装后centos无法访问：</p><p>注意是安全组的问题。得添加一个http访问。</p><p><a href="https://www.jianshu.com/p/ec34db456c8b" target="_blank" rel="noopener noreferrer">https://www.jianshu.com/p/ec34db456c8b</a></p><p><img src="http://wiso.liwenhui520.com/20190130154883397551411.png" alt="20190130154883397551411.png"></p><p><img src="http://wiso.liwenhui520.com/20190130154883427262707.png" alt="20190130154883427262707.png"></p><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_prK2" id="启动"></a>启动<a class="hash-link" href="#启动" title="Direct link to heading">#</a></h3><div class="mdxCodeBlock_1zKU"><div class="codeBlockContent_actS"><div tabindex="0" class="prism-code language-undefined codeBlock_tuNs thin-scrollbar"><div class="codeBlockLines_3uvA" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">sudo nginx</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_2GIj">Copy</button></div></div><p>打开地址测试一下：</p><p>http://localhost:8080/</p><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_prK2" id="开机自启动"></a>开机自启动<a class="hash-link" href="#开机自启动" title="Direct link to heading">#</a></h3><p>通过brew 安装install 后</p><div class="mdxCodeBlock_1zKU"><div class="codeBlockContent_actS"><div tabindex="0" class="prism-code language-undefined codeBlock_tuNs thin-scrollbar"><div class="codeBlockLines_3uvA" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">sudo cp /usr/local/opt/nginx/*.plist  /Library/LaunchDaemons</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">sudo launchctl load -w /Library/LaunchDaemons/homebrew.mxcl.nginx.plist</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_2GIj">Copy</button></div></div><p>即可。</p><p>参考文章：<a href="http://derickbailey.com/2014/12/27/how-to-start-nginx-on-port-80-at-mac-osx-boot-up-log-in/" target="_blank" rel="noopener noreferrer">http://derickbailey.com/2014/12/27/how-to-start-nginx-on-port-80-at-mac-osx-boot-up-log-in/</a></p><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_prK2" id="关闭"></a>关闭<a class="hash-link" href="#关闭" title="Direct link to heading">#</a></h3><h4><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_prK2" id="命令行"></a>命令行<a class="hash-link" href="#命令行" title="Direct link to heading">#</a></h4><div class="mdxCodeBlock_1zKU"><div class="codeBlockContent_actS"><div tabindex="0" class="prism-code language-undefined codeBlock_tuNs thin-scrollbar"><div class="codeBlockLines_3uvA" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">nginx -s stop            #=&gt; fast shutdown</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">nginx -s quit             #=&gt; graceful shutdown</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_2GIj">Copy</button></div></div><h4><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_prK2" id="杀进程"></a>杀进程<a class="hash-link" href="#杀进程" title="Direct link to heading">#</a></h4><div class="mdxCodeBlock_1zKU"><div class="codeBlockContent_actS"><div tabindex="0" class="prism-code language-undefined codeBlock_tuNs thin-scrollbar"><div class="codeBlockLines_3uvA" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">ps -ef | grep nginx</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">ps -ef | grep \[n]ginx  #可以去掉ps进程产生的那一行</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">ps aux |grep \[n]ginx</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_2GIj">Copy</button></div></div><div class="mdxCodeBlock_1zKU"><div class="codeBlockContent_actS"><div tabindex="0" class="prism-code language-undefined codeBlock_tuNs thin-scrollbar"><div class="codeBlockLines_3uvA" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">➜  ~ ps -ef | grep nginx</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">root       965     1  0 May28 ?        00:00:00 nginx: master process /usr/sbinnginx</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">www-data 24816   965  0 Jun14 ?        00:00:27 nginx: worker process</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">www-data 24817   965  0 Jun14 ?        00:00:28 nginx: worker process</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">www-data 24818   965  0 Jun14 ?        00:00:28 nginx: worker process</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">www-data 24819   965  0 Jun14 ?        00:00:00 nginx: worker process</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">nxixi97  31295 31268  0 22:10 pts/0    00:00:00 grep --color=auto --exclude-dir=.bzr --exclude-dir=CVS --exclude-dir=.git --exclude-dir=.hg --exclude-dir=.svn nginx</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">➜  ~ ps aux |grep \[n]ginx</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">root       965  0.0  0.4  86632  4460 ?        Ss   May28   0:00 nginx: master process /usr/sbin/nginx</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">www-data 24816  0.0  0.3  86632  3704 ?        S    Jun14   0:27 nginx: worker process</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">www-data 24817  0.0  0.3  86632  3704 ?        S    Jun14   0:28 nginx: worker process</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">www-data 24818  0.0  0.3  86632  3704 ?        S    Jun14   0:28 nginx: worker process</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">www-data 24819  0.0  0.4  86632  4580 ?        S    Jun14   0:00 nginx: worker process</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">➜  ~ ps -ef | grep \[n]ginx</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">root       965     1  0 May28 ?        00:00:00 nginx: master process /usr/sbin/nginx</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">www-data 24816   965  0 Jun14 ?        00:00:27 nginx: worker process</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">www-data 24817   965  0 Jun14 ?        00:00:28 nginx: worker process</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">www-data 24818   965  0 Jun14 ?        00:00:28 nginx: worker process</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">www-data 24819   965  0 Jun14 ?        00:00:00 nginx: worker process</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">➜  ~ ps -ef | grep &#x27;[n]ginx&#x27;</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">root       965     1  0 May28 ?        00:00:00 nginx: master process /usr/sbin/nginx</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">www-data 24816   965  0 Jun14 ?        00:00:27 nginx: worker process</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">www-data 24817   965  0 Jun14 ?        00:00:28 nginx: worker process</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">www-data 24818   965  0 Jun14 ?        00:00:28 nginx: worker process</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">www-data 24819   965  0 Jun14 ?        00:00:00 nginx: worker process</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_2GIj">Copy</button></div></div><div class="mdxCodeBlock_1zKU"><div class="codeBlockContent_actS"><div tabindex="0" class="prism-code language-undefined codeBlock_tuNs thin-scrollbar"><div class="codeBlockLines_3uvA" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">kill -QUIT 主进程号     ：从容停止Nginx</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">kill -TERM 主进程号     ：快速停止Nginx</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">pkill -9 nginx          ：强制停止Nginx</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_2GIj">Copy</button></div></div><p><a href="https://www.cnblogs.com/xiaoL/p/6964217.html" target="_blank" rel="noopener noreferrer">https://www.cnblogs.com/xiaoL/p/6964217.html</a></p><p><a href="http://magnetoeric.github.io/2016/04/23/ps/" target="_blank" rel="noopener noreferrer">http://magnetoeric.github.io/2016/04/23/ps/</a></p><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_prK2" id="重启"></a>重启<a class="hash-link" href="#重启" title="Direct link to heading">#</a></h3><p>mac</p><div class="mdxCodeBlock_1zKU"><div class="codeBlockContent_actS"><div tabindex="0" class="prism-code language-undefined codeBlock_tuNs thin-scrollbar"><div class="codeBlockLines_3uvA" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">nginx -s reload           #=&gt; reloading the configuration file</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">nginx -s reopen           #=&gt; reopening the log files</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_2GIj">Copy</button></div></div><p>ubuntu</p><div class="mdxCodeBlock_1zKU"><div class="codeBlockContent_actS"><div tabindex="0" class="prism-code language-undefined codeBlock_tuNs thin-scrollbar"><div class="codeBlockLines_3uvA" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">sudo nginx -s reload           #=&gt; reloading the configuration file</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">sudo nginx -s reopen           #=&gt; reopening the log files</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_2GIj">Copy</button></div></div><blockquote><p>为什么mac不用sudo，而ubuntu需要用sudo呢？一开始我也不明白，后来仔细琢磨一下，mac定位是PC，而linux定位是server，server的权限管理肯定比PC的更严格，PC默认是管理员权限，所以在执行一些命令的时候可以直接执行。而linux是一般用户权限，在执行软件的时候则需要提升权限。</p></blockquote><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_prK2" id="配置"></a>配置<a class="hash-link" href="#配置" title="Direct link to heading">#</a></h2><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_prK2" id="目录"></a>目录<a class="hash-link" href="#目录" title="Direct link to heading">#</a></h3><p>Mac 配置目录  <code>/usr/local/etc/nginx</code></p><div class="mdxCodeBlock_1zKU"><div class="codeBlockContent_actS"><div tabindex="0" class="prism-code language-undefined codeBlock_tuNs thin-scrollbar"><div class="codeBlockLines_3uvA" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">➜  nginx ls -a</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">.                          mime.types.default.default</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">..                         nginx.conf</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">.DS_Store                  nginx.conf.bak</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">fastcgi.conf               nginx.conf.default</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">fastcgi.conf.default       scgi_params</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">fastcgi_params             scgi_params.default</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">fastcgi_params.default     servers</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">koi-utf                    uwsgi_params</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">koi-win                    uwsgi_params.default</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">mime.types                 win-utf</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">mime.types.default</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_2GIj">Copy</button></div></div><p>Ubuntu 配置目录 <code>/etc/nginx </code></p><div class="mdxCodeBlock_1zKU"><div class="codeBlockContent_actS"><div tabindex="0" class="prism-code language-undefined codeBlock_tuNs thin-scrollbar"><div class="codeBlockLines_3uvA" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">➜  nginx ls -a</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">.               koi-utf              naxsi.rules       scgi_params      win-utf</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">..              koi-win              naxsi_core.rules  sites-available</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">conf.d          mime.types           nginx.conf        sites-enabled</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">fastcgi_params  naxsi-ui.conf.1.4.1  proxy_params      uwsgi_params</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_2GIj">Copy</button></div></div><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_prK2" id="规则"></a>规则<a class="hash-link" href="#规则" title="Direct link to heading">#</a></h3><p>分离配置：mac的servers和ubuntu的conf.d 都是文件夹分离配置。</p><p>注意：mac默认么有servers文件夹，需要自己创建<code>mkdir servers</code></p><p>默认配置nginx.conf里面都有include导入。</p><div class="mdxCodeBlock_1zKU"><div class="codeBlockContent_actS"><div tabindex="0" class="prism-code language-undefined codeBlock_tuNs thin-scrollbar"><div class="codeBlockLines_3uvA" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">    include servers/*;</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_2GIj">Copy</button></div></div><p>或者</p><div class="mdxCodeBlock_1zKU"><div class="codeBlockContent_actS"><div tabindex="0" class="prism-code language-undefined codeBlock_tuNs thin-scrollbar"><div class="codeBlockLines_3uvA" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">include vhosts.conf;</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_2GIj">Copy</button></div></div><p>或者</p><div class="mdxCodeBlock_1zKU"><div class="codeBlockContent_actS"><div tabindex="0" class="prism-code language-undefined codeBlock_tuNs thin-scrollbar"><div class="codeBlockLines_3uvA" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">    include /etc/nginx/conf.d/*.conf;</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    include /etc/nginx/sites-enabled/*;</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_2GIj">Copy</button></div></div><div class="mdxCodeBlock_1zKU"><div class="codeBlockContent_actS"><div tabindex="0" class="prism-code language-undefined codeBlock_tuNs thin-scrollbar"><div class="codeBlockLines_3uvA" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">➜  servers touch blog.nginx.conf</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">➜  servers vi blog.nginx.conf </span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">➜  servers cat blog.nginx.conf </span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">   server {</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    listen       80;</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    server_name  localhost;</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    location / {</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        proxy_pass http://127.0.0.1:3000;               #转发非api，与上传的静态资源的其他信息 </span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        proxy_redirect default;</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    }</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    location /api/ {</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        proxy_pass http://127.0.0.1:3301/api/;          #转发至api接口</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    }</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        location ^~ /uploads/ {</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        proxy_pass http://127.0.0.1:3301/uploads/;     #转发至上传的静态资源</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    }</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">   }</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">// 最简单的在本地搭建一个localhost</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">server {</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    listen  80;</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    server_name localhost;</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        location ^~ / {</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">            root   /Users/dingyusong/mine/survival/build;</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">            index  index.html;</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">       }</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        location ^~ /wallet {</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">            root   /home/nxixi97/project/client;</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">            index  index.html;</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">       }</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        location ^~ /jyx {</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">            root   /home/nxixi97/project/client;</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">            index  index.html;</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">       }</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        location ^~ /zentao {</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">            proxy_pass http://127.0.0.1:8080;</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        }</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        location ^~ /wiki{</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">            root   /home/nxixi97/project/client;</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">            index  index.html;</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        }</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">}</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_2GIj">Copy</button></div></div><p>survival配置：</p><p><code>/usr/local/etc/nginx/servers </code> 添加一个配置：</p><div class="mdxCodeBlock_1zKU"><div class="codeBlockContent_actS"><div tabindex="0" class="prism-code language-undefined codeBlock_tuNs thin-scrollbar"><div class="codeBlockLines_3uvA" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">➜  /usr/local/etc/nginx/servers ls</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">survival.conf</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_2GIj">Copy</button></div></div><div class="mdxCodeBlock_1zKU"><div class="codeBlockContent_actS"><div tabindex="0" class="prism-code language-undefined codeBlock_tuNs thin-scrollbar"><div class="codeBlockLines_3uvA" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">server {</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    listen       9999;</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    server_name  localhost;</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    location ^~ / {</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        root   /Users/Ding/mine/survival/build;</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        index  index.html index.htm;</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    }</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">}</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_2GIj">Copy</button></div></div><h4><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_prK2" id="路径区分"></a>路径区分<a class="hash-link" href="#路径区分" title="Direct link to heading">#</a></h4><p><a href="http://39.107.71.114/" target="_blank" rel="noopener noreferrer">http://39.107.71.114/</a></p><p><a href="http://39.107.71.114/wiki" target="_blank" rel="noopener noreferrer">http://39.107.71.114/wiki</a></p><p><a href="http://39.107.71.114/jyx" target="_blank" rel="noopener noreferrer">http://39.107.71.114/jyx</a></p><p><a href="http://39.107.71.114/wallet" target="_blank" rel="noopener noreferrer">http://39.107.71.114/wallet</a></p><h4><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_prK2" id="端口转发"></a>端口转发<a class="hash-link" href="#端口转发" title="Direct link to heading">#</a></h4><p><a href="http://39.107.71.114/zentao" target="_blank" rel="noopener noreferrer">http://39.107.71.114/zentao</a></p><p>规则配置示例如下：</p><div class="mdxCodeBlock_1zKU"><div class="codeBlockContent_actS"><div tabindex="0" class="prism-code language-undefined codeBlock_tuNs thin-scrollbar"><div class="codeBlockLines_3uvA" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">server {</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    listen  80;</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    server_name 39.107.71.114;</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        location ^~ / {</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">            root   /home/nxixi97/project/blog;</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">            index  index.html;</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">       }</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        location ^~ /wallet {</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">            root   /home/nxixi97/project/client;</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">            index  index.html;</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">       }</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        location ^~ /jyx {</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">            root   /home/nxixi97/project/client;</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">            index  index.html;</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">       }</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        location ^~ /zentao {</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">            proxy_pass http://127.0.0.1:8080;</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        }</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        location ^~ /wiki{</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">            root   /home/nxixi97/project/client;</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">            index  index.html; </span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        }</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">} </span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_2GIj">Copy</button></div></div><p>待研究目录权限问题。</p><p>为什么？ nginx.conf user修改为master就好了。而使用nginx就不行。</p><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_prK2" id="实践一下"></a>实践一下<a class="hash-link" href="#实践一下" title="Direct link to heading">#</a></h2><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_prK2" id="用nginx部署一个静态网站"></a>用nginx部署一个静态网站<a class="hash-link" href="#用nginx部署一个静态网站" title="Direct link to heading">#</a></h3><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_prK2" id="部署网站"></a>部署网站<a class="hash-link" href="#部署网站" title="Direct link to heading">#</a></h2><p>http代理服务是强大nginx最基础的功能。本文描述的就是怎么使用nginx这个最基础的功能，如果你的需求是用nginx架设一个简单的静态站，那么本文正适合你。</p><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_prK2" id="web容器"></a>web容器<a class="hash-link" href="#web容器" title="Direct link to heading">#</a></h2><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_prK2" id="文件服务器"></a>文件服务器<a class="hash-link" href="#文件服务器" title="Direct link to heading">#</a></h2><p><a href="https://docs.nginx.com/nginx/admin-guide/web-server/serving-static-content/" target="_blank" rel="noopener noreferrer">https://docs.nginx.com/nginx/admin-guide/web-server/serving-static-content/</a></p><div class="mdxCodeBlock_1zKU"><div class="codeBlockContent_actS"><div tabindex="0" class="prism-code language-undefined codeBlock_tuNs thin-scrollbar"><div class="codeBlockLines_3uvA" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">server {</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    root /www/data;</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    location / {</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    }</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    location /images/ {</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    }</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    location ~ \.(mp3|mp4) {</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        root /www/media;</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    }</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">}</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_2GIj">Copy</button></div></div><div class="mdxCodeBlock_1zKU"><div class="codeBlockContent_actS"><div tabindex="0" class="prism-code language-undefined codeBlock_tuNs thin-scrollbar"><div class="codeBlockLines_3uvA" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">➜  servers cat build.conf</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">server {</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    listen  8100;</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    server_name localhost;</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    root   /Users/duobei/Projects/rzpaas-test-apple;    #根路径</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    location ^~ /ios {                                                                  </span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        root /Users/duobei/Projects/rzpaas-test-apple/rzpaas_ios_build;</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        index  index.html;</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    }</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    location  /rzpaas_example_mac/build/{           #注意这是相对根路径，并且要在URL中展示出来</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        autoindex on; # 索引</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        autoindex_exact_size on; # 显示文件大小</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        autoindex_localtime on; # 显示文件时间</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    }</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">}</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_2GIj">Copy</button></div></div><p><img alt="image-20210820105117055" src="/assets/images/image-20210820105117055-1d17a1d2ccef91cc38c734f8d8bc47c2.png"></p><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_prK2" id="代码上传"></a>代码上传<a class="hash-link" href="#代码上传" title="Direct link to heading">#</a></h2><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_prK2" id="代理"></a>代理<a class="hash-link" href="#代理" title="Direct link to heading">#</a></h2><p>配置路径</p><p>client</p><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_prK2" id="域名解析"></a>域名解析<a class="hash-link" href="#域名解析" title="Direct link to heading">#</a></h2><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_prK2" id="配置https"></a>配置Https<a class="hash-link" href="#配置https" title="Direct link to heading">#</a></h2><p><a href="https://www.jianshu.com/p/26a46cf82fb9" target="_blank" rel="noopener noreferrer">ubuntu安装nginx并配置https</a></p><div class="mdxCodeBlock_1zKU"><div class="codeBlockContent_actS"><div tabindex="0" class="prism-code language-undefined codeBlock_tuNs thin-scrollbar"><div class="codeBlockLines_3uvA" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">        #open ssl</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        ssl on;</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        ssl_certificate /home/nxixi97/cers/spapi.dingyusong.com_chain.crt;</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        ssl_certificate_key /home/nxixi97/cers/spapi.dingyusong.com_key.key;</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        ssl_session_timeout 5m;</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        ssl_protocols TLSv1 TLSv1.1 TLSv1.2;</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        ssl_ciphers ECDHE-RSA-AES128-GCM-SHA256:ECDHE:ECDH:AES:HIGH:!NULL:!aNULL:!MD5:!ADH:!RC4:!DH:!DHE;</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        ssl_prefer_server_ciphers on;</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_2GIj">Copy</button></div></div><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_prK2" id="源码"></a>源码<a class="hash-link" href="#源码" title="Direct link to heading">#</a></h2><p><a href="https://www.kancloud.cn/digest/understandingnginx/202586" target="_blank" rel="noopener noreferrer">https://www.kancloud.cn/digest/understandingnginx/202586</a></p><p><a href="https://www.zhihu.com/question/20857459" target="_blank" rel="noopener noreferrer">https://www.zhihu.com/question/20857459</a></p><p>用C语言制作Web服务器：<a href="https://zhuanlan.zhihu.com/p/145917782" target="_blank" rel="noopener noreferrer">https://zhuanlan.zhihu.com/p/145917782</a></p><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_prK2" id="参考文档"></a>参考文档<a class="hash-link" href="#参考文档" title="Direct link to heading">#</a></h2><ul><li><a href="http://macappstore.org/nginx/" target="_blank" rel="noopener noreferrer">http://macappstore.org/nginx/</a></li><li><a href="http://stonefishy.github.io/blog/2015/12/05/using-nginx-in-mac-os-x/" target="_blank" rel="noopener noreferrer">http://stonefishy.github.io/blog/2015/12/05/using-nginx-in-mac-os-x/</a></li><li><a href="http://nginx.org/en/docs/" target="_blank" rel="noopener noreferrer">http://nginx.org/en/docs/</a></li><li><a href="http://nginx.org/en/docs/beginners_guide.html" target="_blank" rel="noopener noreferrer">http://nginx.org/en/docs/beginners_guide.html</a></li><li><a href="http://www.nginx.cn/doc/" target="_blank" rel="noopener noreferrer">http://www.nginx.cn/doc/</a></li></ul><hr><p>原创文章，转载请保留原文链接，未经授权拒绝转载，谢谢。</p><p>联系作者：<a href="mailto:dys90@qq.com" target="_blank" rel="noopener noreferrer">dys90@qq.com</a></p></div></article><div class="margin-vert--xl"><div class="row"><div class="col"><a href="dys-typora-open://mine/survival/docs/工具/命令行工具/nginx.md" target="_blank" rel="noreferrer noopener"><svg fill="currentColor" height="1.2em" width="1.2em" preserveAspectRatio="xMidYMid meet" role="img" viewBox="0 0 40 40" class="iconEdit_2LL7"><g><path d="m34.5 11.7l-3 3.1-6.3-6.3 3.1-3q0.5-0.5 1.2-0.5t1.1 0.5l3.9 3.9q0.5 0.4 0.5 1.1t-0.5 1.2z m-29.5 17.1l18.4-18.5 6.3 6.3-18.4 18.4h-6.3v-6.2z"></path></g></svg>Edit this page</a></div></div></div><div class="margin-vert--lg"><nav class="pagination-nav" aria-label="Blog list page navigation"><div class="pagination-nav__item"></div><div class="pagination-nav__item pagination-nav__item--next"></div></nav></div></div></div><div class="col col--3"><div class="tableOfContents_2xL- thin-scrollbar"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#nginx是什么" class="table-of-contents__link">nginx是什么</a></li><li><a href="#为什么要用nginx" class="table-of-contents__link">为什么要用nginx</a></li><li><a href="#怎么用" class="table-of-contents__link">怎么用</a><ul><li><a href="#安装" class="table-of-contents__link">安装</a></li><li><a href="#启动" class="table-of-contents__link">启动</a></li><li><a href="#开机自启动" class="table-of-contents__link">开机自启动</a></li><li><a href="#关闭" class="table-of-contents__link">关闭</a></li><li><a href="#重启" class="table-of-contents__link">重启</a></li></ul></li><li><a href="#配置" class="table-of-contents__link">配置</a><ul><li><a href="#目录" class="table-of-contents__link">目录</a></li><li><a href="#规则" class="table-of-contents__link">规则</a></li></ul></li><li><a href="#实践一下" class="table-of-contents__link">实践一下</a><ul><li><a href="#用nginx部署一个静态网站" class="table-of-contents__link">用nginx部署一个静态网站</a></li></ul></li><li><a href="#部署网站" class="table-of-contents__link">部署网站</a></li><li><a href="#web容器" class="table-of-contents__link">web容器</a></li><li><a href="#文件服务器" class="table-of-contents__link">文件服务器</a></li><li><a href="#代码上传" class="table-of-contents__link">代码上传</a></li><li><a href="#代理" class="table-of-contents__link">代理</a></li><li><a href="#域名解析" class="table-of-contents__link">域名解析</a></li><li><a href="#配置https" class="table-of-contents__link">配置Https</a></li><li><a href="#源码" class="table-of-contents__link">源码</a></li><li><a href="#参考文档" class="table-of-contents__link">参考文档</a></li></ul></div></div></div></div></main></div></div><footer class="footer footer--dark"><div class="container"><div class="row footer__links"><div class="col footer__col"><h4 class="footer__title">Docs</h4><ul class="footer__items"><li class="footer__item"><a class="footer__link-item" href="/docs/">Style Guide</a></li><li class="footer__item"><a class="footer__link-item" href="/docs/">Second Doc</a></li></ul></div><div class="col footer__col"><h4 class="footer__title">Community</h4><ul class="footer__items"><li class="footer__item"><a href="https://stackoverflow.com/questions/tagged/docusaurus" target="_blank" rel="noopener noreferrer" class="footer__link-item">Stack Overflow</a></li><li class="footer__item"><a href="https://discordapp.com/invite/docusaurus" target="_blank" rel="noopener noreferrer" class="footer__link-item">Discord</a></li><li class="footer__item"><a href="https://twitter.com/docusaurus" target="_blank" rel="noopener noreferrer" class="footer__link-item">Twitter</a></li></ul></div><div class="col footer__col"><h4 class="footer__title">More</h4><ul class="footer__items"><li class="footer__item"><a class="footer__link-item" href="/blog">Blog</a></li><li class="footer__item"><a href="https://github.com/facebook/docusaurus" target="_blank" rel="noopener noreferrer" class="footer__link-item">GitHub</a></li></ul></div></div><div class="footer__bottom text--center"><div class="footer__copyright">Copyright © 2021 My Project, Inc. Built with Docusaurus.</div></div></div></footer></div>
<script src="/styles.aaa24a49.js"></script>
<script src="/runtime~main.7eeb3d64.js"></script>
<script src="/main.7a041c89.js"></script>
<script src="/1.62b3ea65.js"></script>
<script src="/257.bb7ed37e.js"></script>
<script src="/258.ed1b30f8.js"></script>
<script src="/935f2afb.55f5968c.js"></script>
<script src="/256.a7530d90.js"></script>
<script src="/0b97bcd2.911452cf.js"></script>
</body>
</html>