<!doctype html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width,initial-scale=1">
<meta name="generator" content="Docusaurus v2.0.0-alpha.70">
<link rel="alternate" type="application/rss+xml" href="/blog/rss.xml" title="My Site Blog RSS Feed">
<link rel="alternate" type="application/atom+xml" href="/blog/atom.xml" title="My Site Blog Atom Feed"><title data-react-helmet="true">Linux | My Site</title><meta data-react-helmet="true" name="twitter:card" content="summary_large_image"><meta data-react-helmet="true" name="docusaurus_locale" content="en"><meta data-react-helmet="true" name="docusaurus_version" content="current"><meta data-react-helmet="true" name="docusaurus_tag" content="docs-default-current"><meta data-react-helmet="true" property="og:title" content="Linux | My Site"><meta data-react-helmet="true" name="description" content="Linux"><meta data-react-helmet="true" property="og:description" content="Linux"><meta data-react-helmet="true" property="og:url" content="http://localhost:9999//docs/编程基础/操作系统/Linux/Linux"><link data-react-helmet="true" rel="shortcut icon" href="/img/favicon.ico"><link data-react-helmet="true" rel="canonical" href="http://localhost:9999//docs/编程基础/操作系统/Linux/Linux"><link rel="stylesheet" href="/styles.8cfbcdec.css">
<link rel="preload" href="/styles.fb1c19b8.js" as="script">
<link rel="preload" href="/runtime~main.cc14fc68.js" as="script">
<link rel="preload" href="/main.c6b7f4ce.js" as="script">
<link rel="preload" href="/1.a9a8f0c0.js" as="script">
<link rel="preload" href="/258.6205818a.js" as="script">
<link rel="preload" href="/259.e50796f0.js" as="script">
<link rel="preload" href="/935f2afb.41d9bdbd.js" as="script">
<link rel="preload" href="/257.eedf933d.js" as="script">
<link rel="preload" href="/1796be80.b3bdd9d4.js" as="script">
</head>
<body>
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){var t=null;try{t=localStorage.getItem("theme")}catch(t){}return t}();t(null!==e?e:"light")}()</script><div id="__docusaurus">
<nav aria-label="Skip navigation links"><button type="button" tabindex="0" class="skipToContent_11B0">Skip to main content</button></nav><nav class="navbar navbar--fixed-top"><div class="navbar__inner"><div class="navbar__items"><div aria-label="Navigation bar toggle" class="navbar__toggle" role="button" tabindex="0"><svg aria-label="Menu" width="30" height="30" viewBox="0 0 30 30" role="img" focusable="false"><title>Menu</title><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></div><a class="navbar__brand" href="/"><img src="/img/logo.svg" alt="My Site Logo" class="themedImage_YANc themedImage--light_3CMI navbar__logo"><img src="/img/logo.svg" alt="My Site Logo" class="themedImage_YANc themedImage--dark_3ARp navbar__logo"><strong class="navbar__title">My Site</strong></a><a aria-current="page" class="navbar__item navbar__link navbar__link--active" href="/docs/">基础</a><a class="navbar__item navbar__link" href="/docs/编程语言/编程语言">语言</a><a class="navbar__item navbar__link" href="/docs/工具/常用工具">工具</a><a class="navbar__item navbar__link" href="/docs/应用开发/应用开发">应用开发</a><a class="navbar__item navbar__link" href="/docs/Apple/iOS开发/iOS开发">Apple</a><a class="navbar__item navbar__link" href="/docs/音视频/音视频">音视频</a><a class="navbar__item navbar__link" href="/docs/项目/项目">项目</a></div><div class="navbar__items navbar__items--right"><div class="react-toggle react-toggle--disabled displayOnlyInLargeViewport_2N3Q"><div class="react-toggle-track"><div class="react-toggle-track-check"><span class="toggle_3NWk">🌜</span></div><div class="react-toggle-track-x"><span class="toggle_3NWk">🌞</span></div></div><div class="react-toggle-thumb"></div><input type="checkbox" disabled="" aria-label="Dark mode toggle" class="react-toggle-screenreader-only"></div><div class="navbar__search"><span aria-label="expand searchbar" role="button" class="search-icon" tabindex="0"></span><input type="search" id="search_input_react" placeholder="Search" aria-label="Search" class="navbar__search-input search-bar"></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div><div class="navbar-sidebar"><div class="navbar-sidebar__brand"><a class="navbar__brand" href="/"><img src="/img/logo.svg" alt="My Site Logo" class="themedImage_YANc themedImage--light_3CMI navbar__logo"><img src="/img/logo.svg" alt="My Site Logo" class="themedImage_YANc themedImage--dark_3ARp navbar__logo"><strong class="navbar__title">My Site</strong></a></div><div class="navbar-sidebar__items"><div class="menu"><ul class="menu__list"><li class="menu__list-item"><a aria-current="page" class="menu__link navbar__link--active" href="/docs/">基础</a></li><li class="menu__list-item"><a class="menu__link" href="/docs/编程语言/编程语言">语言</a></li><li class="menu__list-item"><a class="menu__link" href="/docs/工具/常用工具">工具</a></li><li class="menu__list-item"><a class="menu__link" href="/docs/应用开发/应用开发">应用开发</a></li><li class="menu__list-item"><a class="menu__link" href="/docs/Apple/iOS开发/iOS开发">Apple</a></li><li class="menu__list-item"><a class="menu__link" href="/docs/音视频/音视频">音视频</a></li><li class="menu__list-item"><a class="menu__link" href="/docs/项目/项目">项目</a></li></ul></div></div></div></nav><div class="main-wrapper"><div class="docPage_vMrn"><main class="docMainContainer_2iGs"><div class="container padding-vert--lg docItemWrapper_1bxp"><div class="row"><div class="col docItemCol_U38p"><div class="docItemContainer_a7m4"><article><header><h1 class="docTitle_Oumm">Linux</h1></header><div class="markdown"><h1><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_prK2" id="linux"></a>Linux<a class="hash-link" href="#linux" title="Direct link to heading">#</a></h1><p>[toc]</p><p><img alt="img" src="/assets/images/SouthEast-f2b0a700d833f97db821bced25c30b3f.png"></p><p><img alt="linux 2.jpg" src="/assets/images/679d37172d194b5018487f9eab582c03-c2749e40e7303a7acfbd7d12b6c26d74.jpg"></p><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_prK2" id="linux-装机"></a>Linux 装机<a class="hash-link" href="#linux-装机" title="Direct link to heading">#</a></h2><p>从一个镜像，到配置完好的开发环境，或者服务运行环境。</p><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_prK2" id="系统设置"></a>系统设置<a class="hash-link" href="#系统设置" title="Direct link to heading">#</a></h2><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_prK2" id="本地化"></a>本地化<a class="hash-link" href="#本地化" title="Direct link to heading">#</a></h3><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_prK2" id="用户管理"></a>用户管理<a class="hash-link" href="#用户管理" title="Direct link to heading">#</a></h2><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_prK2" id="添加用户"></a>添加用户<a class="hash-link" href="#添加用户" title="Direct link to heading">#</a></h3><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_prK2" id="删除用户"></a>删除用户<a class="hash-link" href="#删除用户" title="Direct link to heading">#</a></h3><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_prK2" id="修改密码"></a>修改密码<a class="hash-link" href="#修改密码" title="Direct link to heading">#</a></h3><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_prK2" id="身份切换"></a>身份切换<a class="hash-link" href="#身份切换" title="Direct link to heading">#</a></h3><p>比如执行poweroff需要切换到root</p><div class="mdxCodeBlock_1zKU"><div class="codeBlockContent_actS"><div tabindex="0" class="prism-code language-undefined codeBlock_tuNs thin-scrollbar"><div class="codeBlockLines_3uvA" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">su -</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">//Enter the root password </span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_2GIj">Copy</button></div></div><p>The last character is <code>#</code>, instead of <code>$</code> before you executing <code>su -</code>. <code>#</code> is the indicator of root account.</p><p>One solution is first switching to the root account. But to avoid switching, an alternative way is to use <code>sudo</code>. If you find an operation requires superuser permission, append <code>sudo</code> before that operation. First, you should add your account to the <code>sudo</code> group:</p><div class="mdxCodeBlock_1zKU"><div class="codeBlockContent_actS"><div tabindex="0" class="prism-code language-bash codeBlock_tuNs thin-scrollbar"><div class="codeBlockLines_3uvA" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token function" style="color:rgb(130, 170, 255)">su</span><span class="token plain"> -   </span><span class="token comment" style="color:rgb(105, 112, 152);font-style:italic"># we still need to switch to the root account first</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">adduser username </span><span class="token function" style="color:rgb(130, 170, 255)">sudo</span><span class="token plain">  </span><span class="token comment" style="color:rgb(105, 112, 152);font-style:italic"># change `username` to your user name</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token builtin class-name" style="color:rgb(255, 203, 107)">exit</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_2GIj">Copy</button></div></div><p><a href="https://blog.csdn.net/hello_1995/article/details/109222650" target="_blank" rel="noopener noreferrer">sudo: command not found 的解决方法</a></p><p>在 Linux 系统中，使用 sudo 命令时提示 “command not found”，首先执行以下命令看一下 /etc/sudoers.d 文件是否存在，</p><div class="mdxCodeBlock_1zKU"><div class="codeBlockContent_actS"><div tabindex="0" class="prism-code language-undefined codeBlock_tuNs thin-scrollbar"><div class="codeBlockLines_3uvA" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">find /etc/sudoers.d</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_2GIj">Copy</button></div></div><p>1、如果返回 No such file or directory，就说明你的系统没有安装sudo，下面是安装命令 ：</p><div class="mdxCodeBlock_1zKU"><div class="codeBlockContent_actS"><div tabindex="0" class="prism-code language-undefined codeBlock_tuNs thin-scrollbar"><div class="codeBlockLines_3uvA" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">apt-get install sudo</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_2GIj">Copy</button></div></div><p>如果提示 E: Unable to locate package sudo 的错误，先执行下面的命令：</p><div class="mdxCodeBlock_1zKU"><div class="codeBlockContent_actS"><div tabindex="0" class="prism-code language-undefined codeBlock_tuNs thin-scrollbar"><div class="codeBlockLines_3uvA" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">apt-get update</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_2GIj">Copy</button></div></div><p>Sudo group</p><div class="mdxCodeBlock_1zKU"><div class="codeBlockContent_actS"><div tabindex="0" class="prism-code language-undefined codeBlock_tuNs thin-scrollbar"><div class="codeBlockLines_3uvA" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">dys@bogon:~$ sudo apt install zsh</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">[sudo] password for dys:</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">dys is not in the sudoers file.  This incident will be reported.</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">dys@bogon:~$ su -</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">Password:</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">root@bogon:~# usermod -aG sudo dys</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">root@bogon:~# exit</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_2GIj">Copy</button></div></div><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_prK2" id="软件管理"></a>软件管理<a class="hash-link" href="#软件管理" title="Direct link to heading">#</a></h2><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_prK2" id="软件源数据源"></a>软件源/数据源<a class="hash-link" href="#软件源数据源" title="Direct link to heading">#</a></h3><p>换更快的数据源</p><p><a href="https://nju-projectn.github.io/ics-pa-gitbook/ics2020/0.3.html" target="_blank" rel="noopener noreferrer">https://nju-projectn.github.io/ics-pa-gitbook/ics2020/0.3.html</a></p><p>Debian换APT源：Setting APT source file</p><div class="mdxCodeBlock_1zKU"><div class="codeBlockContent_actS"><div tabindex="0" class="prism-code language-undefined codeBlock_tuNs thin-scrollbar"><div class="codeBlockLines_3uvA" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">bash -c &#x27;echo &quot;deb http://mirrors.tuna.tsinghua.edu.cn/debian/ stable main&quot; &gt; /etc/apt/sources.list&#x27;</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_2GIj">Copy</button></div></div><p>问题：</p><p><a href="https://chrisjean.com/fix-apt-get-update-the-following-signatures-couldnt-be-verified-because-the-public-key-is-not-available/" target="_blank" rel="noopener noreferrer">https://chrisjean.com/fix-apt-get-update-the-following-signatures-couldnt-be-verified-because-the-public-key-is-not-available/</a></p><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_prK2" id="安装工具"></a>安装工具<a class="hash-link" href="#安装工具" title="Direct link to heading">#</a></h3><p>apt与apt-get命令的区别</p><h4><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_prK2" id="apt"></a>apt<a class="hash-link" href="#apt" title="Direct link to heading">#</a></h4><h5><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_prK2" id="数据源"></a>数据源<a class="hash-link" href="#数据源" title="Direct link to heading">#</a></h5><h5><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_prK2" id="数据源文件"></a>数据源文件<a class="hash-link" href="#数据源文件" title="Direct link to heading">#</a></h5><p>/etc/apt/sources.list</p><p>/etc/apt/sourdces.list.d：</p><p>该文件夹下的文件是第三方软件的源，可以分别存放不同的第三源地址，只需“扩展名”为list即可，更新后使用命令：<code>apt-get update</code>更新一下软件源。</p><p>两者区别参考 <a href="https://stackoverflow.com/questions/26020917/what-is-the-function-of-etc-apt-sources-list-d" target="_blank" rel="noopener noreferrer">https://stackoverflow.com/questions/26020917/what-is-the-function-of-etc-apt-sources-list-d</a></p><ul><li>[ ]文件格式的具体介绍：</li></ul><p>参考 <a href="https://blog.csdn.net/gong_xucheng/article/details/53886271" target="_blank" rel="noopener noreferrer">https://blog.csdn.net/gong_xucheng/article/details/53886271</a></p><h5><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_prK2" id="修改和添加数据源"></a>修改和添加数据源<a class="hash-link" href="#修改和添加数据源" title="Direct link to heading">#</a></h5><p>修改 /etc/apt/sources.list文件 添加源list文件到 /etc/apt/sourdces.list.d</p><h5><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_prK2" id="修改完成生效"></a>修改完成生效<a class="hash-link" href="#修改完成生效" title="Direct link to heading">#</a></h5><div class="mdxCodeBlock_1zKU"><div class="codeBlockContent_actS"><div tabindex="0" class="prism-code language-undefined codeBlock_tuNs thin-scrollbar"><div class="codeBlockLines_3uvA" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">apt-get update</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_2GIj">Copy</button></div></div><h4><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_prK2" id="apt和apt-get的区别"></a>apt和apt-get的区别<a class="hash-link" href="#apt和apt-get的区别" title="Direct link to heading">#</a></h4><p><a href="https://www.sysgeek.cn/linux-package-management/" target="_blank" rel="noopener noreferrer">Linux软件包管理基本操作入门</a></p><p><a href="https://www.sysgeek.cn/apt-vs-apt-get/" target="_blank" rel="noopener noreferrer">Linux中apt与apt-get命令的区别与解释</a></p><p>Debian 使用一套名为 <a href="https://wiki.debian.org/Apt" target="_blank" rel="noopener noreferrer">Advanced Packaging Tool</a>（APT）的工具来管理这种包系统。</p><p>在基于 Debian 的 Linux 发行版中，有各种工具可以与 APT 进行交互，以方便用户安装、删除和管理的软件包。apt-get 便是其中一款广受欢迎的命令行工具，另外一款较为流行的是 <a href="https://wiki.debian.org/Aptitude?action=show&amp;redirect=aptitude" target="_blank" rel="noopener noreferrer">Aptitude</a> 这一命令行与 GUI 兼顾的小工具。</p><p>也就是说：</p><p>apt-get 和 Aptitude 只是两个命令行工具。</p><p>最常用的 Linux 包管理命令都被分散在了 apt-get、apt-cache 和 apt-config 这三条命令当中。</p><p>apt 命令的引入就是为了解决命令过于分散的问题。简单来说就是：apt = apt-get、apt-cache 和 apt-config 中最常用命令选项的集合。</p><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_prK2" id="软件安装"></a>软件安装<a class="hash-link" href="#软件安装" title="Direct link to heading">#</a></h3><p>一般步骤：以nodejs为例</p><ol><li>下载</li></ol><div class="mdxCodeBlock_1zKU"><div class="codeBlockContent_actS"><div tabindex="0" class="prism-code language-undefined codeBlock_tuNs thin-scrollbar"><div class="codeBlockLines_3uvA" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">wget -c https://npm.taobao.org/mirrors/node/v16.4.0/node-v16.4.0.tar.gz</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_2GIj">Copy</button></div></div><ol start="2"><li>解压</li></ol><div class="mdxCodeBlock_1zKU"><div class="codeBlockContent_actS"><div tabindex="0" class="prism-code language-undefined codeBlock_tuNs thin-scrollbar"><div class="codeBlockLines_3uvA" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">tar -zvxf node-v16.4.0.tar.gz</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_2GIj">Copy</button></div></div><ol start="3"><li>configure</li></ol><div class="mdxCodeBlock_1zKU"><div class="codeBlockContent_actS"><div tabindex="0" class="prism-code language-undefined codeBlock_tuNs thin-scrollbar"><div class="codeBlockLines_3uvA" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">./configure --prefix=/usr/local/nodejs</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_2GIj">Copy</button></div></div><p>prefix是配置安装路径</p><ol start="4"><li>make</li></ol><div class="mdxCodeBlock_1zKU"><div class="codeBlockContent_actS"><div tabindex="0" class="prism-code language-undefined codeBlock_tuNs thin-scrollbar"><div class="codeBlockLines_3uvA" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">make -j 4 &amp;&amp; sudo make install</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_2GIj">Copy</button></div></div><p>-j 是为了使用多线程。</p><ol start="5"><li>更新环境变量</li></ol><ul><li><p>添加PATH ~/.bashrc</p></li><li><p>更新source</p></li></ul><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_prK2" id="软件升级"></a>软件升级<a class="hash-link" href="#软件升级" title="Direct link to heading">#</a></h3><p>升级软件不升级指定软件
升级全部软件
升级某一个软件</p><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_prK2" id="软件删除"></a>软件删除<a class="hash-link" href="#软件删除" title="Direct link to heading">#</a></h3><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_prK2" id="常用软件"></a>常用软件<a class="hash-link" href="#常用软件" title="Direct link to heading">#</a></h2><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_prK2" id="vsftp"></a>vsftp<a class="hash-link" href="#vsftp" title="Direct link to heading">#</a></h3><p>修改用户密码：如oracle 的密码，可直接输入passwd oracle.</p><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_prK2" id="卸载vsftp"></a>卸载vsftp<a class="hash-link" href="#卸载vsftp" title="Direct link to heading">#</a></h3><div class="mdxCodeBlock_1zKU"><div class="codeBlockContent_actS"><div tabindex="0" class="prism-code language-undefined codeBlock_tuNs thin-scrollbar"><div class="codeBlockLines_3uvA" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">sudo apt-get remove --purge vsftpd</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_2GIj">Copy</button></div></div><p>(--purge 选项表示彻底删除改软件和相关文件)</p><p>添加 userlist_enable=YES
这行后必须添加：/etc/vsftpd.user_list 默认是这个，可以修改，修改配置如下
userlist_file=/etc/vsftpd.user_list
一个用户名一行
Ftp登录报：
530 Login incorrect.</p><hr><p>注意debian的配置修改：被这个坑了好久</p><p>默认是：
pam_service_name=vsftpd
修改为：
pam_service_name=ftp</p><p>注意：安装好之后新添加的用户想用ftp登陆最小的改动就是修改这个，这个最重要！</p><hr><p>/etc/ftpusers  这里面都是被禁止的用户，所以root不能登录！</p><div class="mdxCodeBlock_1zKU"><div class="codeBlockContent_actS"><div tabindex="0" class="prism-code language-undefined codeBlock_tuNs thin-scrollbar"><div class="codeBlockLines_3uvA" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">root@vultr:/etc# cat ftpusers # /etc/ftpusers: list of users disallowed FTP access. See ftpusers(5).rootdaemonbinsyssyncgamesmanlpmailnewsuucpnobody</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_2GIj">Copy</button></div></div><p>想登陆必须修改这个文件，或者添加用户！</p><p>查看当前系统用户：</p><p>root@vultr:/etc# cat passwd</p><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_prK2" id="1：登录ftp-服务器"></a>1：登录ftp 服务器<a class="hash-link" href="#1：登录ftp-服务器" title="Direct link to heading">#</a></h3><div class="mdxCodeBlock_1zKU"><div class="codeBlockContent_actS"><div tabindex="0" class="prism-code language-undefined codeBlock_tuNs thin-scrollbar"><div class="codeBlockLines_3uvA" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">localhost:~ dingyusong$ ftp 128.199.181.154Connected to 128.199.181.154.220 (vsFTPd 2.3.5)Name (128.199.181.154:dingyusong): dys331 Please specify the password.Password:230 Login successful.Remote system type is UNIX.Using binary mode to transfer files.</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_2GIj">Copy</button></div></div><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_prK2" id="2：ftp下载文件到本地"></a>2：ftp下载文件到本地<a class="hash-link" href="#2：ftp下载文件到本地" title="Direct link to heading">#</a></h3><div class="mdxCodeBlock_1zKU"><div class="codeBlockContent_actS"><div tabindex="0" class="prism-code language-shell codeBlock_tuNs thin-scrollbar"><div class="codeBlockLines_3uvA" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">ftp</span><span class="token operator" style="color:rgb(137, 221, 255)">&gt;</span><span class="token plain"> get id_rsa.pub rsa.publocal: rsa.pub remote: id_rsa.pub229 Entering Extended Passive Mode </span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token operator" style="color:rgb(137, 221, 255)">||</span><span class="token operator" style="color:rgb(137, 221, 255)">|</span><span class="token number" style="color:rgb(247, 140, 108)">53322</span><span class="token operator" style="color:rgb(137, 221, 255)">|</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain">.150 Opening BINARY mode data connection </span><span class="token keyword" style="font-style:italic">for</span><span class="token plain"> id_rsa.pub </span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token number" style="color:rgb(247, 140, 108)">422</span><span class="token plain"> bytes</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain">.100% </span><span class="token operator" style="color:rgb(137, 221, 255)">|</span><span class="token plain">***</span><span class="token operator" style="color:rgb(137, 221, 255)">|</span><span class="token plain">   </span><span class="token number" style="color:rgb(247, 140, 108)">422</span><span class="token plain">      </span><span class="token number" style="color:rgb(247, 140, 108)">773.18</span><span class="token plain"> KiB/s    00:00 ETA226 Transfer complete.422 bytes received </span><span class="token keyword" style="font-style:italic">in</span><span class="token plain"> 00:00 </span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token number" style="color:rgb(247, 140, 108)">2.33</span><span class="token plain"> KiB/s</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_2GIj">Copy</button></div></div><p>3：ftp上传文件到服务器</p><div class="mdxCodeBlock_1zKU"><div class="codeBlockContent_actS"><div tabindex="0" class="prism-code language-shell codeBlock_tuNs thin-scrollbar"><div class="codeBlockLines_3uvA" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">第一次失败了ftp</span><span class="token operator" style="color:rgb(137, 221, 255)">&gt;</span><span class="token plain"> put /Users/dingyusong/Desktop/爱理财.rtf test.rtflocal: /Users/dingyusong/Desktop/爱理财.rtf remote: test.rtf229 Entering Extended Passive Mode </span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token operator" style="color:rgb(137, 221, 255)">||</span><span class="token operator" style="color:rgb(137, 221, 255)">|</span><span class="token number" style="color:rgb(247, 140, 108)">7249</span><span class="token operator" style="color:rgb(137, 221, 255)">|</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain">.550 Permission denied.ftp</span><span class="token operator" style="color:rgb(137, 221, 255)">&gt;</span><span class="token plain">/etc/vsftp.conf中的</span><span class="token comment" style="color:rgb(105, 112, 152);font-style:italic">#write_enable=YES 必须打开，这是全局写开关。修改完成之后重启服务。553 Could not create file.root@vultr:~# cd /home/root@vultr:/home# mkdir vsftproot@vultr:/home# chmod -R 777 vsftp//etc/vsftpd.conf 添加：local_root=/home/vsftproot@vultr:/home# service vsftpd restartroot@vultr:/home# lsftp  test  vsftproot@vultr:/home# cd vsftp/root@vultr:/home/vsftp# lscodeTemp.hroot@vultr:/home/vsftp# cat codeTemp.hroot@vultr:/home/vsftp# lscodeTemp.hroot@vultr:/home/vsftp# mkdir ios_onegoldroot@vultr:/home/vsftp# cd ios_onegold/root@vultr:/home/vsftp/ios_onegold# mkdir testroot@vultr:/home/vsftp/ios_onegold# pwd/home/vsftp/ios_onegoldroot@vultr:/home/vsftp/ios_onegold# cd test/root@vultr:/home/vsftp/ios_onegold/test# pwd/home/vsftp/ios_onegold/testroot@vultr:/home/vsftp/ios_onegold/test# cd ..root@vultr:/home/vsftp/ios_onegold# cd ..root@vultr:/home/vsftp# chmod -R 777 ios_onegold/root@vultr:/home/vsftp# cd ios_onegold/root@vultr:/home/vsftp/ios_onegold# chmod -R 777 test/root@vultr:/home/vsftp/ios_onegold# cd test/root@vultr:/home/vsftp/ios_onegold/test# ls20171108171504.iparoot@vultr:/home/vsftp/ios_onegold/test#用户上传的文件夹要在存在切权限可写。</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_2GIj">Copy</button></div></div><p>4：切换到根目录修改配置文件</p><div class="mdxCodeBlock_1zKU"><div class="codeBlockContent_actS"><div tabindex="0" class="prism-code language-shell codeBlock_tuNs thin-scrollbar"><div class="codeBlockLines_3uvA" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">dys@song:/etc$ </span><span class="token function" style="color:rgb(130, 170, 255)">vi</span><span class="token plain"> vsftpd.confdys@song:/etc$ suPassword:root@song:/etc</span><span class="token comment" style="color:rgb(105, 112, 152);font-style:italic"># vi vsftpd.confroot@song:/etc# /etc/init.d/vsftpd restart #重启Stopping FTP server: vsftpd.Starting FTP server: vsftpd.//允许用户上传文件Uncomment this to enable any form of FTP write command.write_enable=YES</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_2GIj">Copy</button></div></div><p>5:ftp 上传文件成功</p><div class="mdxCodeBlock_1zKU"><div class="codeBlockContent_actS"><div tabindex="0" class="prism-code language-shell codeBlock_tuNs thin-scrollbar"><div class="codeBlockLines_3uvA" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">ftp</span><span class="token operator" style="color:rgb(137, 221, 255)">&gt;</span><span class="token plain"> put /Users/dingyusong/Desktop/爱理财.rtf test.rtflocal: /Users/dingyusong/Desktop/爱理财.rtf remote: test.rtf229 Entering Extended Passive Mode </span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token operator" style="color:rgb(137, 221, 255)">||</span><span class="token operator" style="color:rgb(137, 221, 255)">|</span><span class="token number" style="color:rgb(247, 140, 108)">41193</span><span class="token operator" style="color:rgb(137, 221, 255)">|</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain">.150 Ok to send data.100% </span><span class="token operator" style="color:rgb(137, 221, 255)">|</span><span class="token plain">***</span><span class="token operator" style="color:rgb(137, 221, 255)">|</span><span class="token plain">  </span><span class="token number" style="color:rgb(247, 140, 108)">6179</span><span class="token plain">      </span><span class="token number" style="color:rgb(247, 140, 108)">781.12</span><span class="token plain"> KiB/s    00:00 ETA226 Transfer complete.6179 bytes sent </span><span class="token keyword" style="font-style:italic">in</span><span class="token plain"> 00:00 </span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token number" style="color:rgb(247, 140, 108)">10.20</span><span class="token plain"> KiB/s</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain">ftp</span><span class="token operator" style="color:rgb(137, 221, 255)">&gt;</span><span class="token plain"> ls229 Entering Extended Passive Mode </span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token operator" style="color:rgb(137, 221, 255)">||</span><span class="token operator" style="color:rgb(137, 221, 255)">|</span><span class="token number" style="color:rgb(247, 140, 108)">31194</span><span class="token operator" style="color:rgb(137, 221, 255)">|</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain">.150 Here comes the directory listing.-rw-r--r--    </span><span class="token number" style="color:rgb(247, 140, 108)">1</span><span class="token plain"> </span><span class="token number" style="color:rgb(247, 140, 108)">1002</span><span class="token plain">     </span><span class="token number" style="color:rgb(247, 140, 108)">1002</span><span class="token plain">          </span><span class="token number" style="color:rgb(247, 140, 108)">422</span><span class="token plain"> May </span><span class="token number" style="color:rgb(247, 140, 108)">24</span><span class="token plain"> 00:42 id_rsa.pub-rw-------    </span><span class="token number" style="color:rgb(247, 140, 108)">1</span><span class="token plain"> </span><span class="token number" style="color:rgb(247, 140, 108)">1002</span><span class="token plain">     </span><span class="token number" style="color:rgb(247, 140, 108)">1002</span><span class="token plain">         </span><span class="token number" style="color:rgb(247, 140, 108)">6179</span><span class="token plain"> May </span><span class="token number" style="color:rgb(247, 140, 108)">31</span><span class="token plain"> 09:03 test.rtf226 Directory send OK.ftp</span><span class="token operator" style="color:rgb(137, 221, 255)">&gt;</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_2GIj">Copy</button></div></div><p>6:查看vsftp服务器的端口</p><p>安装防火墙</p><div class="mdxCodeBlock_1zKU"><div class="codeBlockContent_actS"><div tabindex="0" class="prism-code language-shell codeBlock_tuNs thin-scrollbar"><div class="codeBlockLines_3uvA" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">root@song:/etc/init.d</span><span class="token comment" style="color:rgb(105, 112, 152);font-style:italic"># apt-get install iptablesReading package lists... DoneBuilding dependency treeReading state information... Doneiptables is already the newest version.0 upgraded, 0 newly installed, 0 to remove and 0 not upgraded.root@song:/etc/init.d# service iptables statusiptables: unrecognized service</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_2GIj">Copy</button></div></div><p>查看防火墙规则列表</p><div class="mdxCodeBlock_1zKU"><div class="codeBlockContent_actS"><div tabindex="0" class="prism-code language-shell codeBlock_tuNs thin-scrollbar"><div class="codeBlockLines_3uvA" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">root@song:/etc/init.d</span><span class="token comment" style="color:rgb(105, 112, 152);font-style:italic"># iptables -LChain INPUT (policy ACCEPT)target     prot opt source               destinationChain FORWARD (policy ACCEPT)target     prot opt source               destinationChain OUTPUT (policy ACCEPT)target     prot opt source               destination</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_2GIj">Copy</button></div></div><p>添加防火墙出口规则</p><div class="mdxCodeBlock_1zKU"><div class="codeBlockContent_actS"><div tabindex="0" class="prism-code language-shell codeBlock_tuNs thin-scrollbar"><div class="codeBlockLines_3uvA" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">root@song:~</span><span class="token comment" style="color:rgb(105, 112, 152);font-style:italic"># iptables -A INPUT -p tcp --dport 21 -j ACCEPTroot@song:~#root@song:~# iptables -L -nChain INPUT (policy ACCEPT)target     prot opt source               destinationACCEPT     tcp  --  0.0.0.0/0            0.0.0.0/0            tcp dpt:21Chain FORWARD (policy ACCEPT)target     prot opt source               destinationChain OUTPUT (policy ACCEPT)target     prot opt source               destination</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_2GIj">Copy</button></div></div><p>6：上传文件</p><p>用户名密码要写对！</p><div class="mdxCodeBlock_1zKU"><div class="codeBlockContent_actS"><div tabindex="0" class="prism-code language-shell codeBlock_tuNs thin-scrollbar"><div class="codeBlockLines_3uvA" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">localhost:Desktop dingyusong$ upload.py-bash: upload.py: </span><span class="token builtin class-name" style="color:rgb(255, 203, 107)">command</span><span class="token plain"> not foundlocalhost:Desktop dingyusong$ py uploa.py-bash: py: </span><span class="token builtin class-name" style="color:rgb(255, 203, 107)">command</span><span class="token plain"> not foundlocalhost:Desktop dingyusong$ ./uploa.py-bash: ./uploa.py: Permission deniedlocalhost:Desktop dingyusong$ python uploa.pyios/testget </span><span class="token string" style="color:rgb(195, 232, 141)">&#x27;220 (vsFTPd 2.3.5)</span><span class="token string entity" style="color:rgb(195, 232, 141)">\r</span><span class="token string entity" style="color:rgb(195, 232, 141)">\n</span><span class="token string" style="color:rgb(195, 232, 141)">&#x27;</span><span class="token plain">resp </span><span class="token string" style="color:rgb(195, 232, 141)">&#x27;220 (vsFTPd 2.3.5)&#x27;</span><span class="token plain">cmd </span><span class="token string" style="color:rgb(195, 232, 141)">&#x27;USER dys&#x27;</span><span class="token plain">put </span><span class="token string" style="color:rgb(195, 232, 141)">&#x27;USER dys</span><span class="token string entity" style="color:rgb(195, 232, 141)">\r</span><span class="token string entity" style="color:rgb(195, 232, 141)">\n</span><span class="token string" style="color:rgb(195, 232, 141)">&#x27;</span><span class="token plain">get </span><span class="token string" style="color:rgb(195, 232, 141)">&#x27;331 Please specify the password.</span><span class="token string entity" style="color:rgb(195, 232, 141)">\r</span><span class="token string entity" style="color:rgb(195, 232, 141)">\n</span><span class="token string" style="color:rgb(195, 232, 141)">&#x27;</span><span class="token plain">resp </span><span class="token string" style="color:rgb(195, 232, 141)">&#x27;331 Please specify the password.&#x27;</span><span class="token plain">cmd </span><span class="token string" style="color:rgb(195, 232, 141)">&#x27;PASS &#x27;</span><span class="token plain">put </span><span class="token string" style="color:rgb(195, 232, 141)">&#x27;PASS </span><span class="token string entity" style="color:rgb(195, 232, 141)">\r</span><span class="token string entity" style="color:rgb(195, 232, 141)">\n</span><span class="token string" style="color:rgb(195, 232, 141)">&#x27;</span><span class="token plain">get </span><span class="token string" style="color:rgb(195, 232, 141)">&#x27;530 Login incorrect.</span><span class="token string entity" style="color:rgb(195, 232, 141)">\r</span><span class="token string entity" style="color:rgb(195, 232, 141)">\n</span><span class="token string" style="color:rgb(195, 232, 141)">&#x27;</span><span class="token plain">resp </span><span class="token string" style="color:rgb(195, 232, 141)">&#x27;530 Login incorrect.&#x27;</span><span class="token plain">Traceback </span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token plain">most recent call last</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain">:File </span><span class="token string" style="color:rgb(195, 232, 141)">&quot;uploa.py&quot;</span><span class="token plain">, line </span><span class="token number" style="color:rgb(247, 140, 108)">21</span><span class="token plain">, inftp.login</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token string" style="color:rgb(195, 232, 141)">&#x27;dys&#x27;</span><span class="token plain">,</span><span class="token string" style="color:rgb(195, 232, 141)">&#x27;dys53590&#x27;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain">File </span><span class="token string" style="color:rgb(195, 232, 141)">&quot;/System/Library/Frameworks/Python.framework/Versions/2.7/lib/python2.7/ftplib.py&quot;</span><span class="token plain">, line </span><span class="token number" style="color:rgb(247, 140, 108)">393</span><span class="token plain">, </span><span class="token keyword" style="font-style:italic">in</span><span class="token plain"> loginif resp</span><span class="token punctuation" style="color:rgb(199, 146, 234)">[</span><span class="token number" style="color:rgb(247, 140, 108)">0</span><span class="token punctuation" style="color:rgb(199, 146, 234)">]</span><span class="token plain"> </span><span class="token operator" style="color:rgb(137, 221, 255)">==</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&#x27;3&#x27;</span><span class="token builtin class-name" style="color:rgb(255, 203, 107)">:</span><span class="token plain"> resp </span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token plain"> self.sendcmd</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token string" style="color:rgb(195, 232, 141)">&#x27;PASS &#x27;</span><span class="token plain"> + </span><span class="token function" style="color:rgb(130, 170, 255)">passwd</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain">File </span><span class="token string" style="color:rgb(195, 232, 141)">&quot;/System/Library/Frameworks/Python.framework/Versions/2.7/lib/python2.7/ftplib.py&quot;</span><span class="token plain">, line </span><span class="token number" style="color:rgb(247, 140, 108)">249</span><span class="token plain">, </span><span class="token keyword" style="font-style:italic">in</span><span class="token plain"> sendcmdreturn self.getresp</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain">File </span><span class="token string" style="color:rgb(195, 232, 141)">&quot;/System/Library/Frameworks/Python.framework/Versions/2.7/lib/python2.7/ftplib.py&quot;</span><span class="token plain">, line </span><span class="token number" style="color:rgb(247, 140, 108)">224</span><span class="token plain">, </span><span class="token keyword" style="font-style:italic">in</span><span class="token plain"> getrespraise error_perm, respftplib.error_perm: </span><span class="token number" style="color:rgb(247, 140, 108)">530</span><span class="token plain"> Login incorrect.</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_2GIj">Copy</button></div></div><p>用户名密码写对就好了</p><div class="mdxCodeBlock_1zKU"><div class="codeBlockContent_actS"><div tabindex="0" class="prism-code language-shell codeBlock_tuNs thin-scrollbar"><div class="codeBlockLines_3uvA" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">localhost:Desktop dingyusong$ python uploa.pyios/testget </span><span class="token string" style="color:rgb(195, 232, 141)">&#x27;220 (vsFTPd 2.3.5)</span><span class="token string entity" style="color:rgb(195, 232, 141)">\r</span><span class="token string entity" style="color:rgb(195, 232, 141)">\n</span><span class="token string" style="color:rgb(195, 232, 141)">&#x27;</span><span class="token plain">resp </span><span class="token string" style="color:rgb(195, 232, 141)">&#x27;220 (vsFTPd 2.3.5)&#x27;</span><span class="token plain">cmd </span><span class="token string" style="color:rgb(195, 232, 141)">&#x27;USER dys&#x27;</span><span class="token plain">put </span><span class="token string" style="color:rgb(195, 232, 141)">&#x27;USER dys</span><span class="token string entity" style="color:rgb(195, 232, 141)">\r</span><span class="token string entity" style="color:rgb(195, 232, 141)">\n</span><span class="token string" style="color:rgb(195, 232, 141)">&#x27;</span><span class="token plain">get </span><span class="token string" style="color:rgb(195, 232, 141)">&#x27;331 Please specify the password.</span><span class="token string entity" style="color:rgb(195, 232, 141)">\r</span><span class="token string entity" style="color:rgb(195, 232, 141)">\n</span><span class="token string" style="color:rgb(195, 232, 141)">&#x27;</span><span class="token plain">resp </span><span class="token string" style="color:rgb(195, 232, 141)">&#x27;331 Please specify the password.&#x27;</span><span class="token plain">cmd </span><span class="token string" style="color:rgb(195, 232, 141)">&#x27;PASS &#x27;</span><span class="token plain">put </span><span class="token string" style="color:rgb(195, 232, 141)">&#x27;PASS </span><span class="token string entity" style="color:rgb(195, 232, 141)">\r</span><span class="token string entity" style="color:rgb(195, 232, 141)">\n</span><span class="token string" style="color:rgb(195, 232, 141)">&#x27;</span><span class="token plain">get </span><span class="token string" style="color:rgb(195, 232, 141)">&#x27;230 Login successful.</span><span class="token string entity" style="color:rgb(195, 232, 141)">\r</span><span class="token string entity" style="color:rgb(195, 232, 141)">\n</span><span class="token string" style="color:rgb(195, 232, 141)">&#x27;</span><span class="token plain">resp </span><span class="token string" style="color:rgb(195, 232, 141)">&#x27;230 Login successful.&#x27;</span><span class="token plain">cmd </span><span class="token string" style="color:rgb(195, 232, 141)">&#x27;TYPE I&#x27;</span><span class="token plain">put </span><span class="token string" style="color:rgb(195, 232, 141)">&#x27;TYPE I</span><span class="token string entity" style="color:rgb(195, 232, 141)">\r</span><span class="token string entity" style="color:rgb(195, 232, 141)">\n</span><span class="token string" style="color:rgb(195, 232, 141)">&#x27;</span><span class="token plain">get </span><span class="token string" style="color:rgb(195, 232, 141)">&#x27;200 Switching to Binary mode.</span><span class="token string entity" style="color:rgb(195, 232, 141)">\r</span><span class="token string entity" style="color:rgb(195, 232, 141)">\n</span><span class="token string" style="color:rgb(195, 232, 141)">&#x27;</span><span class="token plain">resp </span><span class="token string" style="color:rgb(195, 232, 141)">&#x27;200 Switching to Binary mode.&#x27;</span><span class="token plain">cmd </span><span class="token string" style="color:rgb(195, 232, 141)">&#x27;PASV&#x27;</span><span class="token plain">put </span><span class="token string" style="color:rgb(195, 232, 141)">&#x27;PASV</span><span class="token string entity" style="color:rgb(195, 232, 141)">\r</span><span class="token string entity" style="color:rgb(195, 232, 141)">\n</span><span class="token string" style="color:rgb(195, 232, 141)">&#x27;</span><span class="token plain">get </span><span class="token string" style="color:rgb(195, 232, 141)">&#x27;227 Entering Passive Mode (128,199,181,154,79,58).</span><span class="token string entity" style="color:rgb(195, 232, 141)">\r</span><span class="token string entity" style="color:rgb(195, 232, 141)">\n</span><span class="token string" style="color:rgb(195, 232, 141)">&#x27;</span><span class="token plain">resp </span><span class="token string" style="color:rgb(195, 232, 141)">&#x27;227 Entering Passive Mode (128,199,181,154,79,58).&#x27;</span><span class="token plain">cmd </span><span class="token string" style="color:rgb(195, 232, 141)">&#x27;STOR 20150531180054.ipa&#x27;</span><span class="token plain">put </span><span class="token string" style="color:rgb(195, 232, 141)">&#x27;STOR 20150531180054.ipa</span><span class="token string entity" style="color:rgb(195, 232, 141)">\r</span><span class="token string entity" style="color:rgb(195, 232, 141)">\n</span><span class="token string" style="color:rgb(195, 232, 141)">&#x27;</span><span class="token plain">get </span><span class="token string" style="color:rgb(195, 232, 141)">&#x27;150 Ok to send data.</span><span class="token string entity" style="color:rgb(195, 232, 141)">\r</span><span class="token string entity" style="color:rgb(195, 232, 141)">\n</span><span class="token string" style="color:rgb(195, 232, 141)">&#x27;</span><span class="token plain">resp </span><span class="token string" style="color:rgb(195, 232, 141)">&#x27;150 Ok to send data.&#x27;</span><span class="token plain">get </span><span class="token string" style="color:rgb(195, 232, 141)">&#x27;226 Transfer complete.</span><span class="token string entity" style="color:rgb(195, 232, 141)">\r</span><span class="token string entity" style="color:rgb(195, 232, 141)">\n</span><span class="token string" style="color:rgb(195, 232, 141)">&#x27;</span><span class="token plain">resp </span><span class="token string" style="color:rgb(195, 232, 141)">&#x27;226 Transfer complete.&#x27;</span><span class="token plain">Upload Success</span><span class="token operator" style="color:rgb(137, 221, 255)">!</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_2GIj">Copy</button></div></div><p>无访问权限
<a href="http://128.199.181.154/GoldWallet.ipa" target="_blank" rel="noopener noreferrer">http://128.199.181.154/GoldWallet.ipa</a>
Apache: You don&#x27;t have permission to access / on this server</p><p>添加访问权限
root@song:/var/www# chmod 755 GoldWallet.ipa</p><p>apache 根目录
/var/www</p><ul><li>安装vsftp</li></ul><p>apt-get update
apt-get install vsftpd</p><ul><li>vsftp客户端</li></ul><p>FileZilla
<a href="https://filezilla-project.org/download.php?type=client" target="_blank" rel="noopener noreferrer">https://filezilla-project.org/download.php?type=client</a></p><p>vsftp的配置文件：</p><div class="mdxCodeBlock_1zKU"><div class="codeBlockContent_actS"><div tabindex="0" class="prism-code language-shell codeBlock_tuNs thin-scrollbar"><div class="codeBlockLines_3uvA" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">root@vultr:~</span><span class="token comment" style="color:rgb(105, 112, 152);font-style:italic"># cat /etc/vsftpd.confExample config file /etc/vsftpd.confThe default compiled in settings are fairly paranoid. This sample fileloosens things up a bit, to make the ftp daemon more usable.Please see vsftpd.conf.5 for all compiled in defaults.READ THIS: This example file is NOT an exhaustive list of vsftpd options.Please read the vsftpd.conf.5 manual page to get a full idea of vsftpd&#x27;scapabilities.Run standalone?  vsftpd can run either from an inetd or as a standalonedaemon started from an initscript.listen=NOThis directive enables listening on IPv6 sockets. By default, listeningon the IPv6 &quot;any&quot; address (::) will accept connections from both IPv6and IPv4 clients. It is not necessary to listen on both IPv4 and IPv6sockets. If you want that (perhaps because you want to listen on specificaddresses) then you must run two copies of vsftpd with two configurationfiles.listen_ipv6=YESAllow anonymous FTP? (Disabled by default).anonymous_enable=NOUncomment this to allow local users to log in.local_enable=YESUncomment this to enable any form of FTP write command.#write_enable=YESDefault umask for local users is 077. You may wish to change this to 022,if your users expect that (022 is used by most other ftpd&#x27;s)#local_umask=022Uncomment this to allow the anonymous FTP user to upload files. This onlyhas an effect if the above global write enable is activated. Also, you willobviously need to create a directory writable by the FTP user.#anon_upload_enable=YESUncomment this if you want the anonymous FTP user to be able to createnew directories.#anon_mkdir_write_enable=YESActivate directory messages - messages given to remote users when theygo into a certain directory.dirmessage_enable=YESIf enabled, vsftpd will display directory listings with the timein  your  local  time  zone.  The default is to display GMT. Thetimes returned by the MDTM FTP command are also affected by thisoption.use_localtime=YESActivate logging of uploads/downloads.xferlog_enable=YESMake sure PORT transfer connections originate from port 20 (ftp-data).connect_from_port_20=YESIf you want, you can arrange for uploaded anonymous files to be owned bya different user. Note! Using &quot;root&quot; for uploaded files is notrecommended!#chown_uploads=YES#chown_username=whoeverYou may override where the log file goes if you like. The default is shownbelow.#xferlog_file=/var/log/vsftpd.logIf you want, you can have your log file in standard ftpd xferlog format.Note that the default log file location is /var/log/xferlog in this case.#xferlog_std_format=YESYou may change the default value for timing out an idle session.#idle_session_timeout=600You may change the default value for timing out a data connection.#data_connection_timeout=120It is recommended that you define on your system a unique user which theftp server can use as a totally isolated and unprivileged user.#nopriv_user=ftpsecureEnable this and the server will recognise asynchronous ABOR requests. Notrecommended for security (the code is non-trivial). Not enabling it,however, may confuse older FTP clients.#async_abor_enable=YESBy default the server will pretend to allow ASCII mode but in fact ignorethe request. Turn on the below options to have the server actually do ASCIImangling on files when in ASCII mode.Beware that on some FTP servers, ASCII support allows a denial of serviceattack (DoS) via the command &quot;SIZE /big/file&quot; in ASCII mode. vsftpdpredicted this attack and has always been safe, reporting the size of theraw file.ASCII mangling is a horrible feature of the protocol.#ascii_upload_enable=YES#ascii_download_enable=YESYou may fully customise the login banner string:#ftpd_banner=Welcome to blah FTP service.You may specify a file of disallowed anonymous e-mail addresses. Apparentlyuseful for combatting certain DoS attacks.#deny_email_enable=YES(default follows)#banned_email_file=/etc/vsftpd.banned_emailsYou may restrict local users to their home directories.  See the FAQ forthe possible risks in this before using chroot_local_user orchroot_list_enable below.#chroot_local_user=YESYou may specify an explicit list of local users to chroot() to their homedirectory. If chroot_local_user is YES, then this list becomes a list ofusers to NOT chroot().(Warning! chroot&#x27;ing can be very dangerous. If using chroot, make sure thatthe user does not have write access to the top level directory within thechroot)#chroot_local_user=YES#chroot_list_enable=YES(default follows)#chroot_list_file=/etc/vsftpd.chroot_listYou may activate the &quot;-R&quot; option to the builtin ls. This is disabled bydefault to avoid remote users being able to cause excessive I/O on largesites. However, some broken FTP clients such as &quot;ncftp&quot; and &quot;mirror&quot; assumethe presence of the &quot;-R&quot; option, so there is a strong case for enabling it.#ls_recurse_enable=YESCustomizationSome of vsftpd&#x27;s settings don&#x27;t fit the filesystem layout bydefault.This option should be the name of a directory which is empty.  Also, thedirectory should not be writable by the ftp user. This directory is usedas a secure chroot() jail at times vsftpd does not require filesystemaccess.secure_chroot_dir=/var/run/vsftpd/emptyThis string is the name of the PAM service vsftpd will use.pam_service_name=vsftpdThis option specifies the location of the RSA certificate to use for SSLencrypted connections.rsa_cert_file=/etc/ssl/certs/ssl-cert-snakeoil.pemrsa_private_key_file=/etc/ssl/private/ssl-cert-snakeoil.keyssl_enable=NOUncomment this to indicate that vsftpd use a utf8 filesystem.#utf8_filesystem=YESroot@vultr:~#对vsftp配置文件的解释root@vultr:~# cat /etc/vsftpd.confExample config file /etc/vsftpd.confThe default compiled in settings are fairly paranoid. This sample fileloosens things up a bit, to make the ftp daemon more usable.Please see vsftpd.conf.5 for all compiled in defaults.READ THIS: This example file is NOT an exhaustive list of vsftpd options.Please read the vsftpd.conf.5 manual page to get a full idea of vsftpd&#x27;scapabilities.Run standalone?  vsftpd can run either from an inetd or as a standalonedaemon started from an initscript.listen=NOThis directive enables listening on IPv6 sockets. By default, listeningon the IPv6 &quot;any&quot; address (::) will accept connections from both IPv6and IPv4 clients. It is not necessary to listen on both IPv4 and IPv6sockets. If you want that (perhaps because you want to listen on specificaddresses) then you must run two copies of vsftpd with two configurationfiles.listen_ipv6=YESAllow anonymous FTP? (Disabled by default).anonymous_enable=NO// 是否允许匿名用户Uncomment this to allow local users to log in.local_enable=YESUncomment this to enable any form of FTP write command.#write_enable=YESDefault umask for local users is 077. You may wish to change this to 022,if your users expect that (022 is used by most other ftpd&#x27;s)#local_umask=022Uncomment this to allow the anonymous FTP user to upload files. This onlyhas an effect if the above global write enable is activated. Also, you willobviously need to create a directory writable by the FTP user.#anon_upload_enable=YESUncomment this if you want the anonymous FTP user to be able to createnew directories.#anon_mkdir_write_enable=YESActivate directory messages - messages given to remote users when theygo into a certain directory.dirmessage_enable=YESIf enabled, vsftpd will display directory listings with the timein  your  local  time  zone.  The default is to display GMT. Thetimes returned by the MDTM FTP command are also affected by thisoption.use_localtime=YESActivate logging of uploads/downloads.xferlog_enable=YESMake sure PORT transfer connections originate from port 20 (ftp-data).connect_from_port_20=YESIf you want, you can arrange for uploaded anonymous files to be owned bya different user. Note! Using &quot;root&quot; for uploaded files is notrecommended!#chown_uploads=YES#chown_username=whoeverYou may override where the log file goes if you like. The default is shownbelow.#xferlog_file=/var/log/vsftpd.logIf you want, you can have your log file in standard ftpd xferlog format.Note that the default log file location is /var/log/xferlog in this case.#xferlog_std_format=YESYou may change the default value for timing out an idle session.#idle_session_timeout=600You may change the default value for timing out a data connection.#data_connection_timeout=120It is recommended that you define on your system a unique user which theftp server can use as a totally isolated and unprivileged user.#nopriv_user=ftpsecureEnable this and the server will recognise asynchronous ABOR requests. Notrecommended for security (the code is non-trivial). Not enabling it,however, may confuse older FTP clients.#async_abor_enable=YESBy default the server will pretend to allow ASCII mode but in fact ignorethe request. Turn on the below options to have the server actually do ASCIImangling on files when in ASCII mode.Beware that on some FTP servers, ASCII support allows a denial of serviceattack (DoS) via the command &quot;SIZE /big/file&quot; in ASCII mode. vsftpdpredicted this attack and has always been safe, reporting the size of theraw file.ASCII mangling is a horrible feature of the protocol.#ascii_upload_enable=YES#ascii_download_enable=YESYou may fully customise the login banner string:#ftpd_banner=Welcome to blah FTP service.You may specify a file of disallowed anonymous e-mail addresses. Apparentlyuseful for combatting certain DoS attacks.#deny_email_enable=YES(default follows)#banned_email_file=/etc/vsftpd.banned_emailsYou may restrict local users to their home directories.  See the FAQ forthe possible risks in this before using chroot_local_user orchroot_list_enable below.#chroot_local_user=YESYou may specify an explicit list of local users to chroot() to their homedirectory. If chroot_local_user is YES, then this list becomes a list ofusers to NOT chroot().(Warning! chroot&#x27;ing can be very dangerous. If using chroot, make sure thatthe user does not have write access to the top level directory within thechroot)#chroot_local_user=YES#chroot_list_enable=YES(default follows)#chroot_list_file=/etc/vsftpd.chroot_listYou may activate the &quot;-R&quot; option to the builtin ls. This is disabled bydefault to avoid remote users being able to cause excessive I/O on largesites. However, some broken FTP clients such as &quot;ncftp&quot; and &quot;mirror&quot; assumethe presence of the &quot;-R&quot; option, so there is a strong case for enabling it.#ls_recurse_enable=YESCustomizationSome of vsftpd&#x27;s settings don&#x27;t fit the filesystem layout bydefault.This option should be the name of a directory which is empty.  Also, thedirectory should not be writable by the ftp user. This directory is usedas a secure chroot() jail at times vsftpd does not require filesystemaccess.secure_chroot_dir=/var/run/vsftpd/emptyThis string is the name of the PAM service vsftpd will use.pam_service_name=vsftpdThis option specifies the location of the RSA certificate to use for SSLencrypted connections.rsa_cert_file=/etc/ssl/certs/ssl-cert-snakeoil.pemrsa_private_key_file=/etc/ssl/private/ssl-cert-snakeoil.keyssl_enable=NOUncomment this to indicate that vsftpd use a utf8 filesystem.#utf8_filesystem=YESroot@vultr:~#</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_2GIj">Copy</button></div></div><p>新增两个用户 goldWallet   oneGold</p><p>1.创建原始配置文件/etc/vsftpd.conf 的备份</p><p>root@vultr:~# cp /etc/vsftpd.conf /etc/vsftpd.conf.orgi</p><p>2.修改配置文件 vi /etc/vsftpd.conf</p><p>write_enable=YES</p><p>添加访问白名单
userlist_enable=YES
userlist_deny=NO</p><p>onegold nxixi971990
goldwallet nxixi972017</p><p>将goldwallet添加到vsftpd.user_list里面，则只允许goldwallet访问失败：</p><p>Name (45.77.222.164:Ding): goldwallet
331 Please specify the password.
Password:
530 Login incorrect.
ftp: Login failed</p><p>onegold 不在vsftpd.user_list 里面则直接登录失败</p><p>Name (45.77.222.164:Ding): onegold
530 Permission denied.
ftp: Login failed
ftp&gt;</p><p>匿名也同样直接失败</p><div class="mdxCodeBlock_1zKU"><div class="codeBlockContent_actS"><div tabindex="0" class="prism-code language-shell codeBlock_tuNs thin-scrollbar"><div class="codeBlockLines_3uvA" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">Connected to </span><span class="token number" style="color:rgb(247, 140, 108)">45.77</span><span class="token plain">.222.164.220 </span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token plain">vsFTPd </span><span class="token number" style="color:rgb(247, 140, 108)">3.0</span><span class="token plain">.3</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain">Name </span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token number" style="color:rgb(247, 140, 108)">45.77</span><span class="token plain">.222.164:Ding</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain">:530 Permission denied.ftp: Login failedftp</span><span class="token operator" style="color:rgb(137, 221, 255)">&gt;</span><span class="token plain">root@vultr:/etc</span><span class="token comment" style="color:rgb(105, 112, 152);font-style:italic"># cat vsftpd.confExample config file /etc/vsftpd.confThe default compiled in settings are fairly paranoid. This sample fileloosens things up a bit, to make the ftp daemon more usable.Please see vsftpd.conf.5 for all compiled in defaults.READ THIS: This example file is NOT an exhaustive list of vsftpd options.Please read the vsftpd.conf.5 manual page to get a full idea of vsftpd&#x27;scapabilities.Run standalone?  vsftpd can run either from an inetd or as a standalonedaemon started from an initscript.listen=NOThis directive enables listening on IPv6 sockets. By default, listeningon the IPv6 &quot;any&quot; address (::) will accept connections from both IPv6and IPv4 clients. It is not necessary to listen on both IPv4 and IPv6sockets. If you want that (perhaps because you want to listen on specificaddresses) then you must run two copies of vsftpd with two configurationfiles.listen_ipv6=YESAllow anonymous FTP? (Disabled by default).anonymous_enable=NOUncomment this to allow local users to log in.local_enable=YESUncomment this to enable any form of FTP write command.write_enable=YESDefault umask for local users is 077. You may wish to change this to 022,if your users expect that (022 is used by most other ftpd&#x27;s)local_umask=022Uncomment this to allow the anonymous FTP user to upload files. This onlyhas an effect if the above global write enable is activated. Also, you willobviously need to create a directory writable by the FTP user.#anon_upload_enable=YESUncomment this if you want the anonymous FTP user to be able to createnew directories.#anon_mkdir_write_enable=YESActivate directory messages - messages given to remote users when theygo into a certain directory.dirmessage_enable=YESIf enabled, vsftpd will display directory listings with the timein  your  local  time  zone.  The default is to display GMT. Thetimes returned by the MDTM FTP command are also affected by thisoption.use_localtime=YESActivate logging of uploads/downloads.xferlog_enable=YESMake sure PORT transfer connections originate from port 20 (ftp-data).connect_from_port_20=YESIf you want, you can arrange for uploaded anonymous files to be owned bya different user. Note! Using &quot;root&quot; for uploaded files is notrecommended!#chown_uploads=YES#chown_username=whoeverYou may override where the log file goes if you like. The default is shownbelow.#xferlog_file=/var/log/vsftpd.logIf you want, you can have your log file in standard ftpd xferlog format.Note that the default log file location is /var/log/xferlog in this case.xferlog_std_format=YESYou may change the default value for timing out an idle session.#idle_session_timeout=600You may change the default value for timing out a data connection.#data_connection_timeout=120It is recommended that you define on your system a unique user which theftp server can use as a totally isolated and unprivileged user.#nopriv_user=ftpsecureEnable this and the server will recognise asynchronous ABOR requests. Notrecommended for security (the code is non-trivial). Not enabling it,however, may confuse older FTP clients.#async_abor_enable=YESBy default the server will pretend to allow ASCII mode but in fact ignorethe request. Turn on the below options to have the server actually do ASCIImangling on files when in ASCII mode.Beware that on some FTP servers, ASCII support allows a denial of serviceattack (DoS) via the command &quot;SIZE /big/file&quot; in ASCII mode. vsftpdpredicted this attack and has always been safe, reporting the size of theraw file.ASCII mangling is a horrible feature of the protocol.#ascii_upload_enable=YES#ascii_download_enable=YESYou may fully customise the login banner string:#ftpd_banner=Welcome to blah FTP service.You may specify a file of disallowed anonymous e-mail addresses. Apparentlyuseful for combatting certain DoS attacks.#deny_email_enable=YES(default follows)#banned_email_file=/etc/vsftpd.banned_emailsYou may restrict local users to their home directories.  See the FAQ forthe possible risks in this before using chroot_local_user orchroot_list_enable below.#chroot_local_user=YESYou may specify an explicit list of local users to chroot() to their homedirectory. If chroot_local_user is YES, then this list becomes a list ofusers to NOT chroot().(Warning! chroot&#x27;ing can be very dangerous. If using chroot, make sure thatthe user does not have write access to the top level directory within thechroot)chroot_local_user=YESchroot_list_enable=YES(default follows)chroot_list_file=/etc/vsftpd.chroot_listYou may activate the &quot;-R&quot; option to the builtin ls. This is disabled bydefault to avoid remote users being able to cause excessive I/O on largesites. However, some broken FTP clients such as &quot;ncftp&quot; and &quot;mirror&quot; assumethe presence of the &quot;-R&quot; option, so there is a strong case for enabling it.#ls_recurse_enable=YESCustomizationSome of vsftpd&#x27;s settings don&#x27;t fit the filesystem layout bydefault.This option should be the name of a directory which is empty.  Also, thedirectory should not be writable by the ftp user. This directory is usedas a secure chroot() jail at times vsftpd does not require filesystemaccess.secure_chroot_dir=/var/run/vsftpd/emptyThis string is the name of the PAM service vsftpd will use.pam_service_name=vsftpdThis option specifies the location of the RSA certificate to use for SSLencrypted connections.rsa_cert_file=/etc/ssl/certs/ssl-cert-snakeoil.pemrsa_private_key_file=/etc/ssl/private/ssl-cert-snakeoil.keyssl_enable=NOUncomment this to indicate that vsftpd use a utf8 filesystem.#utf8_filesystem=YESuserlist_enable=YESuserlist_deny=NOuserlist_file=/etc/vsftpd.user_list</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_2GIj">Copy</button></div></div><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_prK2" id="gitlab"></a>GitLab<a class="hash-link" href="#gitlab" title="Direct link to heading">#</a></h3><p>Debian安装GitLab</p><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_prK2" id="jenkins"></a>Jenkins<a class="hash-link" href="#jenkins" title="Direct link to heading">#</a></h3><p>参考官网：
<a href="http://pkg.jenkins-ci.org/debian/" target="_blank" rel="noopener noreferrer">http://pkg.jenkins-ci.org/debian/</a></p><p>默认地址：
<a href="http://IP:8080/" target="_blank" rel="noopener noreferrer">http://IP:8080/</a></p><p>jenkins添加不同权限的账号。（用于权限管理）</p><p>目的
1：禁止匿名用户做任何操作。
(使用安全矩阵禁止匿名用户操作)
2：禁止注册功能。
(Configure Global Security 勾选掉允许用户注册)
3：直接添加管理员。
（直接注册一个管理员，赋给权限）</p><p>和（git）共用的持续集成</p><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_prK2" id="nano和vi"></a>nano和vi<a class="hash-link" href="#nano和vi" title="Direct link to heading">#</a></h3><ul><li><p>vi</p></li><li><p>nano</p></li></ul><p>新建修改或打开</p><p>nano filename</p><p>保存</p><p>使用Ctrl+O来保存所做的修改</p><p>退出</p><p>按Ctrl+X</p><p>取消</p><p>按Ctrl+c</p><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_prK2" id="进程管理"></a>进程管理<a class="hash-link" href="#进程管理" title="Direct link to heading">#</a></h2><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_prK2" id="开机自启动"></a>开机自启动<a class="hash-link" href="#开机自启动" title="Direct link to heading">#</a></h3><p>ubuntu 设置nginx 开机自启: <a href="https://www.jianshu.com/p/15eee4d38184" target="_blank" rel="noopener noreferrer">https://www.jianshu.com/p/15eee4d38184</a></p><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_prK2" id="自动重启"></a>自动重启<a class="hash-link" href="#自动重启" title="Direct link to heading">#</a></h3><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_prK2" id="查看进程"></a>查看进程<a class="hash-link" href="#查看进程" title="Direct link to heading">#</a></h3><p>查看NGINX进程是否存在</p><div class="mdxCodeBlock_1zKU"><div class="codeBlockContent_actS"><div tabindex="0" class="prism-code language-undefined codeBlock_tuNs thin-scrollbar"><div class="codeBlockLines_3uvA" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">➜  nginx ps -ef | grep nginxroot       58612       1  0 06:13 ?        00:00:00 nginx: master process ./sbin/nginx -c ./conf/nginx.confnobody     58613   58612  0 06:13 ?        00:00:00 nginx: worker processdys        58618    1239  0 06:14 pts/1    00:00:00 grep --color=auto --exclude-dir=.bzr --exclude-dir=CVS --exclude-dir=.git --exclude-dir=.hg --exclude-dir=.svn --exclude-dir=.idea --exclude-dir=.tox nginx➜  nginx</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_2GIj">Copy</button></div></div><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_prK2" id="杀进程"></a>杀进程<a class="hash-link" href="#杀进程" title="Direct link to heading">#</a></h3><p><strong>killall</strong></p><p>使用进程的名称来杀死一组进程</p><p><strong>killall命令</strong>使用进程的名称来杀死进程，使用此指令可以杀死一组同名进程。我们可以使用<a href="http://man.linuxde.net/kill" target="_blank" rel="noopener noreferrer">kill</a>命令杀死指定进程PID的进程，如果要找到我们需要杀死的进程，我们还需要在之前使用<a href="http://man.linuxde.net/ps" target="_blank" rel="noopener noreferrer">ps</a>等命令再配合<a href="http://man.linuxde.net/grep" target="_blank" rel="noopener noreferrer">grep</a>来查找进程，而killall把这两个过程合二为一，是一个很好用的命令。</p><div class="mdxCodeBlock_1zKU"><div class="codeBlockContent_actS"><div tabindex="0" class="prism-code language-undefined codeBlock_tuNs thin-scrollbar"><div class="codeBlockLines_3uvA" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">killall vi</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_2GIj">Copy</button></div></div><h4><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_prK2" id="kill"></a>kill<a class="hash-link" href="#kill" title="Direct link to heading">#</a></h4><p>常用的信号</p><div class="mdxCodeBlock_1zKU"><div class="codeBlockContent_actS"><div tabindex="0" class="prism-code language-undefined codeBlock_tuNs thin-scrollbar"><div class="codeBlockLines_3uvA" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">HUP     1    终端断线INT     2    中断（同 Ctrl + C）QUIT    3    退出（同 Ctrl + \）TERM   15    终止KILL    9    强制终止CONT   18    继续（与STOP相反， fg/bg命令）STOP   19    暂停（同 Ctrl + Z）</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_2GIj">Copy</button></div></div><div class="mdxCodeBlock_1zKU"><div class="codeBlockContent_actS"><div tabindex="0" class="prism-code language-undefined codeBlock_tuNs thin-scrollbar"><div class="codeBlockLines_3uvA" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">ps -ef | grep vimroot      3268  2884  0 16:21 pts/1    00:00:00 vim install.logroot      3370  2822  0 16:21 pts/0    00:00:00 grep vimkill 3268kill 3268-bash: kill: (3268) - 没有那个进程</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_2GIj">Copy</button></div></div><p><a href="http://man.linuxde.net/kill" target="_blank" rel="noopener noreferrer">http://man.linuxde.net/kill</a></p><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_prK2" id="ps"></a>ps<a class="hash-link" href="#ps" title="Direct link to heading">#</a></h3><p><strong>命令</strong>用于报告当前系统的进程状态</p><p><a href="https://www.cnblogs.com/ericli-ericli/p/8144934.html" target="_blank" rel="noopener noreferrer">https://www.cnblogs.com/ericli-ericli/p/8144934.html</a></p><p><a href="http://man.linuxde.net/ps" target="_blank" rel="noopener noreferrer">http://man.linuxde.net/ps</a></p><div class="mdxCodeBlock_1zKU"><div class="codeBlockContent_actS"><div tabindex="0" class="prism-code language-undefined codeBlock_tuNs thin-scrollbar"><div class="codeBlockLines_3uvA" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">ps:将某个进程显示出来-A 　显示所有程序。 -e 　此参数的效果和指定&quot;A&quot;参数相同。-f 　显示UID,PPIP,C与STIME栏位。 </span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_2GIj">Copy</button></div></div><p>常和grep搭配使用</p><p>例如：</p><div class="mdxCodeBlock_1zKU"><div class="codeBlockContent_actS"><div tabindex="0" class="prism-code language-undefined codeBlock_tuNs thin-scrollbar"><div class="codeBlockLines_3uvA" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">➜  ~ ps -ef|grep nginx  501 32826   803   0  4:17下午 ttys000    0:00.00 grep --color=auto --exclude-dir=.bzr --exclude-dir=CVS --exclude-dir=.git --exclude-dir=.hg --exclude-dir=.svn nginx</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_2GIj">Copy</button></div></div><p>字段含义如下：</p><div class="mdxCodeBlock_1zKU"><div class="codeBlockContent_actS"><div tabindex="0" class="prism-code language-undefined codeBlock_tuNs thin-scrollbar"><div class="codeBlockLines_3uvA" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">UID       PID       PPID      C     STIME    TTY       TIME         CMDzzw      14124   13991      0     00:38      pts/0      00:00:00    grep --color=auto daeUID      ：程序被该 UID 所拥有PID      ：就是这个程序的 ID PPID    ：则是其上级父程序的IDC          ：CPU使用的资源百分比STIME ：系统启动时间TTY     ：登入者的终端机位置TIME   ：使用掉的CPU时间。CMD   ：所下达的是什么指令</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_2GIj">Copy</button></div></div><p>中间的|是管道命令 是指ps命令与grep同时执行</p><p><a href="https://www.cnblogs.com/freinds/p/8074651.html" target="_blank" rel="noopener noreferrer">https://www.cnblogs.com/freinds/p/8074651.html</a></p><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_prK2" id="crontab"></a>crontab<a class="hash-link" href="#crontab" title="Direct link to heading">#</a></h3><p><a href="http://man.linuxde.net/crontab" target="_blank" rel="noopener noreferrer">http://man.linuxde.net/crontab</a></p><p>提交和管理用户的需要周期性执行的任务(定时任务，很常用)</p><h4><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_prK2" id="查看定时任务"></a>查看定时任务<a class="hash-link" href="#查看定时任务" title="Direct link to heading">#</a></h4><p>crontab -l //列出当前的所有调度任务
crontab -l -u peter //列出用户peter的所有调度任务</p><h4><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_prK2" id="删除定时任务"></a>删除定时任务<a class="hash-link" href="#删除定时任务" title="Direct link to heading">#</a></h4><p>crontab -r //删除所有任务调度工作.如果要删除其中一个，就用crontab -e在文件中去修改</p><h4><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_prK2" id="编辑定时任务"></a>编辑定时任务<a class="hash-link" href="#编辑定时任务" title="Direct link to heading">#</a></h4><p>crontab -e //编辑定时任务</p><p><a href="https://blog.csdn.net/liaobangxiang/article/details/72026925" target="_blank" rel="noopener noreferrer">https://blog.csdn.net/liaobangxiang/article/details/72026925</a></p><p><img alt="img" src="/assets/images/45b1947d455a43e71d169dba7ca042fea49b6968c1697f3433a1a92e12c5786c-9b6946e5a9cfb61410340fb00468cfbe.png"></p><p>  参考：<a href="https://linuxtools-rst.readthedocs.io/zh_CN/latest/tool/crontab.html" target="_blank" rel="noopener noreferrer">https://linuxtools-rst.readthedocs.io/zh_CN/latest/tool/crontab.html</a></p><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_prK2" id="pkill"></a>pkill<a class="hash-link" href="#pkill" title="Direct link to heading">#</a></h3><p><strong>pkill命令</strong>可以按照进程名杀死进程。pkill和<a href="http://man.linuxde.net/killall" target="_blank" rel="noopener noreferrer">killall</a>应用方法差不多，也是直接杀死运行中的程序；如果您想杀掉单个进程，请用<a href="http://man.linuxde.net/kill" target="_blank" rel="noopener noreferrer">kill</a>来杀掉。</p><p>查找nginx进程</p><div class="mdxCodeBlock_1zKU"><div class="codeBlockContent_actS"><div tabindex="0" class="prism-code language-undefined codeBlock_tuNs thin-scrollbar"><div class="codeBlockLines_3uvA" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">ps -ef | grep nginx</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_2GIj">Copy</button></div></div><p>杀掉nginx</p><div class="mdxCodeBlock_1zKU"><div class="codeBlockContent_actS"><div tabindex="0" class="prism-code language-undefined codeBlock_tuNs thin-scrollbar"><div class="codeBlockLines_3uvA" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">kill -QUIT 主进程号     ：从容停止Nginxkill -TERM 主进程号     ：快速停止Nginxpkill -9 nginx          ：强制停止Nginx</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_2GIj">Copy</button></div></div><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_prK2" id="文件管理"></a>文件管理<a class="hash-link" href="#文件管理" title="Direct link to heading">#</a></h2><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_prK2" id="文件查找和比较"></a>文件查找和比较<a class="hash-link" href="#文件查找和比较" title="Direct link to heading">#</a></h3><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_prK2" id="find"></a>find<a class="hash-link" href="#find" title="Direct link to heading">#</a></h3><p>指定目录下查找文件。</p><p>例如：统计黄金钱包iOS项目一共有多少个界面</p><div class="mdxCodeBlock_1zKU"><div class="codeBlockContent_actS"><div tabindex="0" class="prism-code language-undefined codeBlock_tuNs thin-scrollbar"><div class="codeBlockLines_3uvA" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">find . -name &quot;*ViewController.m&quot; &gt; ~/Desktop/tmp/all</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_2GIj">Copy</button></div></div><p>输出结果：</p><div class="mdxCodeBlock_1zKU"><div class="codeBlockContent_actS"><div tabindex="0" class="prism-code language-undefined codeBlock_tuNs thin-scrollbar"><div class="codeBlockLines_3uvA" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">./GMore/DepositBid/YYIDepositBidContainerViewController.m./GMore/YYIMyInviterViewController.m./GMore/OpenFinanceAccount/YYIOpenFinanceAccountViewController.m...</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_2GIj">Copy</button></div></div><p><a href="http://man.linuxde.net/find" target="_blank" rel="noopener noreferrer">http://man.linuxde.net/find</a></p><p>找到当前文件夹下的空文件夹并添加.gitkeep</p><div class="mdxCodeBlock_1zKU"><div class="codeBlockContent_actS"><div tabindex="0" class="prism-code language-undefined codeBlock_tuNs thin-scrollbar"><div class="codeBlockLines_3uvA" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">➜  /Users/Ding/mine/gitee/cpp_demos git:(master) find . -type d -empty -exec touch {}/.gitkeep \;➜  /Users/Ding/mine/gitee/cpp_demos git:(master) ✗ gst位于分支 master您的分支与上游分支 &#x27;origin/master&#x27; 一致。未跟踪的文件:  （使用 &quot;git add &lt;文件&gt;...&quot; 以包含要提交的内容）    C++语言基础/C++基础/类和对象/2.ObjectOriented对象之间的关系/提交为空，但是存在尚未跟踪的文件（使用 &quot;git add&quot; 建立跟踪）</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_2GIj">Copy</button></div></div><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_prK2" id="移动文件"></a>移动文件<a class="hash-link" href="#移动文件" title="Direct link to heading">#</a></h3><p>mv</p><p>mv /文件夹名/* /新文件夹名</p><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_prK2" id="内核相关"></a>内核相关<a class="hash-link" href="#内核相关" title="Direct link to heading">#</a></h2><p>内核与模块管理</p><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_prK2" id="uname"></a>uname<a class="hash-link" href="#uname" title="Direct link to heading">#</a></h3><p><strong>uname命令</strong>用于打印当前系统相关信息（内核版本号、硬件架构、主机名称和操作系统类型等）。</p><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_prK2" id="lsb_release"></a>lsb_release<a class="hash-link" href="#lsb_release" title="Direct link to heading">#</a></h3><p>LSB是Linux Standard Base的缩写，<strong>lsb_release命令</strong>用来显示LSB和特定版本的相关信息。</p><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_prK2" id="编程开发"></a>编程开发<a class="hash-link" href="#编程开发" title="Direct link to heading">#</a></h2><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_prK2" id="expr"></a>expr<a class="hash-link" href="#expr" title="Direct link to heading">#</a></h3><p>一款表达式计算工具</p><ul><li>加法运算：+</li><li>减法运算：-</li><li>乘法运算：*</li><li>除法运算：/</li><li>求摸（取余）运算：%</li></ul><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_prK2" id="shell"></a>Shell<a class="hash-link" href="#shell" title="Direct link to heading">#</a></h2><p>添加执行权限
<code>chmod +x ./test.sh</code></p><ul><li>什么是Shell?</li></ul><p>shell是你（用户）和Linux（或者更准确的说，是你和Linux内核）之间的接口程序。你在提示符下输入的每个命令都由shell先解释然后传给Linux内核。</p><blockquote><p>通俗点说就是你在那个小小的窗口输入cd的命令会被shell先解释一遍，然后传给linux系统，执行切换工作目录的操作。</p></blockquote><p>shell 是一个命令语言解释器（command-language interpreter）。拥有自己内建的 shell 命令集。此外，shell也能被系统中其他有效的Linux 实用程序和应用程序（utilities and application programs）所调用，同样shell也能调用这些程序。</p><ul><li>如何判断一个命令是系统命令还是shell内建命令？</li></ul><p>“type -a cmd” 或者 “which cmd”(默认使用哪一个)</p><div class="mdxCodeBlock_1zKU"><div class="codeBlockContent_actS"><div tabindex="0" class="prism-code language-undefined codeBlock_tuNs thin-scrollbar"><div class="codeBlockLines_3uvA" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">➜  gitPri which cdcd: shell built-in command➜  gitPri which pwdpwd: shell built-in command➜  gitPri which cp /bin/cp➜  gitPri which hexo/usr/local/bin/hexo➜  gitPri which git /usr/local/bin/git➜  gitPri type cdcd is a shell builtin➜  gitPri type cpcp is /bin/cp➜  gitPri type gitgit is /usr/local/bin/git➜  gitPri type atom  atom is /usr/local/bin/atom➜  gitPri which atom /usr/local/bin/atom➜  gitPri type -a pwdpwd is a shell builtinpwd is /bin/pwd➜  gitPri type -a gitgit is /usr/local/bin/gitgit is /usr/local/bin/gitgit is /usr/bin/git➜  ~ which  gem/usr/bin/gem</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_2GIj">Copy</button></div></div><p><a href="http://man.linuxde.net/type" target="_blank" rel="noopener noreferrer">type命令</a></p><p><a href="http://man.linuxde.net/sub/shell%E5%86%85%E5%BB%BA%E5%91%BD%E4%BB%A4" target="_blank" rel="noopener noreferrer">Shell内建命令</a></p><p><a href="http://www.linuxidc.com/Linux/2013-06/86039.htm" target="_blank" rel="noopener noreferrer">什么是Bash Shell的内建(build in)命令</a></p><ul><li>我当前使用的是哪个shell？</li></ul><div class="mdxCodeBlock_1zKU"><div class="codeBlockContent_actS"><div tabindex="0" class="prism-code language-undefined codeBlock_tuNs thin-scrollbar"><div class="codeBlockLines_3uvA" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">➜  gitPri echo $SHELL/bin/zsh</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_2GIj">Copy</button></div></div><ul><li>我的操作系统都安装了那些shell？</li></ul><div class="mdxCodeBlock_1zKU"><div class="codeBlockContent_actS"><div tabindex="0" class="prism-code language-undefined codeBlock_tuNs thin-scrollbar"><div class="codeBlockLines_3uvA" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">➜  ~ cat /etc/shells# List of acceptable shells for chpass(1).# Ftpd will not allow users to connect who are not using# one of these shells./bin/bash/bin/csh/bin/ksh/bin/sh/bin/tcsh/bin/zsh</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_2GIj">Copy</button></div></div><ul><li>如何换一个shell？</li></ul><p>直接输入shell名称即可切换。</p><div class="mdxCodeBlock_1zKU"><div class="codeBlockContent_actS"><div tabindex="0" class="prism-code language-undefined codeBlock_tuNs thin-scrollbar"><div class="codeBlockLines_3uvA" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">➜  ~ cat /etc/shells# List of acceptable shells for chpass(1).# Ftpd will not allow users to connect who are not using# one of these shells./bin/bash/bin/csh/bin/ksh/bin/sh/bin/tcsh/bin/zsh➜  ~ bashbash-3.2$ pwd/Users/goldwalletbash-3.2$ zsh➜  ~ pwd/Users/goldwallet➜  ~ csh[DingMac:~] goldwallet% pwd/Users/goldwallet[DingMac:~] goldwallet% ksh$ pwd/Users/goldwallet$ shsh-3.2$ pwd/Users/goldwalletsh-3.2$ tcsh[DingMac:~] goldwallet% pwd/Users/goldwallet[DingMac:~] goldwallet% zsh➜  ~</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_2GIj">Copy</button></div></div><ul><li>在shell终端键入一个命令后的流程是什么样的？</li></ul><p>不论何时你键入一个命令，它都被Linux shell所解释。一些命令，比如打印当前工作目录命令（pwd），是包含在Linux bash内部的（就象DOS的内部命令）。其他命令，比如拷贝命令（cp）和移动命令（rm），是存在于文件系统中某个目录下的单独的程序。而对用户来说，你不知道（或者可能不关心）一个命令是建立在shell内部还是一个单独的程序。</p><p>shell 首先检查命令是否是内部命令，不是的话再检查是否是一个应用程序，这里的应用程序可以是Linux本身的实用程序，比如ls 和 rm，也可以是购买的商业程序，比如 xv，或者是公用软件（public domain software），就象 ghostview。然后shell试着在搜索路径($PATH)里寻找这些应用程序。搜索路径是一个能找到可执行程序的目录列表。如果你键入的命令不是一个内部命令并且在路径里没有找到这个可执行文件，将会显示一条错误信息。而如果命令被成功的找到的话，shell的内部命令或应用程序将被分解为系统调用并传给Linux内核。</p><ul><li><p>bash，zsh和python有哪些区别和相同点？</p><ul><li>相同点</li></ul><ol><li>都是脚本语言，都有交互模式，都可以输入命令执行。</li><li>都可以编写出可执行程序。</li></ol><ul><li>不同点。</li></ul><ol><li>shell是入口，是基础。</li><li>python是在shell基础上的。</li></ol></li></ul><p>shell的另一个重要特性是它自身就是一个解释型的程序设计语言，shell 程序设计语言支持在高级语言里所能见到的绝大多数程序控制结构，比如循环，函数，变量和数组。shell 编程语言很易学，并且一旦掌握后它将成为你的得力工具。任何在提示符下能键入的命令也能放到一个可执行的shell程序里，这意味着用shell语言能简单地重复执行某一任务。</p><div class="mdxCodeBlock_1zKU"><div class="codeBlockContent_actS"><div tabindex="0" class="prism-code language-undefined codeBlock_tuNs thin-scrollbar"><div class="codeBlockLines_3uvA" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">➜  ~ pythonPython 2.7.10 (default, Feb  7 2017, 00:08:15) [GCC 4.2.1 Compatible Apple LLVM 8.0.0 (clang-800.0.34)] on darwinType &quot;help&quot;, &quot;copyright&quot;, &quot;credits&quot; or &quot;license&quot; for more information.&gt;&gt;&gt; print helloTraceback (most recent call last):  File &quot;&lt;stdin&gt;&quot;, line 1, in &lt;module&gt;NameError: name &#x27;hello&#x27; is not defined&gt;&gt;&gt; print &quot;hello&quot;hello&gt;&gt;&gt;</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_2GIj">Copy</button></div></div><p>参考文档：</p><ol><li><a href="http://blog.csdn.net/wenlifu71022/article/details/4069929" target="_blank" rel="noopener noreferrer">linux超级基础系列——什么是shell? bash和shell有什么关系？</a></li></ol><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_prK2" id="bash"></a>bash<a class="hash-link" href="#bash" title="Direct link to heading">#</a></h3><div class="mdxCodeBlock_1zKU"><div class="codeBlockContent_actS"><div tabindex="0" class="prism-code language-shell codeBlock_tuNs thin-scrollbar"><div class="codeBlockLines_3uvA" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">➜  gitPri </span><span class="token function" style="color:rgb(130, 170, 255)">which</span><span class="token plain"> cdcd: shell built-in command➜  gitPri </span><span class="token function" style="color:rgb(130, 170, 255)">which</span><span class="token plain"> pwdpwd: shell built-in command➜  gitPri </span><span class="token function" style="color:rgb(130, 170, 255)">which</span><span class="token plain"> </span><span class="token function" style="color:rgb(130, 170, 255)">cp</span><span class="token plain"> /bin/cp➜  gitPri </span><span class="token function" style="color:rgb(130, 170, 255)">which</span><span class="token plain"> hexo/usr/local/bin/hexo➜  gitPri </span><span class="token function" style="color:rgb(130, 170, 255)">which</span><span class="token plain"> </span><span class="token function" style="color:rgb(130, 170, 255)">git</span><span class="token plain"> /usr/local/bin/git➜  gitPri </span><span class="token builtin class-name" style="color:rgb(255, 203, 107)">type</span><span class="token plain"> cdcd is a shell builtin➜  gitPri </span><span class="token builtin class-name" style="color:rgb(255, 203, 107)">type</span><span class="token plain"> cpcp is /bin/cp➜  gitPri </span><span class="token builtin class-name" style="color:rgb(255, 203, 107)">type</span><span class="token plain"> gitgit is /usr/local/bin/git</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_2GIj">Copy</button></div></div><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_prK2" id="zsh"></a>ZSH<a class="hash-link" href="#zsh" title="Direct link to heading">#</a></h2><p>参考工具：zsh</p><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_prK2" id="常用命令"></a>常用命令<a class="hash-link" href="#常用命令" title="Direct link to heading">#</a></h3><p><a href="http://www.ruanyifeng.com/blog/2009/10/5_ways_to_search_for_files_using_the_terminal.html" target="_blank" rel="noopener noreferrer">Linux的五个查找命令</a></p><div class="mdxCodeBlock_1zKU"><div class="codeBlockContent_actS"><div tabindex="0" class="prism-code language-undefined codeBlock_tuNs thin-scrollbar"><div class="codeBlockLines_3uvA" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">➜  ReactNative yarn --version0.24.5➜  ReactNative whereis yarn➜  ReactNative whereis yarn➜  ReactNative whereis npm ➜  ReactNative whereis node➜  ReactNative whereis cd  /usr/bin/cd➜  ReactNative whereis make/usr/bin/make➜  ReactNative whereis grep/usr/bin/grep➜  ReactNative which yarn  /usr/local/bin/yarn➜  ReactNative which node/usr/local/bin/node➜  ReactNative which reac    reac not found➜  ReactNative which react-native/usr/local/bin/react-native➜  ReactNative type cdcd is a shell builtin➜  ReactNative type nodenode is /usr/local/bin/node➜  ReactNative type react-nativereact-native is /usr/local/bin/react-native</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_2GIj">Copy</button></div></div><h4><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_prK2" id="cp"></a>CP<a class="hash-link" href="#cp" title="Direct link to heading">#</a></h4><p>在Linux下拷贝的时候有时候会出现cp:omitting directory的错误 ，例如 cp:omitting directory &quot;bbs&quot; 说明bbs目录下面还有目录，不能直接拷贝</p><p>解决办法：递归拷贝  命令：cp -r bbs ../backup/bbs    解释:-r 这个options是递归的意思</p><p>举一反三：删除的时候也可能出现这种下面有文件不能删除的问题   也用-r 级联删除
chmod赋予权限的时候想级联也可以用-R 注意是大写的R</p><h4><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_prK2" id="ssh登录"></a>ssh登录<a class="hash-link" href="#ssh登录" title="Direct link to heading">#</a></h4><div class="mdxCodeBlock_1zKU"><div class="codeBlockContent_actS"><div tabindex="0" class="prism-code language-undefined codeBlock_tuNs thin-scrollbar"><div class="codeBlockLines_3uvA" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">~ ssh root@138.68.228.111                                                        The authenticity of host &#x27;138.68.228.111 (138.68.228.111)&#x27; can&#x27;t be established.ECDSA key fingerprint is SHA256:Cfj99ihXXkqGKhvXpnkV9Ltb1QX6fBvcIl+IgY8w5Xc.Are you sure you want to continue connecting (yes/no)? yesWarning: Permanently added &#x27;138.68.228.111&#x27; (ECDSA) to the list of known hosts.Authentication failed.➜  ~ ssh root@138.68.228.111Permission denied (publickey).➜  ~ ssh root@138.68.228.111                                                        The programs included with the Debian GNU/Linux system are free software;the exact distribution terms for each program are described in theindividual files in /usr/share/doc/*/copyright.Debian GNU/Linux comes with ABSOLUTELY NO WARRANTY, to the extentpermitted by applicable law.Last login: Sun Apr 23 11:26:55 2017 from 106.38.53.50root@debian-512mb-sfo2-01:~# lsjyx  node  pub  shadowsocks-libev-debian.log  shadowsocks-libev-debian.shroot@debian-512mb-sfo2-01:~# ➜  ObjC git:(master) ✗ ssh root@138.68.228.111The programs included with the Debian GNU/Linux system are free software;the exact distribution terms for each program are described in theindividual files in /usr/share/doc/*/copyright.Debian GNU/Linux comes with ABSOLUTELY NO WARRANTY, to the extentpermitted by applicable law.Last login: Sun Apr 23 11:01:18 2017 from 106.38.53.50root@debian-512mb-sfo2-01:~# lsjyx  node  shadowsocks-libev-debian.log  shadowsocks-libev-debian.shroot@debian-512mb-sfo2-01:~# cd .sshroot@debian-512mb-sfo2-01:~/.ssh# lsauthorized_keysroot@debian-512mb-sfo2-01:~/.ssh# cat authorized_keys ssh-rsa AAAAB3NzaC1yc2EAAAADAQABAAABAQDIf+j0GooeofbzmO1txoNIKh2mBFnfF+9XV7OOYpcSbH7/AWZqNtm59FIbcuEjSyAzXIT5Xc+jYBXbjoJRUjtvlOuIpX3UhnMG2LwX5IY2UmFe/I5+kvncbD+ta71M94n6Hrn5VTYgtkl1xKeqfYSG1UAxv5HbQpcBIUE5HYgqPeEvCyaUKkyCrRmsX25GoYP3IPIOX3HVTMyJUKYELLDn/GnSV1pwclAi24PVcb2XyvaIbBp9BWSJACVQW4yJVbcBwGqO4MOD5Nuz7U8bkZQgqm9om4dQPfQJPliyl1W4RmBtkH5elIJVcZkZKH1mjtxQviRJ3/yh7ajlErN67kFH goldwallet@DingMac.localroot@debian-512mb-sfo2-01:~/.ssh# cd ~root@debian-512mb-sfo2-01:~# touch pubroot@debian-512mb-sfo2-01:~# vi pub root@debian-512mb-sfo2-01:~# cat pub &gt;&gt; .ssh/authorized_keys root@debian-512mb-sfo2-01:~# cat .ssh/authorized_keys ssh-rsa AAAAB3NzaC1yc2EAAAADAQABAAABAQDIf+j0GooeofbzmO1txoNIKh2mBFnfF+9XV7OOYpcSbH7/AWZqNtm59FIbcuEjSyAzXIT5Xc+jYBXbjoJRUjtvlOuIpX3UhnMG2LwX5IY2UmFe/I5+kvncbD+ta71M94n6Hrn5VTYgtkl1xKeqfYSG1UAxv5HbQpcBIUE5HYgqPeEvCyaUKkyCrRmsX25GoYP3IPIOX3HVTMyJUKYELLDn/GnSV1pwclAi24PVcb2XyvaIbBp9BWSJACVQW4yJVbcBwGqO4MOD5Nuz7U8bkZQgqm9om4dQPfQJPliyl1W4RmBtkH5elIJVcZkZKH1mjtxQviRJ3/yh7ajlErN67kFH goldwallet@DingMac.localssh-rsa AAAAB3NzaC1yc2EAAAADAQABAAABAQCixVo+xCD9jikOb+NTg8AcF4XtbvalYmHrQYzuThtkMjX0w3No+RwxPf+Aufwsg8VZ+a/hmgkQhrDNExoK9/9N5tSrtugNwRKkQSetlpPi3eGUjLlFjCW0+iLPCclLJ1BA+q6FKtkYYjCT3k+5++6LRp80B5jB6jhS4ZVnyboKPQmtjFWSKEZaon2rzqYL9aeX7QMhtui2BNt/f9pd1KO3jmWn7SVqRecbfckTzDVEHIPCIlf80BjfI9RWu7XkSqzTQ61U0tLchfQxtTYVFKYT5AzQ7pvGUjr4qzBkVAgCrUXFl8kcRbCt/ShCFkTylEsglSxkSJ9h1D0tWBCzrXI3 Ding@DingsMBP.localroot@debian-512mb-sfo2-01:~# wq-bash: wq: command not foundroot@debian-512mb-sfo2-01:~# exitlogout</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_2GIj">Copy</button></div></div><h5><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_prK2" id="配置免密登录"></a>配置免密登录<a class="hash-link" href="#配置免密登录" title="Direct link to heading">#</a></h5><p>Ubuntu上SSH免密登录:<a href="https://www.jianshu.com/p/7c86ee080e18" target="_blank" rel="noopener noreferrer">https://www.jianshu.com/p/7c86ee080e18</a></p><ul><li>将公钥复制到服务器</li></ul><div class="mdxCodeBlock_1zKU"><div class="codeBlockContent_actS"><div tabindex="0" class="prism-code language-ruby codeBlock_tuNs thin-scrollbar"><div class="codeBlockLines_3uvA" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">sudo vim ~/.ssh/authorized_keys#如果没有权限则chmod 600 ~/.ssh/authorized_keys</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_2GIj">Copy</button></div></div><p>使用vim编辑器打开.ssh目录下的<code>authorized_keys</code>，并且将本地的<strong>id_rsa.pub</strong>内容复制进去，如有多个公钥则换行即可，并使用<code>wq</code>命令保存退出。</p><p>作者：我是李小胖
链接：<a href="https://www.jianshu.com/p/7c86ee080e18" target="_blank" rel="noopener noreferrer">https://www.jianshu.com/p/7c86ee080e18</a>
来源：简书
著作权归作者所有。商业转载请联系作者获得授权，非商业转载请注明出处。</p><h5><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_prK2" id="ssh连接长时间不操作，不断开"></a>ssh连接长时间不操作，不断开<a class="hash-link" href="#ssh连接长时间不操作，不断开" title="Direct link to heading">#</a></h5><ul><li><p>ssh连接linux（ubuntu¢os）长时间不操作自动断开连接怎么办？<a href="https://www.jianshu.com/p/4c937d3f8f15" target="_blank" rel="noopener noreferrer">https://www.jianshu.com/p/4c937d3f8f15</a></p></li><li><p>Ubuntu - ssh 保持与服务器长时间连接 <a href="https://www.aiuai.cn/aifarm1283.html" target="_blank" rel="noopener noreferrer">https://www.aiuai.cn/aifarm1283.html</a></p></li></ul><p>[1] - <strong>方案一：服务器端(Server)操作</strong></p><p>在服务器端编辑 <code>sshd</code> 的配置文件 - <code>/etc/ssh/sshd_config</code>，在后面增加如下内容：</p><div class="mdxCodeBlock_1zKU"><div class="codeBlockContent_actS"><div tabindex="0" class="prism-code language-shell codeBlock_tuNs thin-scrollbar"><div class="codeBlockLines_3uvA" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">ClientAliveInterval 60ClientAliveCountMax </span><span class="token number" style="color:rgb(247, 140, 108)">1</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_2GIj">Copy</button></div></div><p>其作用是：SSH Server 每 60秒就自动发送一个信号到客户端(Client)，而等待 Client 回应.</p><p>[2] - <strong>方案二：客户端(Client)操作</strong></p><p>在客户端编辑 <code>ssh</code> 的配置文件 - <code>/etc/ssh/ssh_config</code> (<strong>请注意与服务器端配置文件是不同的.</strong>)，在后面增加如下内容：</p><div class="mdxCodeBlock_1zKU"><div class="codeBlockContent_actS"><div tabindex="0" class="prism-code language-shell codeBlock_tuNs thin-scrollbar"><div class="codeBlockLines_3uvA" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">TCPKeepAlive yesServerAliveInterval </span><span class="token number" style="color:rgb(247, 140, 108)">300</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_2GIj">Copy</button></div></div><p>其中，<code>TCPKeepAlive yes</code> 表示保持连接；<code>ServerAliveInterval 300</code> 表示每 300秒就自动发送一个数据包到服务器(Server).</p><h4><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_prK2" id="scp"></a>scp<a class="hash-link" href="#scp" title="Direct link to heading">#</a></h4><div class="mdxCodeBlock_1zKU"><div class="codeBlockContent_actS"><div tabindex="0" class="prism-code language-undefined codeBlock_tuNs thin-scrollbar"><div class="codeBlockLines_3uvA" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">➜  ~ scp ~/Downloads/moban2008/moban2008  root@138.68.228.111:/jyx/Users/goldwallet/Downloads/moban2008/moban2008: not a regular file➜  ~ scp -r ~/Downloads/moban2008/moban2008 root@138.68.228.111:/jyxbootstrap.css                                                                 100%  138KB  46.0KB/s   00:03    。。。100% 3397    16.4KB/s   00:00    说明.htm                                                                    100% 3177    15.4KB/s   00:00    ➜  ~ node -vv7.5.0➜  ~</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_2GIj">Copy</button></div></div><p>linux命令中 | 符号是什么意思</p><div class="mdxCodeBlock_1zKU"><div class="codeBlockContent_actS"><div tabindex="0" class="prism-code language-undefined codeBlock_tuNs thin-scrollbar"><div class="codeBlockLines_3uvA" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">管道命令，是指 | 的左边运行结果 是|右边的 输入条件或者范围。如：history | grep date指从history这条命令运行的结果中 显示 包含有 “date” 的命令</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_2GIj">Copy</button></div></div><div class="mdxCodeBlock_1zKU"><div class="codeBlockContent_actS"><div tabindex="0" class="prism-code language-undefined codeBlock_tuNs thin-scrollbar"><div class="codeBlockLines_3uvA" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">[1]  + 64180 killed     nohup ./dailyCp.sh➜  ~ nohup ./dailyCp.sh &gt; dailycp.out 2&gt;&amp;1 &amp;[1] 64376➜  ~ jobs -l[1]  + 64376 running    nohup ./dailyCp.sh &gt; dailycp.out 2&gt;&amp;1➜  ~</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_2GIj">Copy</button></div></div><div class="mdxCodeBlock_1zKU"><div class="codeBlockContent_actS"><div tabindex="0" class="prism-code language-undefined codeBlock_tuNs thin-scrollbar"><div class="codeBlockLines_3uvA" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">➜  ~ nohup ./dailyCp.sh &amp;</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_2GIj">Copy</button></div></div><p><a href="http://www.cnblogs.com/baby123/p/6477429.html" target="_blank" rel="noopener noreferrer">nohup和&amp;后台运行，进程查看及终止</a></p><p><a href="http://www.jb51.net/LINUXjishu/151851.html" target="_blank" rel="noopener noreferrer">linux命令大全之ps命令详解(查看进程结果)</a>
<a href="http://www.jb51.net/os/RedHat/9467.html" target="_blank" rel="noopener noreferrer">linux kill 关闭进程命令</a></p><div class="mdxCodeBlock_1zKU"><div class="codeBlockContent_actS"><div tabindex="0" class="prism-code language-undefined codeBlock_tuNs thin-scrollbar"><div class="codeBlockLines_3uvA" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">➜  gbanker_ios git:(develop-d) ps aux | less |grep shgoldwallet         449   0.4  0.5  4027780  39516   ??  S    五08上午  93:52.20 /Applications/钉钉.app/Contents/Versions/50.0.2661.102/nwjs Helper.app/Contents/MacOS/nwjs Helper --type=renderer --no-sandbox --enable-features=use-new-media-cache&lt;use-new-media-cache --lang=zh-CN --force-fieldtrials=AutofillClassifier/Enabled/AutofillFieldMetadata/Enabled/AutofillProfileOrderByFrecency/EnabledLimitTo3/AutomaticTabDiscarding/Enabled_Once_5/CaptivePortalInterstitial/Enabled/ChromeDashboard/Enabled/ChromotingQUIC/Enabled/*DataReductionProxyConfigService/Enabled/EnableGoogleCachedCopyTextExperiment/Button/*ExtensionActionRedesign/Enabled/ExtensionDeveloperModeWarning/Enabled/ExtensionInstallVerification/Enforce/InstanceID/Enabled/IntelligentSessionRestore/Enabled/*LocalNTPSuggestionsService/Enabled/*MacMemoryMechanism/Mach/MaterialDesignDownloads/Enabled/*PageRevisitInstrumentation/Enabled/PasswordBranding/SmartLockBrandingSavePromptOnly/*QUIC/Enabled/RefreshTokenDeviceId/Enabled/RenderingPipelineThrottling/Enabled/ReportCertificateErrors/ShowAndPossiblySend/SafeBrowsingReportPhishingErrorLink/Enabled/SafeBrowsingUnverifiedDownloads/DisableByParameterMostSbTypes2/SafeBrowsingUpdateFrequency/UpdateTime15m/SchedulerExpensiveTaskBlocking/Enabled/SdchPersistence/Enabled/SpdyEnableDependencies/Enable/StrictSecureCookies/Enabled/SyncHttpContentCompression/Enabled/TabSyncByRecency/Enabled/VarationsServiceControl/Interval_30min/WebFontsIntervention/Enabled/WebRTC-LocalIPPermissionCheck/Enabled/WebRTC-PeerConnectionDTLS1.2/Enabled/use-new-media-cache/Enabled/ --user-data-dir=/Users/goldwallet/Library/Application Support/DingTalk --nwjs --extension-process --enable-webrtc-hw-h264-encoding --disable-client-side-phishing-detection --enable-offline-auto-reload --enable-offline-auto-reload-visible-only --enable-pinch --num-raster-threads=2 --enable-zero-copy --enable-gpu-memory-buffer-compositor-resources --content-image-texture-target=3553,3553,3553,3553,3553,34037,3553,3553,3553,3553,34037,3553,34037,34037 --video-image-texture-target=3553,3553,3553,3553,3553,34037,3553,3553,3553,3553,34037,3553,34037,34037 --channel=406.1.2081632769goldwallet       64008   0.1  0.8  2924552  63668   ??  S     3:52下午   0:01.61 /Applications/Google Chrome.app/Contents/Versions/58.0.3029.110/Google Chrome Helper.app/Contents/MacOS/Google Chrome Helper --type=ppapi --field-trial-handle=1 --ppapi-flash-args --lang=zh-CN --service-request-channel-token=66D5E2659EC14DA6859FA634A51BF7C5goldwallet       63862   0.0  0.3  2506716  21900   ??  S     3:40下午   0:01.92 /System/Library/Frameworks/CoreServices.framework/Frameworks/Metadata.framework/Versions/A/Support/mdworker -s mdworker -c MDSImporterWorker -m com.apple.mdworker.sharedgoldwallet       63849   0.0  0.3  2514836  28844   ??  S     3:38下午   0:00.34 /System/Library/Frameworks/CoreServices.framework/Frameworks/Metadata.framework/Versions/A/Support/mdworker -s mdworker -c MDSImporterWorker -m com.apple.mdworker.sharedgoldwallet       63848   0.0  0.3  2514800  24744   ??  S     3:38下午   0:00.31 /System/Library/Frameworks/CoreServices.framework/Frameworks/Metadata.framework/Versions/A/Support/mdworker -s mdworker -c MDSImporterWorker -m com.apple.mdworker.sharedgoldwallet       62983   0.0  0.0  2461816   2712 s007  S+    2:14下午   0:00.62 zshgoldwallet       62966   0.0  0.0  2461044   2088 s007  S     2:10下午   0:00.02 bashgoldwallet       62486   0.0  0.2  3746264  14952   ??  Ss   12:37下午   0:00.46 /System/Library/PrivateFrameworks/MapsSupport.framework/mapspushdgoldwallet       62304   0.0  0.2  2495488  13984   ??  S    12:01下午   0:00.08 /System/Library/CoreServices/mapspushd_spotlight       61651   0.0  0.2  2508148  19788   ??  S    11:29上午   0:00.25 /System/Library/Frameworks/CoreServices.framework/Frameworks/Metadata.framework/Versions/A/Support/mdworker -s mdworker -c MDSImporterWorker -m com.apple.mdworker.sharedgoldwallet       54548   0.0  0.0  2461752   1972 s008  S+   10:44上午   0:00.18 -zshgoldwallet       45934   0.0  0.0  2461816   2680 s007  S     9:47上午   0:00.76 -zshgoldwallet       10051   0.0  0.0  2461816   3744 s006  S    五02下午   0:00.32 -zshgoldwallet        3311   0.0  0.0  2461752    408 s001  S+   五10上午   0:00.18 -zshroot              2688   0.0  0.0  2463520   2056   ??  Ss   五09上午   0:11.44 /Applications/Tunnelblick.app/Contents/Resources/openvpn/openvpn-2.3.16-openssl-1.0.2k/openvpn --daemon --log /Library/Application Support/Tunnelblick/Logs/-SLibrary-SApplication Support-STunnelblick-SShared-Sgbanker.tblk-SContents-SResources-Sconfig.ovpn.769_0_3_0_1065264.1337.openvpn.log --cd /Library/Application Support/Tunnelblick/Shared/gbanker.tblk/Contents/Resources --verb 3 --config /Library/Application Support/Tunnelblick/Shared/gbanker.tblk/Contents/Resources/config.ovpn --verb 3 --cd /Library/Application Support/Tunnelblick/Shared/gbanker.tblk/Contents/Resources --management 127.0.0.1 1337 --management-query-passwords --management-hold --script-security 2 --up /Applications/Tunnelblick.app/Contents/Resources/client.up.tunnelblick.sh -9 -d -f -m -w -ptADGNWradsgnw --down /Applications/Tunnelblick.app/Contents/Resources/client.down.tunnelblick.sh -9 -d -f -m -w -ptADGNWradsgnwgoldwallet        1822   0.0  0.1  2571852   6420   ??  Ss   五09上午   0:15.29 /Applications/Xcode.app/Contents/Developer/Platforms/iPhoneSimulator.platform/Developer/SDKs/iPhoneSimulator.sdk/System/Library/PrivateFrameworks/ApplePushService.framework/apsdgoldwallet        1797   0.0  0.1  2810076   4888   ??  Ss   五09上午   0:00.83 /Applications/Xcode.app/Contents/Developer/Platforms/iPhoneSimulator.platform/Developer/SDKs/iPhoneSimulator.sdk/usr/libexec/sharingdgoldwallet         946   0.0  0.0  2461816   1848 s004  S    五09上午   0:00.29 -zshgoldwallet         922   0.0  0.0  2461816   1204 s003  S+   五09上午   0:00.53 -zshgoldwallet         898   0.0  0.0  2461816   1588 s002  S+   五09上午   0:00.21 -zshgoldwallet         509   0.0  0.1  2470264   7688   ??  S    五08上午   0:00.08 /System/Library/PrivateFrameworks/CommerceKit.framework/Versions/A/Resources/maspushagentgoldwallet         476   0.0  0.1  2495152   5436   ??  S    五08上午   0:00.08 /System/Library/CoreServices/SocialPushAgent.app/Contents/MacOS/SocialPushAgentgoldwallet         438   0.0  0.0  2471300   4004   ??  S    五08上午   0:00.15 /Applications/钉钉.app/Contents/Versions/50.0.2661.102/nwjs Framework.framework/Helpers/crashpad_handler --database=/Users/goldwallet/Library/Application Support/DingTalk/Crashpad --url=none --annotation=plat=OS X --annotation=prod=Chromium_Mac --annotation=ver=50.0.2661.102 --handshake-fd=7goldwallet         430   0.0  0.0  2472204   3952   ??  S    五08上午   0:00.13 /Applications/Google Chrome.app/Contents/Versions/58.0.3029.110/Google Chrome Framework.framework/Helpers/crashpad_handler --database=/Users/goldwallet/Library/Application Support/Google/Chrome/Crashpad --metrics-dir=/Users/goldwallet/Library/Application Support/Google/Chrome --url=https://clients2.google.com/cr/report --annotation=plat=OS X --annotation=prod=Chrome_Mac --annotation=ver=58.0.3029.110 --handshake-fd=7goldwallet         407   0.0  0.3  2511632  22812   ??  S    五08上午   0:18.25 /usr/libexec/sharingdgoldwallet         380   0.0  0.1  2497088   6716   ??  S    五08上午   0:03.09 /System/Library/CoreServices/sharedfilelistdroot               260   0.0  0.1  2495188   4308   ??  Ss   五08上午   0:00.37 /System/Library/CoreServices/sharedfilelistd --enable-legacy-servicesroot               225   0.0  0.0  2469440   2224   ??  Ss   五08上午   0:00.09 /System/Library/CoreServices/CrashReporterSupportHelper server-initroot                87   0.0  0.2  2497624  13296   ??  Ss   五08上午   0:07.18 /System/Library/PrivateFrameworks/ApplePushService.framework/apsdgoldwallet       64194   0.0  0.0  2456584    748 s006  R+    3:57下午   0:00.00 grep --color=auto --exclude-dir=.bzr --exclude-dir=CVS --exclude-dir=.git --exclude-dir=.hg --exclude-dir=.svn shgoldwallet       64180   0.0  0.0  2436468   2320 s005  SN    3:57下午   0:00.01 /bin/sh ./dailyCp.shgoldwallet       64179   0.0  0.3  2491264  25712   ??  S     3:57下午   0:00.07 /System/Library/Frameworks/CoreServices.framework/Frameworks/Metadata.framework/Versions/A/Support/mdworker -s mdworker -c MDSImporterWorker -m com.apple.mdworker.sharedgoldwallet       64156   0.0  0.1  2461752   4684 s005  S+    3:57下午   0:00.19 -zsh➜  gbanker_ios git:(develop-d) ps aux | less |grep /bin/shgoldwallet       64207   0.0  0.0  2443044   1948 s006  S+    3:57下午   0:00.00 grep --color=auto --exclude-dir=.bzr --exclude-dir=CVS --exclude-dir=.git --exclude-dir=.hg --exclude-dir=.svn /bin/shgoldwallet       64180   0.0  0.0  2436468   2320 s005  SN    3:57下午   0:00.01 /bin/sh ./dailyCp.sh➜  gbanker_ios git:(develop-d) ps aux | less |grep /bin/shgoldwallet       64259   0.0  0.0  2460452   1992 s006  S+    3:58下午   0:00.00 grep --color=auto --exclude-dir=.bzr --exclude-dir=CVS --exclude-dir=.git --exclude-dir=.hg --exclude-dir=.svn /bin/shgoldwallet       64180   0.0  0.0  2436468   1964 s005  SN    3:57下午   0:00.01 /bin/sh ./dailyCp.sh➜  gbanker_ios git:(develop-d) kill -9 64180➜  gbanker_ios git:(develop-d) ps aux | less |grep /bin/shgoldwallet       64295   0.0  0.0  2461816   1052 s006  R+    3:59下午   0:00.00 grep --color=auto --exclude-dir=.bzr --exclude-dir=CVS --exclude-dir=.git --exclude-dir=.hg --exclude-dir=.svn /bin/sh➜  gbanker_ios git:(develop-d)</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_2GIj">Copy</button></div></div><hr><p><a href="https://github.com/qiniu/qshell?ref=developer.qiniu.com" target="_blank" rel="noopener noreferrer">qshell</a>
<a href="https://coolestguidesontheplanet.com/add-shell-path-osx/" target="_blank" rel="noopener noreferrer">add-shell-path-osx</a>
crontab</p><p><a href="http://www.jb51.net/LINUXjishu/19905.html" target="_blank" rel="noopener noreferrer">Linux crontab定时执行任务命令格式与详细例子</a></p><div class="mdxCodeBlock_1zKU"><div class="codeBlockContent_actS"><div tabindex="0" class="prism-code language-undefined codeBlock_tuNs thin-scrollbar"><div class="codeBlockLines_3uvA" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">➜  api3-koa crontab -l* 2 * * * /Users/goldwallet/dailyCp.sh</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_2GIj">Copy</button></div></div><p>这样写是每天两点的每一分钟都执行！！！！通过日志来说明！</p><div class="mdxCodeBlock_1zKU"><div class="codeBlockContent_actS"><div tabindex="0" class="prism-code language-undefined codeBlock_tuNs thin-scrollbar"><div class="codeBlockLines_3uvA" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">备份开始时间：2017-06-15 02:50:00 备份结束时间：2017-06-15 02:54:02 tar打包时间:225s gzp压缩时间:15s mv拷贝时间:2s 本次备份时间: 242s备份开始时间：2017-06-15 02:51:00 备份结束时间：2017-06-15 02:54:04 tar打包时间:165s gzp压缩时间:19s mv拷贝时间:0s 本次备份时间: 184s...备份开始时间：2017-06-15 02:56:00 备份结束时间：2017-06-15 04:23:30 tar打包时间:238s gzp压缩时间:262s mv拷贝时间:4750s 本次备份时间: 5250s</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_2GIj">Copy</button></div></div><p>正确的写法</p><div class="mdxCodeBlock_1zKU"><div class="codeBlockContent_actS"><div tabindex="0" class="prism-code language-undefined codeBlock_tuNs thin-scrollbar"><div class="codeBlockLines_3uvA" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">0 2 * * * /Users/goldwallet/dailyCp.sh</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_2GIj">Copy</button></div></div><h4><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_prK2" id="grep"></a>grep<a class="hash-link" href="#grep" title="Direct link to heading">#</a></h4><p>执行</p><div class="mdxCodeBlock_1zKU"><div class="codeBlockContent_actS"><div tabindex="0" class="prism-code language-undefined codeBlock_tuNs thin-scrollbar"><div class="codeBlockLines_3uvA" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">#!/bin/bashfor branch in `git branch -a | grep remotes | grep -v HEAD | grep -v master `; do   echo $branch   echo ${branch#remotes/origin/}done</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_2GIj">Copy</button></div></div><p>输出：</p><div class="mdxCodeBlock_1zKU"><div class="codeBlockContent_actS"><div tabindex="0" class="prism-code language-undefined codeBlock_tuNs thin-scrollbar"><div class="codeBlockLines_3uvA" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">remotes/origin/developdevelopremotes/origin/feature/landingpage-20170628...hotfixes/web1.1-0606</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_2GIj">Copy</button></div></div><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_prK2" id="vpn"></a>VPN<a class="hash-link" href="#vpn" title="Direct link to heading">#</a></h3><p>在debian上添加VPN
L2TP/IPSec</p><p><a href="https://github.com/hwdsl2/setup-ipsec-vpn" target="_blank" rel="noopener noreferrer">GitHub :setup-ipsec-vpn</a></p><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_prK2" id="shadowsocks"></a>shadowsocks<a class="hash-link" href="#shadowsocks" title="Direct link to heading">#</a></h3><p><a href="https://teddysun.com/358.html" target="_blank" rel="noopener noreferrer">shadowsocks-libev一键安装脚本</a></p><p><a href="https://shadowsocks.be/" target="_blank" rel="noopener noreferrer">Shadowsocks非官方网站</a></p><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_prK2" id="bbr"></a>BBR<a class="hash-link" href="#bbr" title="Direct link to heading">#</a></h3><p><a href="https://teddysun.com/489.html" target="_blank" rel="noopener noreferrer">一键安装最新内核并开启 BBR 脚本</a></p><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_prK2" id="xz-tar-解压"></a>xz tar 解压<a class="hash-link" href="#xz-tar-解压" title="Direct link to heading">#</a></h3><p>➜  Downloads xz -d llvm-4.0.0.src.tar.xz
➜  Downloads tar xvf llvm-4.0.0.src.tar</p><div class="mdxCodeBlock_1zKU"><div class="codeBlockContent_actS"><div tabindex="0" class="prism-code language-undefined codeBlock_tuNs thin-scrollbar"><div class="codeBlockLines_3uvA" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">xz压缩文件方法或命令xz -z 要压缩的文件如果要保留被压缩的文件加上参数 -k ，如果要设置压缩率加入参数 -0 到 -9调节压缩率。如果不设置，默认压缩等级是6.xz解压文件方法或命令xz -d 要解压的文件同样使用 -k 参数来保留被解压缩的文件。创建或解压tar.xz文件的方法习惯了 tar czvf 或 tar xzvf 的人可能碰到 tar.xz也会想用单一命令搞定解压或压缩。其实不行 tar里面没有征对xz格式的参数比如 z是针对 gzip，j是针对 bzip2。创建tar.xz文件：只要先 tar cvf xxx.tar xxx/ 这样创建xxx.tar文件先，然后使用 xz -z xxx.tar 来将 xxx.tar压缩成为 xxx.tar.xz解压tar.xz文件：先 xz -d xxx.tar.xz 将 xxx.tar.xz解压成 xxx.tar 然后，再用 tar xvf xxx.tar来解包。</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_2GIj">Copy</button></div></div><p>Linux 压缩和解压缩命令（详细总结）：<a href="https://zhuanlan.zhihu.com/p/152623706" target="_blank" rel="noopener noreferrer">https://zhuanlan.zhihu.com/p/152623706</a></p><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_prK2" id="ssh自动登录"></a>ssh自动登录<a class="hash-link" href="#ssh自动登录" title="Direct link to heading">#</a></h2><p>linux服务器设置ssh免密登录。所操作的东西全部在家目录.ssh文件夹下。</p><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_prK2" id="文件夹及目录"></a>文件夹及目录<a class="hash-link" href="#文件夹及目录" title="Direct link to heading">#</a></h3><p>client</p><div class="mdxCodeBlock_1zKU"><div class="codeBlockContent_actS"><div tabindex="0" class="prism-code language-undefined codeBlock_tuNs thin-scrollbar"><div class="codeBlockLines_3uvA" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">➜  .ssh ls -a .           ..          id_rsa#私钥     id_rsa.pub#公钥  known_hosts#登录服务器的记录</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_2GIj">Copy</button></div></div><p>server</p><div class="mdxCodeBlock_1zKU"><div class="codeBlockContent_actS"><div tabindex="0" class="prism-code language-undefined codeBlock_tuNs thin-scrollbar"><div class="codeBlockLines_3uvA" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">[master@izm5e44erhl7eu2paiakgbz .ssh]$ ls -a.  ..  authorized_keys#授权登录的客户端的公钥</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_2GIj">Copy</button></div></div><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_prK2" id="配置步骤"></a>配置步骤<a class="hash-link" href="#配置步骤" title="Direct link to heading">#</a></h3><h4><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_prK2" id="生成公私钥"></a>生成公私钥<a class="hash-link" href="#生成公私钥" title="Direct link to heading">#</a></h4><p>如果有公私钥则不用生成，直接用即可。</p><p> <code>ssh-keygen -t rsa</code></p><div class="mdxCodeBlock_1zKU"><div class="codeBlockContent_actS"><div tabindex="0" class="prism-code language-undefined codeBlock_tuNs thin-scrollbar"><div class="codeBlockLines_3uvA" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">➜  ~ ssh-keygen -t rsaGenerating public/private rsa key pair.Enter file in which to save the key (/Users/goldwallet/.ssh/id_rsa): Enter passphrase (empty for no passphrase): Enter same passphrase again: Your identification has been saved in /Users/goldwallet/.ssh/id_rsa.Your public key has been saved in /Users/goldwallet/.ssh/id_rsa.pub.The key fingerprint is:SHA256:UMWRUeD7t58Do7uOc57ZhZmayXjAblRmnZOuxvBqnLw goldwallet@DingMac.localThe key&#x27;s randomart image is:+---[RSA 2048]----+|        .o=*.    ||       . .o      ||      .   . . o  ||       .   = =   ||        S = . .  ||         = . ++  ||        = * +++. ||         O+OB..o.||        oEX%o..oo|+----[SHA256]-----+</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_2GIj">Copy</button></div></div><p>生成之后查看</p><div class="mdxCodeBlock_1zKU"><div class="codeBlockContent_actS"><div tabindex="0" class="prism-code language-undefined codeBlock_tuNs thin-scrollbar"><div class="codeBlockLines_3uvA" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">➜  ~ cd .ssh ➜  .ssh lsid_rsa      id_rsa.pub  known_hosts</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_2GIj">Copy</button></div></div><p>私钥</p><div class="mdxCodeBlock_1zKU"><div class="codeBlockContent_actS"><div tabindex="0" class="prism-code language-undefined codeBlock_tuNs thin-scrollbar"><div class="codeBlockLines_3uvA" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">➜  .ssh cat id_rsa-----BEGIN RSA PRIVATE KEY-----MIIEpAIBAAKCAQEAyH/o9BqKHqH285jtbcaDSCodpgRZ3xfvV1ezjmKXEmx+/wFmajbZufRSG3LhI0sgM1yE+V3Po2AV246CUVI7b5TriKV91IZzBti8F+SGNlJhXvyOfpL53Gw/rWu9TPeJ+h65+VU2ILZJdcSnqn2EhtVAMb+R20KXASFBOR2IKj3hLwsmlCpMgq0ZrF9uRqGD9yDyDl9x1UzMiVCmBCyw5/xp0ldacHJQItuD1XG9l8r2iGwafQVkiQAlUFuMiVW3AcBqjuDDg+Tbs+1PG5GUIKpvaJuHUD30CT5YspdVuEZgbZB+XpSCVXGZGSh9Zo7cUL4kSd/8oe2o5RKzeu5BRwIDAQABAoIBAQCeszAO11rwOD8iPa/hLjoHyt5A5DzGq0lVFyQW1c7CVIKJEfCgrd3UpKDA/UNbDkHkpZzTTP/nT0y9xqU7/RzyiyuLs4JP0EQH7VGkj8vz/2z3JG0dnvSLFluoxxjFbUIXam7F/j6j0eV/hDM6bbOSjgUL25h1ttWTnWDk9o0q8PzVMh0Vj6UvbdczOL+wdsXQqT5DaVymU8VghQnUCRjyDTSNAFSihc33iM+5A5uehRVlRBwH3UXfA+WNWjN92Cmb+Wg5rKCrJFr1y+oSrIN3NL955eETIBtqJ7ZtGyF4Z83D0bj+t/FT8K/TWhkoUYiG59hKv2ErYcWN7m10hMuhAoGBAO2ysaQkYq+m/WlDxE1VYzDM4f4NPpsGOCBG6tzHSw5N5efnVm8SwkmqWAfugipLHFgn/X9kf4e1f0q2Jpa16SwTetvrwI7Wln+u0z57gM5K/M1NqpZiHNt/i1unaCRxax4+AVK1N1HbOwF+xkwio3ODw1SPepjzA2DN3QhvffIZAoGBANfv/hn2q54WK9dzCfSH6uvgpkIzpSgt5oMUeuBv4qWd0WyExmG+TbUELl5A1fMWgv5NWwv9YjaVSx5TGqcA1oAm5rHoUhZggwueGnNVOk4r3NahbI8X1ZjWbvOBUkcaD0/8akMo+DLWQGd59fRqDdoMNyawvCDCq58s/jONjfpfAoGAAItGKNAEgc5qChGjo2GspnHxmnlBSW2MN1ayNusl2tSG0C8RXZO3ah+/r9T1607cs77zr5T1TcQ2lF8yW2nzLKymvVYezLTlB0nJJf12YAJ/7aBd4ZY75qy2DvGlJWA1FI6jxiKwC7nquqgloAr8QMluawUhDLSRr2kJNnm62hECgYABvV0+uE4JqAQSaErcPXwXCmhMgD4EZNpGlBOpWz1oOC1HwooWn4Hgw3fcKomOu8+yXM0u+4ufBPTl+aVtUwRnY+jX5hdDNuPXZB6yby1ZE+FjmUlWncqKwK+EJraS/BLDgjUY9WuKfU9nhgQFRBV4fEC1fxcE7IyVa7dgkvNh4QKBgQDg/+Yu8h1zuVhn5NpYQe0ege049iYoJ1308FYTPTHu7KomXCIpF7BxPv3AE7lfrEjGC4FN8Nt/D5gY2NMHNvH5yH9TuC8aN23CwXGMGIRBIs4/VAIpg8nc6avzYqOvN8xL/vUWzc9YTGAKtLnVojbjPz0tSO7mSmEytftvDtJK7Q==-----END RSA PRIVATE KEY-----</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_2GIj">Copy</button></div></div><p>公钥</p><div class="mdxCodeBlock_1zKU"><div class="codeBlockContent_actS"><div tabindex="0" class="prism-code language-undefined codeBlock_tuNs thin-scrollbar"><div class="codeBlockLines_3uvA" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">➜  .ssh cat id_rsa.pub ssh-rsa AAAAB3NzaC1yc2EAAAADAQABAAABAQDIf+j0GooeofbzmO1txoNIKh2mBFnfF+9XV7OOYpcSbH7/AWZqNtm59FIbcuEjSyAzXIT5Xc+jYBXbjoJRUjtvlOuIpX3UhnMG2LwX5IY2UmFe/I5+kvncbD+ta71M94n6Hrn5VTYgtkl1xKeqfYSG1UAxv5HbQpcBIUE5HYgqPeEvCyaUKkyCrRmsX25GoYP3IPIOX3HVTMyJUKYELLDn/GnSV1pwclAi24PVcb2XyvaIbBp9BWSJACVQW4yJVbcBwGqO4MOD5Nuz7U8bkZQgqm9om4dQPfQJPliyl1W4RmBtkH5elIJVcZkZKH1mjtxQviRJ3/yh7ajlErN67kFH goldwallet@DingMac.local➜  .ssh </span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_2GIj">Copy</button></div></div><h4><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_prK2" id="配置公私钥"></a>配置公私钥<a class="hash-link" href="#配置公私钥" title="Direct link to heading">#</a></h4><h5><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_prK2" id="将客户端的公钥传到服务器"></a>将客户端的公钥传到服务器<a class="hash-link" href="#将客户端的公钥传到服务器" title="Direct link to heading">#</a></h5><p><code>cat ~/.ssh/id_rsa.pub | ssh root@45.55.251.245 &quot;cat &gt;&gt; ~/.ssh/authorized_keys&quot;</code></p><p><code>scp ~/.ssh/id_rsa.pub xxx@host:/home/xxx/id_rsa.pub</code></p><div class="mdxCodeBlock_1zKU"><div class="codeBlockContent_actS"><div tabindex="0" class="prism-code language-undefined codeBlock_tuNs thin-scrollbar"><div class="codeBlockLines_3uvA" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">Last login: Mon Feb 27 17:39:11 on ttys000➜  ~ cat ~/.ssh/id_rsa.pub | ssh root@45.55.251.245 &quot;cat &gt;&gt; ~/.ssh/authorized_keys&quot;The authenticity of host &#x27;45.55.251.245 (45.55.251.245)&#x27; can&#x27;t be established.ECDSA key fingerprint is SHA256:XmyHSUsbrdLq4zg63M+MQ/lpMVzaj6sLszmmfeZ1MCc.Are you sure you want to continue connecting (yes/no)? yesWarning: Permanently added &#x27;45.55.251.245&#x27; (ECDSA) to the list of known hosts.root@45.55.251.245&#x27;s password: WARNING: Your password has expired.Password change required but no TTY available.</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_2GIj">Copy</button></div></div><h4><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_prK2" id="在服务器上更改权限"></a>在服务器上更改权限<a class="hash-link" href="#在服务器上更改权限" title="Direct link to heading">#</a></h4><div class="mdxCodeBlock_1zKU"><div class="codeBlockContent_actS"><div tabindex="0" class="prism-code language-undefined codeBlock_tuNs thin-scrollbar"><div class="codeBlockLines_3uvA" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">chmod 700 ~/.sshchmod 600 ~/.ssh/authorized_keys</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_2GIj">Copy</button></div></div><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_prK2" id="命令行上传下载总结"></a>命令行上传下载总结<a class="hash-link" href="#命令行上传下载总结" title="Direct link to heading">#</a></h2><p>上传和下载可以说是互联网最基础的功能。无论是工作中还是生活中使用脚本来进行上传和下载都是非常普遍的，那么到底有哪些上传和下载命令呢？常用的又有哪些呢？</p><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_prK2" id="scp-1"></a>scp<a class="hash-link" href="#scp-1" title="Direct link to heading">#</a></h3><p>这个是我最常用的传输命令。是一个基于SSH安全协议的文件传输命令。用起来非常方便。</p><p>复制local_file 到远程目录remote_folder下</p><div class="mdxCodeBlock_1zKU"><div class="codeBlockContent_actS"><div tabindex="0" class="prism-code language-undefined codeBlock_tuNs thin-scrollbar"><div class="codeBlockLines_3uvA" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">scp local_file remote_user@host:remote_folder</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_2GIj">Copy</button></div></div><div class="mdxCodeBlock_1zKU"><div class="codeBlockContent_actS"><div tabindex="0" class="prism-code language-undefined codeBlock_tuNs thin-scrollbar"><div class="codeBlockLines_3uvA" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">本地：➜  /Users/dingyusong/Downloads/tmp scp aaa.txt  dys@192.168.253.154:~aaa.txt远端：➜  ~ lsbin  Desktop  Documents  Downloads  Music  Pictures  Public  rtmp-install-dir  Templates  Videos➜  ~ lsaaa.txt  bin  Desktop  Documents  Downloads  Music  Pictures  Public  rtmp-install-dir  Templates  Videos</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_2GIj">Copy</button></div></div><p>复制local_folder 到远程remote_folder（需要加参数 -r 递归）</p><div class="mdxCodeBlock_1zKU"><div class="codeBlockContent_actS"><div tabindex="0" class="prism-code language-undefined codeBlock_tuNs thin-scrollbar"><div class="codeBlockLines_3uvA" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">scp –r local_folder remote_user@host:remote_folder</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_2GIj">Copy</button></div></div><p>以上命令反过来写就是远程复制到本地</p><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_prK2" id="ftp"></a>ftp<a class="hash-link" href="#ftp" title="Direct link to heading">#</a></h3><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_prK2" id="sftp"></a>sftp<a class="hash-link" href="#sftp" title="Direct link to heading">#</a></h3><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_prK2" id="wget"></a>wget<a class="hash-link" href="#wget" title="Direct link to heading">#</a></h3><p>下载.gitignore文件到本地。</p><div class="mdxCodeBlock_1zKU"><div class="codeBlockContent_actS"><div tabindex="0" class="prism-code language-sh codeBlock_tuNs thin-scrollbar"><div class="codeBlockLines_3uvA" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">➜  GCDDemo git:(master) ✗ wget -O .gitignore https://raw.githubusercontent.com/github/gitignore/master/Objective-C.gitignore--2018-10-05 11:13:38--  https://raw.githubusercontent.com/github/gitignore/master/Objective-C.gitignoreResolving raw.githubusercontent.com... 151.101.64.133, 151.101.128.133, 151.101.192.133, ...Connecting to raw.githubusercontent.com|151.101.64.133|:443... connected.HTTP request sent, awaiting response... 200 OKLength: 1511 (1.5K) [text/plain]Saving to: ‘.gitignore’.gitignore          100%[===================&gt;]   1.48K  --.-KB/s    in 0s      2018-10-05 11:13:39 (49.7 MB/s) - ‘.gitignore’ saved [1511/1511]➜  GCDDemo git:(master) ✗ ls -a.                   .DS_Store           .gitignore          GCDDemo..                  .git                Default-568h@2x.png GCDDemo.xcodeproj</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_2GIj">Copy</button></div></div><p><a href="http://man.linuxde.net/wget" target="_blank" rel="noopener noreferrer">wget</a></p><p>不指定文件名的话直接以后缀命名</p><div class="mdxCodeBlock_1zKU"><div class="codeBlockContent_actS"><div tabindex="0" class="prism-code language-undefined codeBlock_tuNs thin-scrollbar"><div class="codeBlockLines_3uvA" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">➜  demo01 git:(master) ✗ wget https://requirejs.org/docs/release/2.3.6/comments/require.js--2019-05-07 15:41:00--  https://requirejs.org/docs/release/2.3.6/comments/require.jsResolving requirejs.org... 185.199.108.153, 185.199.110.153, 185.199.111.153, ...Connecting to requirejs.org|185.199.108.153|:443... connected.HTTP request sent, awaiting response... 200 OKLength: 21496 (21K) [application/javascript]Saving to: &#x27;require.js&#x27;require.js                             100%[===========================================================================&gt;]  20.99K  93.3KB/s    in 0.2s    2019-05-07 15:41:01 (93.3 KB/s) - &#x27;require.js&#x27; saved [86483]➜  demo01 git:(master) ✗ lsrequire.js test.html➜  demo01 git:(master) ✗ </span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_2GIj">Copy</button></div></div><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_prK2" id="curl"></a>curl<a class="hash-link" href="#curl" title="Direct link to heading">#</a></h3><p><a href="http://man.linuxde.net/curl" target="_blank" rel="noopener noreferrer">curl</a></p><div class="mdxCodeBlock_1zKU"><div class="codeBlockContent_actS"><div tabindex="0" class="prism-code language-zsh codeBlock_tuNs thin-scrollbar"><div class="codeBlockLines_3uvA" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">➜  GCDDemo git:(master) ✗ curl https://raw.githubusercontent.com/github/gitignore/master/Objective-C.gitignore -o .gitignore --progress######################################################################## 100.0%➜  GCDDemo git:(master) ✗ ls -a.                   .DS_Store           .gitignore          GCDDemo..                  .git                Default-568h@2x.png GCDDemo.xcodeproj</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_2GIj">Copy</button></div></div><p>-O/--remote-name	把输出写到该文件中，保留远程文件的文件名</p><p>-o/--output			把输出写到该文件中，重命名</p><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_prK2" id="rz、sz"></a>rz、sz<a class="hash-link" href="#rz、sz" title="Direct link to heading">#</a></h3><h3></h3><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_prK2" id="ubuntu实践"></a>ubuntu实践<a class="hash-link" href="#ubuntu实践" title="Direct link to heading">#</a></h2><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_prK2" id="查看当前设备ip："></a>查看当前设备ip：<a class="hash-link" href="#查看当前设备ip：" title="Direct link to heading">#</a></h3><h4><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_prK2" id="ip-addr"></a>ip addr<a class="hash-link" href="#ip-addr" title="Direct link to heading">#</a></h4><p>Debian</p><h4><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_prK2" id="ifconfig"></a>ifconfig<a class="hash-link" href="#ifconfig" title="Direct link to heading">#</a></h4><p><a href="https://blog.csdn.net/u012269267/article/details/52260757" target="_blank" rel="noopener noreferrer">https://blog.csdn.net/u012269267/article/details/52260757</a></p><div class="mdxCodeBlock_1zKU"><div class="codeBlockContent_actS"><div tabindex="0" class="prism-code language-undefined codeBlock_tuNs thin-scrollbar"><div class="codeBlockLines_3uvA" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">ifconfig -a</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_2GIj">Copy</button></div></div><p>执行以下 可能需要net-tools组件</p><div class="mdxCodeBlock_1zKU"><div class="codeBlockContent_actS"><div tabindex="0" class="prism-code language-undefined codeBlock_tuNs thin-scrollbar"><div class="codeBlockLines_3uvA" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">sudo apt install net-tools</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_2GIj">Copy</button></div></div><p>网络地址转换：</p><p><img alt="image-20210330095523442" src="/assets/images/image-20210330095523442-7c6a3dc0829a976ec753b5827f910f27.png"></p><p><img alt="image-20210330095656700" src="/assets/images/image-20210330095656700-a473ae5c424e7dffb6824d9057ded6ea.png"></p><p>桥接通过ssh访问和主机共享网络。</p><p><a href="https://bobcares.com/blog/virtualbox-ssh-nat/" target="_blank" rel="noopener noreferrer">https://bobcares.com/blog/virtualbox-ssh-nat/</a></p><div class="mdxCodeBlock_1zKU"><div class="codeBlockContent_actS"><div tabindex="0" class="prism-code language-undefined codeBlock_tuNs thin-scrollbar"><div class="codeBlockLines_3uvA" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">How VirtualBox NAT helps?Let’s now take a look on the need for having special settings to SSH to the guest server.VirtualBox support Network Address Translation aka NAT. NAT simply maps an address to another.Usually, by enabling NAT networking for any guest server, VirtualBox automatically performs IP address translation between the guest VM and host’s network. And, there is no need to configure anything on the host machine or on the local network in guest. However, this makes guest VM not reachable or visible from external networks. Thus, it creates problems when you want to access the guest VM directly.Fortunately, by enabling port forwarding for port 22, we can SSH to the guest machine from the host. Steps to enable SSH on VirtualBoxNow, let’s see how our Dedicated Engineers setup port forwarding for VirtualBox NAT. There are options to do this either from the GUI or from the command line. We’ll check both methods here. 1. Port forwarding from GUIFirstly, let’s see how to do this from the VirtualBox web interface.On VirtualBox, to allow SSH access, we need to edit the network settings of the guest VM.For this, we first choose the guest VM, then open “Settings” &gt;&gt; “Network” &gt;&gt; “Advanced” section. This will show additional network adapter options. Then, we click on “Port Forwarding” button.Here, we add a new port forwarding rule. It will contain a name for the rule, protocol, host IP, port and guest IP and port.For example, to enable SSH access on a guest machine with IP 10.0.2.15 on port 2522, our Support Engineers set up the rule from the panel as When we power on the guest VM, it will automatically enable this rule. However, to confirm that port 2522 is listening, we check using the netstat command.Now, we can SSH to the guest VM usingssh -p 2522 &lt;login&gt;@127.0.0.1Here, the SSH login request sent to 127.0.0.1:2522 will automatically be translated into 10.0.2.15:22 by VirtualBox. Thus, we can now SSH to the guest VM.</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_2GIj">Copy</button></div></div><p>桥接网卡：</p><p><img alt="image-20210330095455486" src="/assets/images/image-20210330095455486-f7398d9a1dfb1cec71fe1fbb287e8101.png"></p><p><img alt="image-20210330095248602" src="/assets/images/image-20210330095248602-f7101410322222a46f11ef8fdc68ac5d.png"></p><p>参考：linux系统(ubuntu)如何查看ip地址：<a href="https://blog.csdn.net/u012269267/article/details/52260757" target="_blank" rel="noopener noreferrer">https://blog.csdn.net/u012269267/article/details/52260757</a></p><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_prK2" id="固定ip"></a>固定ip<a class="hash-link" href="#固定ip" title="Direct link to heading">#</a></h3><h4><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_prK2" id="ubuntu2004"></a>Ubuntu20.04<a class="hash-link" href="#ubuntu2004" title="Direct link to heading">#</a></h4><p>Ubuntu20.04固定静态IP地址解决ping: <a href="http://www.baidu.com" target="_blank" rel="noopener noreferrer">www.baidu.com</a>: Temporary failure in name resolution</p><p>————————————————
版权声明：本文为CSDN博主「finnxu」的原创文章，遵循CC 4.0 BY-SA版权协议，转载请附上原文出处链接及本声明。
原文链接：<a href="https://blog.csdn.net/qq_34307723/article/details/108239350" target="_blank" rel="noopener noreferrer">https://blog.csdn.net/qq_34307723/article/details/108239350</a></p><p><a href="https://www.cnblogs.com/ubuntuanzhuang/p/13131138.html" target="_blank" rel="noopener noreferrer">https://www.cnblogs.com/ubuntuanzhuang/p/13131138.html</a></p><p>默认值：</p><div class="mdxCodeBlock_1zKU"><div class="codeBlockContent_actS"><div tabindex="0" class="prism-code language-undefined codeBlock_tuNs thin-scrollbar"><div class="codeBlockLines_3uvA" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">默认情况下，网络使用DHCP➜  ~ cat /etc/netplan/00-installer-config.yamlnetwork:    ethernets:        enp0s3:            dhcp4: true     version: 2</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_2GIj">Copy</button></div></div><p>修改为固定ip</p><div class="mdxCodeBlock_1zKU"><div class="codeBlockContent_actS"><div tabindex="0" class="prism-code language-undefined codeBlock_tuNs thin-scrollbar"><div class="codeBlockLines_3uvA" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">➜  ~ cat /etc/netplan/00-installer-config.yaml# This is the network config written by &#x27;subiquity&#x27;network:  ethernets:    enp0s3:      dhcp4: false      addresses: [192.168.1.191/24]      optional: true      gateway4: 192.168.1.1      nameservers:              addresses: [8.8.8.8, 8.8.4.4]  version: 2</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_2GIj">Copy</button></div></div><h4><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_prK2" id="debian"></a>Debian<a class="hash-link" href="#debian" title="Direct link to heading">#</a></h4><p><a href="https://www.cnblogs.com/liuyi778/p/12771084.html" target="_blank" rel="noopener noreferrer">Debian10修改静态IP地址</a></p><p>Linux下查看网关方法：</p><ol><li>route -n</li><li>ip route show</li><li>traceroute <a href="http://www.prudentwoo.com" target="_blank" rel="noopener noreferrer">www.prudentwoo.com</a> -s 100 <code>第一行就是自己的默认网关</code></li><li>netstat -r</li><li>cat /etc/network/interfaces <code>Debian/Ubuntu Linux</code></li><li>cat /etc/sysconfig/network-scripts/ifcfg-eth0 <code>Red Hat/CentOS</code></li></ol><div class="mdxCodeBlock_1zKU"><div class="codeBlockContent_actS"><div tabindex="0" class="prism-code language-undefined codeBlock_tuNs thin-scrollbar"><div class="codeBlockLines_3uvA" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">dys@debian:~$ cat /etc/network/interfaces# This file describes the network interfaces available on your system# and how to activate them. For more information, see interfaces(5).source /etc/network/interfaces.d/*# The loopback network interface#auto lo#iface lo inet loopback# The primary network interface#allow-hotplug enp0s3#iface enp0s3 inet dhcp# The loopback network interfaceauto loiface lo inet loopback#固定ip配置auto enp0s3iface enp0s3 inet staticaddress 192.168.1.192netmask 255.255.255.0gateway 192.168.1.1</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_2GIj">Copy</button></div></div><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_prK2" id="开启ssh远程登录"></a>开启ssh远程登录<a class="hash-link" href="#开启ssh远程登录" title="Direct link to heading">#</a></h3><p>必须安装SSH Server。</p><ol><li>安装SSH Server并启动</li></ol><p>①查看SSH Server是否安装</p><p>dpkg -l|grep ssh</p><p>②安装 SSH Server</p><p>sudo apt install openssh-server</p><p>③查看是否安装成功&amp;&amp;查看是否启动成功</p><ol><li>dpkg -l|grep ssh</li></ol><p>图中结果说明SSH Server安装成功</p><ol><li>ps -e|grep ssh</li></ol><p>有sshd说明SSH Server已经启动成功</p><p>如果没有启动，可通过以下两种方式启动：</p><p>sudo /etc/init.d/ssh start</p><p>sudo service ssh start</p><p>参考：Ubuntu 开启SSH服务实现远程登录与文件传输：<a href="https://zhuanlan.zhihu.com/p/87802659" target="_blank" rel="noopener noreferrer">https://zhuanlan.zhihu.com/p/87802659</a></p><hr><p>Ssh</p><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_prK2" id="设置终端分辨率参考："></a>设置终端分辨率参考：<a class="hash-link" href="#设置终端分辨率参考：" title="Direct link to heading">#</a></h3><p><a href="https://askubuntu.com/questions/456527/maximum-terminal-resolution-in-ubuntu-server-virtual-box-guest/509422" target="_blank" rel="noopener noreferrer">https://askubuntu.com/questions/456527/maximum-terminal-resolution-in-ubuntu-server-virtual-box-guest/509422</a></p><p>19</p><p>I have been trying this for a few hours now and a few days ago also for a few hours. Rob Halls solution worked for me only during the boot period, when GRUB is showing the menu entries. After the server (I am using an Ubuntu server, latest release) booted, the resolution was back to &quot;normal&quot;.</p><p>Adding the following line to <code>/etc/default/grub</code>:</p><div class="mdxCodeBlock_1zKU"><div class="codeBlockContent_actS"><div tabindex="0" class="prism-code language-undefined codeBlock_tuNs thin-scrollbar"><div class="codeBlockLines_3uvA" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">GRUB_GFXPAYLOAD_LINUX=1152x864x32</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_2GIj">Copy</button></div></div><p>and then</p><div class="mdxCodeBlock_1zKU"><div class="codeBlockContent_actS"><div tabindex="0" class="prism-code language-undefined codeBlock_tuNs thin-scrollbar"><div class="codeBlockLines_3uvA" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">update-grub2 &amp;&amp; reboot</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_2GIj">Copy</button></div></div><p>I had the higher resolution during the boot process (grub menu) and within the console.</p><hr><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_prK2" id="打开另外一个终端也处于登录状态"></a>打开另外一个终端也处于登录状态<a class="hash-link" href="#打开另外一个终端也处于登录状态" title="Direct link to heading">#</a></h3><p>比如一个操作进行中想进行另外一个操作。就会有这样的需求。</p><ul><li>tmux</li></ul><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_prK2" id="下载软件"></a>下载软件<a class="hash-link" href="#下载软件" title="Direct link to heading">#</a></h3><p>wget <a href="http://nginx.org/download/nginx-1.19.9.tar.gz" target="_blank" rel="noopener noreferrer">http://nginx.org/download/nginx-1.19.9.tar.gz</a></p><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_prK2" id="解压软件"></a>解压软件<a class="hash-link" href="#解压软件" title="Direct link to heading">#</a></h3><p><strong>.tar.gz   格式解压为     tar  -zxvf  xx.tar.gz</strong></p><p><strong>.tar.bz2  格式解压为      tar  -jxvf  xx.tar.bz2</strong></p><hr><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_prK2" id="安装nginx"></a>安装nginx<a class="hash-link" href="#安装nginx" title="Direct link to heading">#</a></h2><div class="mdxCodeBlock_1zKU"><div class="codeBlockContent_actS"><div tabindex="0" class="prism-code language-undefined codeBlock_tuNs thin-scrollbar"><div class="codeBlockLines_3uvA" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">➜  nginx-1.19.9 ./configure --prefix=/usr/local/nginx --add-module=../nginx-rtmp-modulechecking for OS + Linux 5.4.0-70-generic x86_64checking for C compiler ... not found./configure: error: C compiler cc is not found➜  nginx-1.19.9 which gccgcc not found➜  nginx-1.19.9 apt install gccE: Could not open lock file /var/lib/dpkg/lock-frontend - open (13: Permission denied)E: Unable to acquire the dpkg frontend lock (/var/lib/dpkg/lock-frontend), are you root?➜  nginx-1.19.9 sudo apt install gcc</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_2GIj">Copy</button></div></div><p>依赖gcc 所以要安装gcc</p><p>--with-pcre=</p><p>Linux 安装 nginx 安装PCRE库（1）:<a href="https://blog.csdn.net/eddy23513/article/details/81366751" target="_blank" rel="noopener noreferrer">https://blog.csdn.net/eddy23513/article/details/81366751</a></p><p>安装 Nginx 前 必须安装 PCRE: <a href="https://www.jianshu.com/p/14c81fbcb401" target="_blank" rel="noopener noreferrer">https://www.jianshu.com/p/14c81fbcb401</a></p><div class="mdxCodeBlock_1zKU"><div class="codeBlockContent_actS"><div tabindex="0" class="prism-code language-undefined codeBlock_tuNs thin-scrollbar"><div class="codeBlockLines_3uvA" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">sudo apt-get install libpcre3 libpcre3-dev  </span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_2GIj">Copy</button></div></div><p><a href="https://ftp.pcre.org/pub/pcre/" target="_blank" rel="noopener noreferrer">https://ftp.pcre.org/pub/pcre/</a></p><p>再来安装：</p><div class="mdxCodeBlock_1zKU"><div class="codeBlockContent_actS"><div tabindex="0" class="prism-code language-undefined codeBlock_tuNs thin-scrollbar"><div class="codeBlockLines_3uvA" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">./configure --prefix=/usr/local/nginx --add-module=../nginx-rtmp-module --with-pcre=../pcre2-10.36</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_2GIj">Copy</button></div></div><p> 依赖OpenSSL</p><div class="mdxCodeBlock_1zKU"><div class="codeBlockContent_actS"><div tabindex="0" class="prism-code language-undefined codeBlock_tuNs thin-scrollbar"><div class="codeBlockLines_3uvA" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">./configure: error: SSL modules require the OpenSSL library.You can either do not enable the modules, or install the OpenSSL libraryinto the system, or build the OpenSSL library statically from the sourcewith nginx by using --with-openssl=&lt;path&gt; option.</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_2GIj">Copy</button></div></div><p>缺少 zlib</p><p>./configure: error: the HTTP gzip module requires the zlib library： <a href="https://blog.csdn.net/appleyuchi/article/details/103207057" target="_blank" rel="noopener noreferrer">https://blog.csdn.net/appleyuchi/article/details/103207057</a></p><p>解决方案：</p><p>apt-get install zlib1g-dev</p><p>apt-get install zlib1g （不行）</p><p>安装后重新编译：</p><div class="mdxCodeBlock_1zKU"><div class="codeBlockContent_actS"><div tabindex="0" class="prism-code language-undefined codeBlock_tuNs thin-scrollbar"><div class="codeBlockLines_3uvA" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain"> ./configure --prefix=/usr/local/nginx --add-module=../nginx-rtmp-module --with-pcre=../pcre2-10.36 --with-openssl=../openssl</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_2GIj">Copy</button></div></div><p>成功生成makefile</p><div class="mdxCodeBlock_1zKU"><div class="codeBlockContent_actS"><div tabindex="0" class="prism-code language-undefined codeBlock_tuNs thin-scrollbar"><div class="codeBlockLines_3uvA" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">configuring additional modulesadding module in ../nginx-rtmp-module + ngx_rtmp_module was configuredchecking for zlib library ... foundcreating objs/MakefileConfiguration summary  + using PCRE library: ../pcre2-10.36  + using OpenSSL library: ../openssl  + using system zlib library  nginx path prefix: &quot;/usr/local/nginx&quot;  nginx binary file: &quot;/usr/local/nginx/sbin/nginx&quot;  nginx modules path: &quot;/usr/local/nginx/modules&quot;  nginx configuration prefix: &quot;/usr/local/nginx/conf&quot;  nginx configuration file: &quot;/usr/local/nginx/conf/nginx.conf&quot;  nginx pid file: &quot;/usr/local/nginx/logs/nginx.pid&quot;  nginx error log file: &quot;/usr/local/nginx/logs/error.log&quot;  nginx http access log file: &quot;/usr/local/nginx/logs/access.log&quot;  nginx http client request body temporary files: &quot;client_body_temp&quot;  nginx http proxy temporary files: &quot;proxy_temp&quot;  nginx http fastcgi temporary files: &quot;fastcgi_temp&quot;  nginx http uwsgi temporary files: &quot;uwsgi_temp&quot;  nginx http scgi temporary files: &quot;scgi_temp&quot;</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_2GIj">Copy</button></div></div><p> 生成的makefile文件：</p><div class="mdxCodeBlock_1zKU"><div class="codeBlockContent_actS"><div tabindex="0" class="prism-code language-undefined codeBlock_tuNs thin-scrollbar"><div class="codeBlockLines_3uvA" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">➜  nginx-1.19.9 cat Makefiledefault:        buildclean:        rm -rf Makefile objs.PHONY: default cleanbuild:        $(MAKE) -f objs/Makefileinstall:        $(MAKE) -f objs/Makefile installmodules:        $(MAKE) -f objs/Makefile modulesupgrade:        /usr/local/nginx/sbin/nginx -t        kill -USR2 `cat /usr/local/nginx/logs/nginx.pid`        sleep 1        test -f /usr/local/nginx/logs/nginx.pid.oldbin        kill -QUIT `cat /usr/local/nginx/logs/nginx.pid.oldbin`.PHONY: build install modules upgrade</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_2GIj">Copy</button></div></div><p>不带make</p><div class="mdxCodeBlock_1zKU"><div class="codeBlockContent_actS"><div tabindex="0" class="prism-code language-undefined codeBlock_tuNs thin-scrollbar"><div class="codeBlockLines_3uvA" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">sudo: make: command not found</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_2GIj">Copy</button></div></div><p>需要安装make</p><div class="mdxCodeBlock_1zKU"><div class="codeBlockContent_actS"><div tabindex="0" class="prism-code language-undefined codeBlock_tuNs thin-scrollbar"><div class="codeBlockLines_3uvA" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">➜  ~ sudo apt install makeReading package lists... Done</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_2GIj">Copy</button></div></div><p>注意： 这样make是管理员权限，而make install 不是</p><div class="mdxCodeBlock_1zKU"><div class="codeBlockContent_actS"><div tabindex="0" class="prism-code language-undefined codeBlock_tuNs thin-scrollbar"><div class="codeBlockLines_3uvA" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">➜  nginx-1.19.9 sudo make &amp;&amp; make install</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_2GIj">Copy</button></div></div><p>添加执行</p><div class="mdxCodeBlock_1zKU"><div class="codeBlockContent_actS"><div tabindex="0" class="prism-code language-undefined codeBlock_tuNs thin-scrollbar"><div class="codeBlockLines_3uvA" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">export PATH=/usr/local/nginx/sbin:$PATH</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_2GIj">Copy</button></div></div><p>可以找到nginx</p><div class="mdxCodeBlock_1zKU"><div class="codeBlockContent_actS"><div tabindex="0" class="prism-code language-undefined codeBlock_tuNs thin-scrollbar"><div class="codeBlockLines_3uvA" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">➜  nginx which nginx/usr/local/nginx/sbin/nginx</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_2GIj">Copy</button></div></div><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_prK2" id="配置rtmp服务"></a>配置rtmp服务<a class="hash-link" href="#配置rtmp服务" title="Direct link to heading">#</a></h2><p>/usr/local/nginx/conf/nginx.conf</p><div class="mdxCodeBlock_1zKU"><div class="codeBlockContent_actS"><div tabindex="0" class="prism-code language-undefined codeBlock_tuNs thin-scrollbar"><div class="codeBlockLines_3uvA" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain"># rtmp服务rtmp {    server {        #指定服务端口号        listen 1935;        chunk_size 4000;        #指定流应用        application live        {                live on;                allow play all;        }    }}</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_2GIj">Copy</button></div></div><p>启动</p><div class="mdxCodeBlock_1zKU"><div class="codeBlockContent_actS"><div tabindex="0" class="prism-code language-undefined codeBlock_tuNs thin-scrollbar"><div class="codeBlockLines_3uvA" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">➜  nginx sudo ./sbin/nginx -c ./conf/nginx.conf</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_2GIj">Copy</button></div></div><p>查看1935端口是否处于监听状态：</p><div class="mdxCodeBlock_1zKU"><div class="codeBlockContent_actS"><div tabindex="0" class="prism-code language-undefined codeBlock_tuNs thin-scrollbar"><div class="codeBlockLines_3uvA" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">➜  nginx  netstat -an | grep 1935tcp        0      0 0.0.0.0:1935            0.0.0.0:*               LISTENunix  3      [ ]         DGRAM                    21935➜  nginx</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_2GIj">Copy</button></div></div><p>Linux 包管理基础：apt、yum、dnf 和 pkg： <a href="https://linux.cn/article-8782-1.html" target="_blank" rel="noopener noreferrer">https://linux.cn/article-8782-1.html</a></p><p>Linux 命令详解（三）./configure、make、make install 命令:<a href="https://www.cnblogs.com/tinywan/p/7230039.html" target="_blank" rel="noopener noreferrer">https://www.cnblogs.com/tinywan/p/7230039.html</a></p><p>这些都是典型的使用GNU的AUTOCONF和AUTOMAKE产生的程序的安装步骤</p><p>一、基本信息</p><p>　　1、./configure 是用来检测你的安装平台的目标特征的。比如它会检测你是不是有CC或GCC，并不是需要CC或GCC，它是个shell脚本。</p><p>　　2、make 是用来编译的，它从Makefile中读取指令，然后编译。</p><p>　　3、make install是用来安装的，它也从Makefile中读取指令，安装到指定的位置。</p><p>　　注意：AUTOMAKE和AUTOCONF是非常有用的用来发布C程序的东西。</p><p>二、详细解释</p><p>　　1、configure命令</p><p>　　这一步一般用来生成 Makefile，为下一步的编译做准备，你可以通过在 configure 后加上参数来对安装进行控制，比如代码:./configure –prefix=/usr 意思是将该软件安装在 /usr 下面，执行文件就会安装在 /usr/bin （而不是默认的 /usr/local/bin),资源文件就会安装在 /usr/share（而不是默认的/usr/local/share）。同时一些软件的配置文件你可以通过指定 –sys-config= 参数进行设定。有一些软件还可以加上 –with、–enable、–without、–disable 等等参数对编译加以控制，你可以通过允许 ./configure –help 察看详细的说明帮助。</p><p>　　<img alt="img" src="/assets/images/1021265-20170724171903168-1304074614-54c343f704924691ccae607dfc95e344.png"></p><p>　　2、make</p><p>　　这一步就是编译，大多数的源代码包都经过这一步进行编译（当然有些perl或python编写的软件需要调用perl或python来进行编译）。如果 在 make 过程中出现 error ，你就要记下错误代码（注意不仅仅是最后一行），然后你可以向开发者提交 bugreport（一般在 INSTALL 里有提交地址），或者你的系统少了一些依赖库等，这些需要自己仔细研究错误代码。</p><p>　　可能遇到的错误：make *** 没有指明目标并且找不到 makefile。 停止。问题很明了，没有Makefile，怎么办，原来是要先./configure 一下，再make。</p><p>　　3、make insatll</p><p>　　这条命令来进行安装（当然有些软件需要先运行 make check 或 make test 来进行一些测试），这一步一般需要你有 root 权限（因为要向系统写入文件）。</p><p>安装完成后第一件事修改安装源。(要不然急死人)</p><div class="mdxCodeBlock_1zKU"><div class="codeBlockContent_actS"><div tabindex="0" class="prism-code language-undefined codeBlock_tuNs thin-scrollbar"><div class="codeBlockLines_3uvA" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">/etc/apt/source.listsudo cp  /etc/apt/source.list  /etc/apt/source.list.baksudo rm /etc/apt/source.listsudo touch /etc/apt/source.listsudo vi /etc/apt/source.list</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_2GIj">Copy</button></div></div><p>清华大学的源</p><p><a href="https://mirrors.tuna.tsinghua.edu.cn/help/ubuntu/" target="_blank" rel="noopener noreferrer">https://mirrors.tuna.tsinghua.edu.cn/help/ubuntu/</a></p><p>玩机顺序：</p><ol><li><p>安装zsh <code>apt install zsh</code></p></li><li><p>安装git <code>apt install git</code></p></li><li><p>安装oh~my~zsh <a href="https://ohmyz.sh/" target="_blank" rel="noopener noreferrer">https://ohmyz.sh/</a></p></li><li><p>添加一个普通用户</p><div class="mdxCodeBlock_1zKU"><div class="codeBlockContent_actS"><div tabindex="0" class="prism-code language-undefined codeBlock_tuNs thin-scrollbar"><div class="codeBlockLines_3uvA" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">➜  ~ adduser lwhAdding user `lwh&#x27; ...Adding new group `lwh&#x27; (1001) ...Adding new user `lwh&#x27; (1001) with group `lwh&#x27; ...Creating home directory `/home/lwh&#x27; ...Copying files from `/etc/skel&#x27; ...New password: Retype new password: passwd: password updated successfullyChanging the user information for lwhEnter the new value, or press ENTER for the default    Full Name []:   Room Number []:     Work Phone []:  Home Phone []:  Other []: Is the information correct? [Y/n] </span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_2GIj">Copy</button></div></div></li></ol><p>普通用户如果想要用ohmyzsh 则也需要执行一遍 【3】。</p><ol start="4"><li><p>添加sudo <code>apt install sudo</code> (刚安装好的Debian默认还没有sudo功能)</p></li><li><p>修改 /etc/sudoers  普通用户添加sudo功能。root下面加一个user行。</p><div class="mdxCodeBlock_1zKU"><div class="codeBlockContent_actS"><div tabindex="0" class="prism-code language-undefined codeBlock_tuNs thin-scrollbar"><div class="codeBlockLines_3uvA" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">root ALL=(ALL) ALLuser ALL=(ALL) ALL #用户user执行sudo时需要密码。</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_2GIj">Copy</button></div></div></li></ol><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_prK2" id="语言环境locale详解"></a>语言环境locale详解<a class="hash-link" href="#语言环境locale详解" title="Direct link to heading">#</a></h2><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_prK2" id="查看当前语言环境"></a>查看当前语言环境<a class="hash-link" href="#查看当前语言环境" title="Direct link to heading">#</a></h3><p>locale</p><div class="mdxCodeBlock_1zKU"><div class="codeBlockContent_actS"><div tabindex="0" class="prism-code language-undefined codeBlock_tuNs thin-scrollbar"><div class="codeBlockLines_3uvA" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">dys@vultr:~$ localelocale: Cannot set LC_CTYPE to default locale: No such file or directorylocale: Cannot set LC_MESSAGES to default locale: No such file or directorylocale: Cannot set LC_ALL to default locale: No such file or directoryLANG=zh_CN.UTF-8LANGUAGE=LC_CTYPE=zh_CN.UTF-8LC_NUMERIC=&quot;zh_CN.UTF-8&quot;LC_TIME=&quot;zh_CN.UTF-8&quot;LC_COLLATE=&quot;zh_CN.UTF-8&quot;LC_MONETARY=&quot;zh_CN.UTF-8&quot;LC_MESSAGES=&quot;zh_CN.UTF-8&quot;LC_PAPER=&quot;zh_CN.UTF-8&quot;LC_NAME=&quot;zh_CN.UTF-8&quot;LC_ADDRESS=&quot;zh_CN.UTF-8&quot;LC_TELEPHONE=&quot;zh_CN.UTF-8&quot;LC_MEASUREMENT=&quot;zh_CN.UTF-8&quot;LC_IDENTIFICATION=&quot;zh_CN.UTF-8&quot;LC_ALL=</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_2GIj">Copy</button></div></div><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_prK2" id="查看当前linux所支持的locale"></a>查看当前linux所支持的locale<a class="hash-link" href="#查看当前linux所支持的locale" title="Direct link to heading">#</a></h3><p>locale -a</p><div class="mdxCodeBlock_1zKU"><div class="codeBlockContent_actS"><div tabindex="0" class="prism-code language-undefined codeBlock_tuNs thin-scrollbar"><div class="codeBlockLines_3uvA" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">dys@vultr:~$ locale -alocale: Cannot set LC_CTYPE to default locale: No such file or directorylocale: Cannot set LC_MESSAGES to default locale: No such file or directorylocale: Cannot set LC_COLLATE to default locale: No such file or directoryCC.UTF-8POSIXen_US.utf8</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_2GIj">Copy</button></div></div><p>可生成的 Locale 保存在 <code>/etc/locale.gen</code> 中,用以下的格式来定义：<code>[language][_TERRITORY][.CODESET][@modifier]</code>.要开启某个Locale,反注释对应的行即可.</p><p>注意：默认开启了 <code>en_US.utf8</code> 查看文件<code>/etc/locale.gen</code>里相关行是默认被注释掉了的。且开启和使用不是一回事哦。开起来不一定使用。使用的前提是必须开启。</p><p>尽管在你的电脑上你很可能只使用一种语言,但同时开启其它的 Locale 有时会有帮助、甚至是必要的.比如你正运行着一个多用户的系统，而有的用户并不懂en_US，那么你的系统需要支持他们需要的 locale.</p><div class="mdxCodeBlock_1zKU"><div class="codeBlockContent_actS"><div tabindex="0" class="prism-code language-undefined codeBlock_tuNs thin-scrollbar"><div class="codeBlockLines_3uvA" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">dys@vultr:/usr/share/i18n/locales$ cat /etc/locale.gen# This file lists locales that you wish to have built. You can find a list# of valid supported locales at /usr/share/i18n/SUPPORTED, and you can add# user defined locales to /usr/local/share/i18n/SUPPORTED. If you change# this file, you need to rerun locale-gen.# aa_DJ ISO-8859-1...# zu_ZA.UTF-8 UTF-8# en_US.UTF-8 UTF-8dys@vultr:/usr/share/i18n/locales$ </span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_2GIj">Copy</button></div></div><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_prK2" id="开启语言环境支持"></a>开启语言环境支持<a class="hash-link" href="#开启语言环境支持" title="Direct link to heading">#</a></h3><p>比如我要开启 <code>zh_CN.UTF-8</code> 则需要修改 <code>/etc/locale.gen</code>里面的<code>zh_CN.UTF-8</code>这一行去掉注释即可。然后执行如下命令配置环境。</p><div class="mdxCodeBlock_1zKU"><div class="codeBlockContent_actS"><div tabindex="0" class="prism-code language-undefined codeBlock_tuNs thin-scrollbar"><div class="codeBlockLines_3uvA" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">root@vultr:~# locale-genGenerating locales (this might take a while)...  en_US.UTF-8... done  zh_CN.UTF-8... doneGeneration complete.</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_2GIj">Copy</button></div></div><p>然后在执行 locale 查看上面的报错 <code>locale: Cannot set LC_CTYPE to default locale: No such file or directory</code> 就没有了。</p><div class="mdxCodeBlock_1zKU"><div class="codeBlockContent_actS"><div tabindex="0" class="prism-code language-undefined codeBlock_tuNs thin-scrollbar"><div class="codeBlockLines_3uvA" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">dys@vultr:/usr/share/i18n/locales$ localeLANG=zh_CN.UTF-8LANGUAGE=LC_CTYPE=zh_CN.UTF-8LC_NUMERIC=&quot;zh_CN.UTF-8&quot;LC_TIME=&quot;zh_CN.UTF-8&quot;LC_COLLATE=&quot;zh_CN.UTF-8&quot;LC_MONETARY=&quot;zh_CN.UTF-8&quot;LC_MESSAGES=&quot;zh_CN.UTF-8&quot;LC_PAPER=&quot;zh_CN.UTF-8&quot;LC_NAME=&quot;zh_CN.UTF-8&quot;LC_ADDRESS=&quot;zh_CN.UTF-8&quot;LC_TELEPHONE=&quot;zh_CN.UTF-8&quot;LC_MEASUREMENT=&quot;zh_CN.UTF-8&quot;LC_IDENTIFICATION=&quot;zh_CN.UTF-8&quot;LC_ALL=</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_2GIj">Copy</button></div></div><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_prK2" id="安装语言环境"></a>安装语言环境<a class="hash-link" href="#安装语言环境" title="Direct link to heading">#</a></h3><div class="mdxCodeBlock_1zKU"><div class="codeBlockContent_actS"><div tabindex="0" class="prism-code language-undefined codeBlock_tuNs thin-scrollbar"><div class="codeBlockLines_3uvA" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">locale: Cannot set LC_CTYPE to default locale: No such file or directory</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_2GIj">Copy</button></div></div><p> 上述描述表明缺少 zh_CN.UTF-8 语言包。 所以需要安装 <code>zh_CN.UTF-8</code></p><p><code>locale-gen xxx</code></p><div class="mdxCodeBlock_1zKU"><div class="codeBlockContent_actS"><div tabindex="0" class="prism-code language-undefined codeBlock_tuNs thin-scrollbar"><div class="codeBlockLines_3uvA" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">root@vultr:~# locale-gen zh_CN.UTF-8Generating locales (this might take a while)...  en_US.UTF-8... doneGeneration complete.</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_2GIj">Copy</button></div></div><p>检查是否安装成功</p><div class="mdxCodeBlock_1zKU"><div class="codeBlockContent_actS"><div tabindex="0" class="prism-code language-undefined codeBlock_tuNs thin-scrollbar"><div class="codeBlockLines_3uvA" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">root@vultr:~# locale -aCC.UTF-8POSIXen_US.utf8</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_2GIj">Copy</button></div></div><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_prK2" id="为每个用户配置不一样的语言环境"></a>为每个用户配置不一样的语言环境<a class="hash-link" href="#为每个用户配置不一样的语言环境" title="Direct link to heading">#</a></h3><div class="mdxCodeBlock_1zKU"><div class="codeBlockContent_actS"><div tabindex="0" class="prism-code language-undefined codeBlock_tuNs thin-scrollbar"><div class="codeBlockLines_3uvA" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">dys@vultr:~$ localelocale: Cannot set LC_CTYPE to default locale: No such file or directorylocale: Cannot set LC_MESSAGES to default locale: No such file or directorylocale: Cannot set LC_ALL to default locale: No such file or directoryLANG=zh_CN.UTF-8LANGUAGE=LC_CTYPE=zh_CN.UTF-8LC_NUMERIC=&quot;zh_CN.UTF-8&quot;LC_TIME=&quot;zh_CN.UTF-8&quot;LC_COLLATE=&quot;zh_CN.UTF-8&quot;LC_MONETARY=&quot;zh_CN.UTF-8&quot;LC_MESSAGES=&quot;zh_CN.UTF-8&quot;LC_PAPER=&quot;zh_CN.UTF-8&quot;LC_NAME=&quot;zh_CN.UTF-8&quot;LC_ADDRESS=&quot;zh_CN.UTF-8&quot;LC_TELEPHONE=&quot;zh_CN.UTF-8&quot;LC_MEASUREMENT=&quot;zh_CN.UTF-8&quot;LC_IDENTIFICATION=&quot;zh_CN.UTF-8&quot;LC_ALL=dys@vultr:~$ su -Password: root@vultr:~# localeLANG=LANGUAGE=LC_CTYPE=&quot;POSIX&quot;LC_NUMERIC=&quot;POSIX&quot;LC_TIME=&quot;POSIX&quot;LC_COLLATE=&quot;POSIX&quot;LC_MONETARY=&quot;POSIX&quot;LC_MESSAGES=&quot;POSIX&quot;LC_PAPER=&quot;POSIX&quot;LC_NAME=&quot;POSIX&quot;LC_ADDRESS=&quot;POSIX&quot;LC_TELEPHONE=&quot;POSIX&quot;LC_MEASUREMENT=&quot;POSIX&quot;LC_IDENTIFICATION=&quot;POSIX&quot;LC_ALL=root@vultr:~# </span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_2GIj">Copy</button></div></div><p>修改响应的.zshrc 或者~/.bash_profile</p><div class="mdxCodeBlock_1zKU"><div class="codeBlockContent_actS"><div tabindex="0" class="prism-code language-undefined codeBlock_tuNs thin-scrollbar"><div class="codeBlockLines_3uvA" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain"># You may need to manually set your language environment# export LANG=en_US.UTF-8</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_2GIj">Copy</button></div></div><p>修改完就可以输入中文了。</p><div class="mdxCodeBlock_1zKU"><div class="codeBlockContent_actS"><div tabindex="0" class="prism-code language-undefined codeBlock_tuNs thin-scrollbar"><div class="codeBlockLines_3uvA" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">➜  wiki-me git:(master) ✗ soursource ~/.zshrc➜  wiki-me git:(master) ✗ locale         LANG=&quot;en_US.UTF-8&quot;LC_COLLATE=&quot;en_US.UTF-8&quot;LC_CTYPE=&quot;en_US.UTF-8&quot;LC_MESSAGES=&quot;en_US.UTF-8&quot;LC_MONETARY=&quot;en_US.UTF-8&quot;LC_NUMERIC=&quot;en_US.UTF-8&quot;LC_TIME=&quot;en_US.UTF-8&quot;LC_ALL=➜  wiki-me git:(master) ✗ 阿萨德饭饭</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_2GIj">Copy</button></div></div><p>1.全新的字符库编码信息位于 /usr/share/i18n目录下面，其中SUPPORTED中包含可用的所用字符集，格式如下：</p><div class="mdxCodeBlock_1zKU"><div class="codeBlockContent_actS"><div tabindex="0" class="prism-code language-undefined codeBlock_tuNs thin-scrollbar"><div class="codeBlockLines_3uvA" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">dys@vultr:/usr/lib/locale$ ls                 C.UTF-8  locale-archivedys@vultr:/usr/lib/locale$ </span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_2GIj">Copy</button></div></div><div class="mdxCodeBlock_1zKU"><div class="codeBlockContent_actS"><div tabindex="0" class="prism-code language-undefined codeBlock_tuNs thin-scrollbar"><div class="codeBlockLines_3uvA" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">dys@vultr:/usr/share/i18n$ lsSUPPORTED  charmaps  localesdys@vultr:/usr/share/i18n$ </span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_2GIj">Copy</button></div></div><p>Locale是软件在运行时的语言环境, 它包括语言(Language), 地域 (Territory) 和字符集(Codeset)。</p><p>一个locale的书写格式为: 语言[<em>地域[.字符集]]。完全的locale表达方式是 [语言[</em>地域][.字符集][@修正值]。</p><p>zh<em>CN.GB2312 ＝中文</em>中华人民共和国＋国标2312字符集。</p><p>locale把按照所涉及到的文化传统的各个方面分成12个大类，这12个大类分别是：</p><p>1、字符输入(LC_CTYPE)</p><p>2、数字(LC_NUMERIC)</p><p>3、比较和排序习惯(LC_COLLATE)</p><p>4、时间显示格式(LC_TIME)</p><p>5、货币单位(LC_MONETARY)</p><p>6、信息：主要是提示信息,错误信息,状态信息,标题,标签,按钮和菜单等(LC_MESSAGES)</p><p>7、姓名书写方式(LC_NAME)</p><p>8、地址书写方式(LC_ADDRESS)</p><p>9、电话号码书写方式(LC_TELEPHONE)</p><p>10、度量衡表达方式 (LC_MEASUREMENT)</p><p>11、默认纸张尺寸大小(LC_PAPER)</p><p>12、对locale自身包含信息的概述(LC_IDENTIFICATION)</p><p><strong>locale的设定：</strong></p><p>LC<em>ALL和LANG优先级的关系：LC_ALL &gt; LC</em>* &gt; LANG</p><p>修改文件(debian系列)：/etc/default/locale</p><p>修改文件(redhat系列)：/etc/sysconfig/i18n</p><p>1、如果需要一个纯中文的系统的话，设定LC_ALL=zh_CN.XXXX，或者LANG=zh_CN.XXXX都可以。</p><p>2、如果只想要一个可以输入中文的环境，而保持菜单、标题，系统信息等等为英文界面，那么只需要设定 LC_CTYPE=zh_CN.XXXX，LANG=en_US.XXXX就可以了。</p><p>3、假如什么也不做的话，也就是LC<em>ALL，LC</em>*和LANG均不指定特定值的话，系统将采用POSIX作为lcoale，也就是C locale。</p><p><strong>LANG和LANGUAGE的区别：</strong></p><p>LANG - Specifies the default locale for all unset locale variables</p><p>LANGUAGE - Most programs use this for the language of its interface</p><p>LANGUAGE是设置应用程序的界面语言。而LANG是优先级很低的一个变量，它指定所有与locale有关的变量的默认值</p><p><strong>总结一下：</strong></p><p>设定了LC<em>ALL就不用设置其他的了，他会强制覆盖掉LC</em><em>.设置部分LC_</em>和LANG的话，没有设置的LC_*采用的是LANG的值。</p><p>1、临时设定编码：[nick@ubuntu~]$ export LC_ALL=&quot;zh_CN.GBK&quot;</p><p>2、永久设定编码：修改文件/etc/profile（对所有用户有效）或者~/.bash_profile。在文件尾加入export LC_ALL=zh_CN.GBK</p><p>Linux上执行命令时，报出Failed to set locale, defaulting to C错误，是由于没有设置正确的语言环境。</p><ul><li>解决方案</li></ul><div class="mdxCodeBlock_1zKU"><div class="codeBlockContent_actS"><div tabindex="0" class="prism-code language-undefined codeBlock_tuNs thin-scrollbar"><div class="codeBlockLines_3uvA" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">echo &quot;export LC_ALL=en_US.UTF-8&quot; &gt;&gt; /etc/profilesource /etc/profile</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_2GIj">Copy</button></div></div><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_prK2" id="命令执行"></a>命令执行<a class="hash-link" href="#命令执行" title="Direct link to heading">#</a></h2><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_prK2" id="多个命令一起执行"></a>多个命令一起执行<a class="hash-link" href="#多个命令一起执行" title="Direct link to heading">#</a></h3><p>在命令行可以一次执行多个命令，有以下几种：</p><p>1.每个命令之间用;隔开
说明：各命令的执行结果，不会影响其它命令的执行。换句话说，各个命令都会执行，
但不保证每个命令都执行成功。</p><div class="mdxCodeBlock_1zKU"><div class="codeBlockContent_actS"><div tabindex="0" class="prism-code language-undefined codeBlock_tuNs thin-scrollbar"><div class="codeBlockLines_3uvA" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">cd /home/PyTest/src; python suning.py</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_2GIj">Copy</button></div></div><p>2.每个命令之间用&amp;&amp;隔开
说明：若前面的命令执行成功，才会去执行后面的命令。这样可以保证所有的命令执行完毕后，执行过程都是成功的。</p><div class="mdxCodeBlock_1zKU"><div class="codeBlockContent_actS"><div tabindex="0" class="prism-code language-undefined codeBlock_tuNs thin-scrollbar"><div class="codeBlockLines_3uvA" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">cd /home/PyTest/src&amp;&amp;python suning.py</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_2GIj">Copy</button></div></div><p>3.每个命令之间用||或者|隔开
说明：||是或的意思，只有前面的命令执行失败后才去执行下一条命令，直到执行成功
一条命令为止。</p><p>管道可以将一个命令的输出导向另一个命令的输入，从而让两个(或者更多命令)像流水线一样连续工作，不断地处理文本流。在命令行中，我们用|表示管道</p><div class="mdxCodeBlock_1zKU"><div class="codeBlockContent_actS"><div tabindex="0" class="prism-code language-undefined codeBlock_tuNs thin-scrollbar"><div class="codeBlockLines_3uvA" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">cd /home/PyTest/123 || echo &quot;error234&quot;cd /home/PyTest/123 | echo &quot;error234&quot;</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_2GIj">Copy</button></div></div><p><a href="https://www.cnblogs.com/mydriverc/p/8302584.html" target="_blank" rel="noopener noreferrer">https://www.cnblogs.com/mydriverc/p/8302584.html</a></p><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_prK2" id="接口"></a>接口<a class="hash-link" href="#接口" title="Direct link to heading">#</a></h2><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_prK2" id="posix"></a>posix<a class="hash-link" href="#posix" title="Direct link to heading">#</a></h3><p><a href="https://www.rt-thread.org/document/site/programming-manual/posix/posix/" target="_blank" rel="noopener noreferrer">https://www.rt-thread.org/document/site/programming-manual/posix/posix/</a></p><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_prK2" id="c标准库"></a>c标准库<a class="hash-link" href="#c标准库" title="Direct link to heading">#</a></h3><p><a href="https://www.runoob.com/cprogramming/c-tutorial.html" target="_blank" rel="noopener noreferrer">https://www.runoob.com/cprogramming/c-tutorial.html</a></p><p><a href="https://www.gnu.org/software/libc/sources.html" target="_blank" rel="noopener noreferrer">https://www.gnu.org/software/libc/sources.html</a></p><div class="mdxCodeBlock_1zKU"><div class="codeBlockContent_actS"><div tabindex="0" class="prism-code language-undefined codeBlock_tuNs thin-scrollbar"><div class="codeBlockLines_3uvA" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">Download sourcesCheckout the latest glibc in development:git clone https://sourceware.org/git/glibc.gitcd glibcgit checkout masterReleases are available by source branch checkout (gitweb) and tarball via ftp.Checkout the latest glibc 2.33 stable release:git clone https://sourceware.org/git/glibc.gitcd glibcgit checkout release/2.33/masterRelease tarballs are available via anonymous ftp at http://ftp.gnu.org/gnu/glibc/ and its mirrors.</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_2GIj">Copy</button></div></div><p><a href="https://github.com/llvm/llvm-project" target="_blank" rel="noopener noreferrer">https://github.com/llvm/llvm-project</a></p><div class="mdxCodeBlock_1zKU"><div class="codeBlockContent_actS"><div tabindex="0" class="prism-code language-undefined codeBlock_tuNs thin-scrollbar"><div class="codeBlockLines_3uvA" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">git@github.com:llvm/llvm-project.git</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_2GIj">Copy</button></div></div><p>string 和strings</p><p><a href="https://www.cnblogs.com/xuyaowen/p/strings_h_and_string_h.html" target="_blank" rel="noopener noreferrer">https://www.cnblogs.com/xuyaowen/p/strings_h_and_string_h.html</a></p><p><a href="https://stackoverflow.com/questions/4291149/difference-between-string-h-and-strings-h" target="_blank" rel="noopener noreferrer">https://stackoverflow.com/questions/4291149/difference-between-string-h-and-strings-h</a></p><p><code>&lt;string.h&gt;</code> 是c标准</p><p><code>&lt;strings.h&gt;</code> 是posix标准 参见Unix高级编程 和 man手册</p><h1><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_prK2" id="实践"></a>实践<a class="hash-link" href="#实践" title="Direct link to heading">#</a></h1><p>屏幕翻页快捷键</p><p>shift+PgUp    向前翻看,一般翻13页左右。</p><p>shift+PgDown  向后翻看,一般翻13页左右。</p><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_prK2" id="软件安装：rpm，srpm，yum"></a>软件安装：RPM，SRPM，YUM<a class="hash-link" href="#软件安装：rpm，srpm，yum" title="Direct link to heading">#</a></h2><p><a href="https://blog.csdn.net/jiangzhengdong/article/details/8037159" target="_blank" rel="noopener noreferrer">yum install 与 yum groupinstall 的区别</a></p><p><strong>yum 提供二种安装软件的方式</strong></p><p>1，yum install 它安装单个软件，以及这个软件的依赖关系</p><p>2，yum groupinstall 它安装一个安装包，这个安装包包涵了很多单个软件，以及单个软件的依赖关系。</p><p>举例说明一下。</p><p>我想装mysql</p><p>yum install mysql 或者 yum groupinstall &quot;MySQL Database&quot; 这二个都是可以安装mysql的</p><div class="mdxCodeBlock_1zKU"><div class="codeBlockContent_actS"><div tabindex="0" class="prism-code language-undefined codeBlock_tuNs thin-scrollbar"><div class="codeBlockLines_3uvA" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">[root@tank ~]# yum groupinfo &quot;MySQL Database&quot;Loading &quot;security&quot; pluginLoading &quot;rhnplugin&quot; pluginSetting up Group Processrhel-x86_64-server-5      100% |=========================| 1.4 kB    00:00Group: MySQL Database Description: This package group contains packages useful for use with MySQL. Mandatory Packages: mysql Default Packages: unixODBC mysql-server MySQL-python mysql-connector-odbc libdbi-dbd-mysql perl-DBD-MySQL Optional Packages: mod_auth_mysql mysql-devel qt-MySQL mysql-bench php-mysql</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_2GIj">Copy</button></div></div><p>如果想查看单个软件的安装，yum info 软件名，在这里yum info mysql</p><p>MySQL Database这个安装包里面包括了mysql,mysql-server,mysql-bench等等，安装这个包，不光安装了mysql，还安装了mysql的一些工具。如果是用yum install mysql来安装mysql的话，只是安装了MySQL Database这个包里面的mysql部分。</p><p>MySQL Database和mysql可以理解成，省份和城市的关系，一省份里面有好多城市</p><ul><li>yum upgrade和yum update</li></ul><p>都是系统升级命名。</p><p>2、升级内容</p><p>yum -y update：升级所有包同时也升级软件和系统内核；</p><p>yum -y upgrade：只升级所有包，不升级软件和系统内核。</p><p>3、使用范围</p><p>yum -y update：需要更新内核；</p><p>yum -y upgrade：更新系统时，软件和内核保持原样。</p><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_prK2" id="x-window设置介绍"></a>X Window设置介绍<a class="hash-link" href="#x-window设置介绍" title="Direct link to heading">#</a></h2><p><a href="https://blog.csdn.net/duchao123duchao/article/details/72617768" target="_blank" rel="noopener noreferrer">安装图形界面，并设置为默认启动方式</a></p><div class="mdxCodeBlock_1zKU"><div class="codeBlockContent_actS"><div tabindex="0" class="prism-code language-undefined codeBlock_tuNs thin-scrollbar"><div class="codeBlockLines_3uvA" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">sudo yum groupinstall &quot;X Window System&quot;</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">sudo yum groupinstall &quot;GNOME Desktop&quot;</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_2GIj">Copy</button></div></div><p><a href="https://jingyan.baidu.com/article/0964eca26fc3b38284f53642.html" target="_blank" rel="noopener noreferrer">Linux CentOS 7的图形界面安装（GNOME、KDE等）</a></p><p>Tmux</p><div class="mdxCodeBlock_1zKU"><div class="codeBlockContent_actS"><div tabindex="0" class="prism-code language-undefined codeBlock_tuNs thin-scrollbar"><div class="codeBlockLines_3uvA" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">➜  ~ tmux </span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">➜  ~ tmux ls         </span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">0: 1 windows (created Thu Jul 12 12:34:59 2018) [80x23]</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">➜  ~ tmux attach -t 0</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_2GIj">Copy</button></div></div><h4><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_prK2" id="离线管理的问题"></a>离线管理的问题<a class="hash-link" href="#离线管理的问题" title="Direct link to heading">#</a></h4><p>后台运行并输出log到指定文件。</p><div class="mdxCodeBlock_1zKU"><div class="codeBlockContent_actS"><div tabindex="0" class="prism-code language-undefined codeBlock_tuNs thin-scrollbar"><div class="codeBlockLines_3uvA" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">nohup hexo s &gt; ~/hexo.log &amp;</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_2GIj">Copy</button></div></div><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_prK2" id="使用者身份切换"></a>使用者身份切换<a class="hash-link" href="#使用者身份切换" title="Direct link to heading">#</a></h3><p>一般避免直接用root来登录有以下几个原因：</p><ol><li>一般账号权限较低，不容易误操作。</li><li>较低权限启动系统服务。</li><li>软件本身限制。telnet 和ssh 限制root登录。</li></ol><blockquote><p>“由于上述考虑，所以我们都是使用一般帐号登陆系统的，等有需要进行系统维护或软件更新时才转为 root 的身份来动作。”</p><p>摘录来自: 鸟哥. “鸟哥的Linux私房菜——基础学习篇（第四版）。” iBooks.</p></blockquote><h4><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_prK2" id="su"></a><code>su</code><a class="hash-link" href="#su" title="Direct link to heading">#</a></h4><ol><li>要知道root密码。</li></ol><div class="mdxCodeBlock_1zKU"><div class="codeBlockContent_actS"><div tabindex="0" class="prism-code language-undefined codeBlock_tuNs thin-scrollbar"><div class="codeBlockLines_3uvA" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">“[root@study ~]# su -lm [username]选项与参数：- ：单纯使用 - 如“ su - ”代表使用 login-shell 的变量文件读取方式来登陆系统；  若使用者名称没有加上去，则代表切换为 root 的身份。  -l  ：与 - 类似，但后面需要加欲切换的使用者帐号！也是 login-shell 的方式。  -m  ：-m 与 -p 是一样的，表示“使用目前的环境设置，而不读取新使用者的配置文件”  -c  ：仅进行一次指令，所以 -c 后面可以加上指令喔！”摘录来自: 鸟哥. “鸟哥的Linux私房菜——基础学习篇（第四版）。” iBooks. </span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_2GIj">Copy</button></div></div><p>注意带-是指shell变量也切换过去。</p><h4><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_prK2" id="sodu"></a><code>sodu</code><a class="hash-link" href="#sodu" title="Direct link to heading">#</a></h4><ol><li>不需要知道root密码</li><li>需要设置</li></ol><p>给一般用户添加sudo权限</p><p>root环境下：</p><div class="mdxCodeBlock_1zKU"><div class="codeBlockContent_actS"><div tabindex="0" class="prism-code language-undefined codeBlock_tuNs thin-scrollbar"><div class="codeBlockLines_3uvA" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">visudo</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_2GIj">Copy</button></div></div><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_prK2" id="账号管理"></a>账号管理<a class="hash-link" href="#账号管理" title="Direct link to heading">#</a></h3><p>添加用户：</p><div class="mdxCodeBlock_1zKU"><div class="codeBlockContent_actS"><div tabindex="0" class="prism-code language-undefined codeBlock_tuNs thin-scrollbar"><div class="codeBlockLines_3uvA" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">useradd dys</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_2GIj">Copy</button></div></div><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_prK2" id="bash-1"></a>bash<a class="hash-link" href="#bash-1" title="Direct link to heading">#</a></h2><p>locale 语言环境，查看的博客。</p><div class="mdxCodeBlock_1zKU"><div class="codeBlockContent_actS"><div tabindex="0" class="prism-code language-undefined codeBlock_tuNs thin-scrollbar"><div class="codeBlockLines_3uvA" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">#!/usr/bin/env#!/usr/bin/env python</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_2GIj">Copy</button></div></div><p>usr: Linux 系统中的目录</p><p>/usr 位于根目录，usr本身是 Unix System Resource 的缩写，其目录下存放实用程序。</p><p>脚本用env启动的原因，是因为脚本解释器在linux中可能被安装于不同的目录，env可以在系统的PATH目录中查找。同时，env还规定一些系统环境变量。</p><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_prK2" id="启动和初次登录"></a>启动和初次登录<a class="hash-link" href="#启动和初次登录" title="Direct link to heading">#</a></h2><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_prK2" id="首次登陆系统"></a>首次登陆系统<a class="hash-link" href="#首次登陆系统" title="Direct link to heading">#</a></h3><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_prK2" id="文字模式下的指令下达"></a>文字模式下的指令下达<a class="hash-link" href="#文字模式下的指令下达" title="Direct link to heading">#</a></h3><p>几个重要的热键：</p><ul><li>tab 补全</li><li>Ctrl+c 中断</li><li>Ctrl+d 退出</li><li>shift+pageup 上翻页</li><li>shift+pagedown 下翻页</li><li>Ctrl + Alt + [f1-f6] 窗口切换</li></ul><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_prK2" id="安装centos"></a>安装centos<a class="hash-link" href="#安装centos" title="Direct link to heading">#</a></h2><p>使用gpt分区 tab之后输入：<code>inst.gpt</code> 记得一定和之前的文字流出空格。</p><div class="mdxCodeBlock_1zKU"><div class="codeBlockContent_actS"><div tabindex="0" class="prism-code language-undefined codeBlock_tuNs thin-scrollbar"><div class="codeBlockLines_3uvA" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">inst.gpt</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_2GIj">Copy</button></div></div><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_prK2" id="标准化"></a>标准化<a class="hash-link" href="#标准化" title="Direct link to heading">#</a></h2><p><a href="https://www.cnblogs.com/xuyaowen/p/strings_h_and_string_h.html" target="_blank" rel="noopener noreferrer">https://www.cnblogs.com/xuyaowen/p/strings_h_and_string_h.html</a></p><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_prK2" id="发行版"></a>发行版<a class="hash-link" href="#发行版" title="Direct link to heading">#</a></h2><ul><li><a href="https://zhuanlan.zhihu.com/p/139874681" target="_blank" rel="noopener noreferrer">常用Linux发行版操作系统大盘点</a></li></ul><p><strong>选用建议</strong></p><ul><li>如果是完全0基础的新手，只是想入门<code>Linux</code>的生态，体验<code>Linux</code>界面，那<code>Ubuntu</code>就非常合适</li><li>如果喜欢折腾和DIY，好奇心满满，可以试试<code>Arch</code>、<code>Manjaro</code>、<code>Gentoo</code>这些</li><li>如果想用来部署服务，考虑稳定性，那<code>CentOS</code>、<code>Debian</code>都是不错的选择</li></ul><p>当然这仅仅只是参考，最终的选择还是看个人需求和兴趣吧。</p><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_prK2" id="linux服务器"></a>linux服务器<a class="hash-link" href="#linux服务器" title="Direct link to heading">#</a></h2><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_prK2" id="远端拷到本地"></a>远端拷到本地<a class="hash-link" href="#远端拷到本地" title="Direct link to heading">#</a></h3><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_prK2" id="参考文档"></a>参考文档<a class="hash-link" href="#参考文档" title="Direct link to heading">#</a></h2><ul><li>鸟哥的linux：<a href="http://cn.linux.vbird.org/" target="_blank" rel="noopener noreferrer">http://cn.linux.vbird.org/</a></li><li>《Linux命令行与Shell脚本编程大全》-布卢姆-.pdf</li><li><a href="https://www.kancloud.cn/thinkphp/linux-command-line" target="_blank" rel="noopener noreferrer">The Linux Command Line 中文版</a></li><li>Linux 命令大全 <a href="https://www.runoob.com/linux/linux-command-manual.html" target="_blank" rel="noopener noreferrer">https://www.runoob.com/linux/linux-command-manual.html</a></li><li><a href="http://man.linuxde.net/" target="_blank" rel="noopener noreferrer">Linux命令大全</a></li><li><a href="http://tldp.org/LDP/abs/html/" target="_blank" rel="noopener noreferrer">http://tldp.org/LDP/abs/html/</a></li><li><a href="https://blog.csdn.net/LF_2016" target="_blank" rel="noopener noreferrer">https://blog.csdn.net/LF_2016</a></li><li><a href="https://developer.aliyun.com/article/724622" target="_blank" rel="noopener noreferrer">https://developer.aliyun.com/article/724622</a></li><li><a href="https://www.linuxcool.com/" target="_blank" rel="noopener noreferrer">https://www.linuxcool.com/</a></li><li><a href="https://refspecs.linuxbase.org/LSB_4.1.0/LSB-Core-generic/LSB-Core-generic/book1.html" target="_blank" rel="noopener noreferrer">Linux Standard Base Core Specification 4.1</a></li><li><a href="https://refspecs.linuxbase.org/" target="_blank" rel="noopener noreferrer">Linux Foundation Referenced Specifications</a>（重要，规定了linux世界的各种标准）</li></ul><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_prK2" id="源码阅读"></a>源码阅读<a class="hash-link" href="#源码阅读" title="Direct link to heading">#</a></h2><p>linux0.1.1</p></div></article><div class="margin-vert--xl"><div class="row"><div class="col"><a href="dys-typora-open://mine/survival/docs/编程基础/操作系统/Linux/Linux.md" target="_blank" rel="noreferrer noopener"><svg fill="currentColor" height="1.2em" width="1.2em" preserveAspectRatio="xMidYMid meet" role="img" viewBox="0 0 40 40" class="iconEdit_2LL7"><g><path d="m34.5 11.7l-3 3.1-6.3-6.3 3.1-3q0.5-0.5 1.2-0.5t1.1 0.5l3.9 3.9q0.5 0.4 0.5 1.1t-0.5 1.2z m-29.5 17.1l18.4-18.5 6.3 6.3-18.4 18.4h-6.3v-6.2z"></path></g></svg>Edit this page</a></div></div></div><div class="margin-vert--lg"><nav class="pagination-nav" aria-label="Blog list page navigation"><div class="pagination-nav__item"></div><div class="pagination-nav__item pagination-nav__item--next"></div></nav></div></div></div><div class="col col--3"><div class="tableOfContents_2xL- thin-scrollbar"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#linux-装机" class="table-of-contents__link">Linux 装机</a></li><li><a href="#系统设置" class="table-of-contents__link">系统设置</a><ul><li><a href="#本地化" class="table-of-contents__link">本地化</a></li></ul></li><li><a href="#用户管理" class="table-of-contents__link">用户管理</a><ul><li><a href="#添加用户" class="table-of-contents__link">添加用户</a></li><li><a href="#删除用户" class="table-of-contents__link">删除用户</a></li><li><a href="#修改密码" class="table-of-contents__link">修改密码</a></li><li><a href="#身份切换" class="table-of-contents__link">身份切换</a></li></ul></li><li><a href="#软件管理" class="table-of-contents__link">软件管理</a><ul><li><a href="#软件源数据源" class="table-of-contents__link">软件源/数据源</a></li><li><a href="#安装工具" class="table-of-contents__link">安装工具</a></li><li><a href="#软件安装" class="table-of-contents__link">软件安装</a></li><li><a href="#软件升级" class="table-of-contents__link">软件升级</a></li><li><a href="#软件删除" class="table-of-contents__link">软件删除</a></li></ul></li><li><a href="#常用软件" class="table-of-contents__link">常用软件</a><ul><li><a href="#vsftp" class="table-of-contents__link">vsftp</a></li><li><a href="#卸载vsftp" class="table-of-contents__link">卸载vsftp</a></li><li><a href="#1：登录ftp-服务器" class="table-of-contents__link">1：登录ftp 服务器</a></li><li><a href="#2：ftp下载文件到本地" class="table-of-contents__link">2：ftp下载文件到本地</a></li><li><a href="#gitlab" class="table-of-contents__link">GitLab</a></li><li><a href="#jenkins" class="table-of-contents__link">Jenkins</a></li><li><a href="#nano和vi" class="table-of-contents__link">nano和vi</a></li></ul></li><li><a href="#进程管理" class="table-of-contents__link">进程管理</a><ul><li><a href="#开机自启动" class="table-of-contents__link">开机自启动</a></li><li><a href="#自动重启" class="table-of-contents__link">自动重启</a></li><li><a href="#查看进程" class="table-of-contents__link">查看进程</a></li><li><a href="#杀进程" class="table-of-contents__link">杀进程</a></li><li><a href="#ps" class="table-of-contents__link">ps</a></li><li><a href="#crontab" class="table-of-contents__link">crontab</a></li><li><a href="#pkill" class="table-of-contents__link">pkill</a></li></ul></li><li><a href="#文件管理" class="table-of-contents__link">文件管理</a><ul><li><a href="#文件查找和比较" class="table-of-contents__link">文件查找和比较</a></li><li><a href="#find" class="table-of-contents__link">find</a></li><li><a href="#移动文件" class="table-of-contents__link">移动文件</a></li></ul></li><li><a href="#内核相关" class="table-of-contents__link">内核相关</a><ul><li><a href="#uname" class="table-of-contents__link">uname</a></li><li><a href="#lsb_release" class="table-of-contents__link">lsb_release</a></li></ul></li><li><a href="#编程开发" class="table-of-contents__link">编程开发</a><ul><li><a href="#expr" class="table-of-contents__link">expr</a></li></ul></li><li><a href="#shell" class="table-of-contents__link">Shell</a><ul><li><a href="#bash" class="table-of-contents__link">bash</a></li></ul></li><li><a href="#zsh" class="table-of-contents__link">ZSH</a><ul><li><a href="#常用命令" class="table-of-contents__link">常用命令</a></li><li><a href="#vpn" class="table-of-contents__link">VPN</a></li><li><a href="#shadowsocks" class="table-of-contents__link">shadowsocks</a></li><li><a href="#bbr" class="table-of-contents__link">BBR</a></li><li><a href="#xz-tar-解压" class="table-of-contents__link">xz tar 解压</a></li></ul></li><li><a href="#ssh自动登录" class="table-of-contents__link">ssh自动登录</a><ul><li><a href="#文件夹及目录" class="table-of-contents__link">文件夹及目录</a></li><li><a href="#配置步骤" class="table-of-contents__link">配置步骤</a></li></ul></li><li><a href="#命令行上传下载总结" class="table-of-contents__link">命令行上传下载总结</a><ul><li><a href="#scp-1" class="table-of-contents__link">scp</a></li><li><a href="#ftp" class="table-of-contents__link">ftp</a></li><li><a href="#sftp" class="table-of-contents__link">sftp</a></li><li><a href="#wget" class="table-of-contents__link">wget</a></li><li><a href="#curl" class="table-of-contents__link">curl</a></li><li><a href="#rz、sz" class="table-of-contents__link">rz、sz</a></li></ul></li><li><a href="#ubuntu实践" class="table-of-contents__link">ubuntu实践</a><ul><li><a href="#查看当前设备ip：" class="table-of-contents__link">查看当前设备ip：</a></li><li><a href="#固定ip" class="table-of-contents__link">固定ip</a></li><li><a href="#开启ssh远程登录" class="table-of-contents__link">开启ssh远程登录</a></li><li><a href="#设置终端分辨率参考：" class="table-of-contents__link">设置终端分辨率参考：</a></li><li><a href="#打开另外一个终端也处于登录状态" class="table-of-contents__link">打开另外一个终端也处于登录状态</a></li><li><a href="#下载软件" class="table-of-contents__link">下载软件</a></li><li><a href="#解压软件" class="table-of-contents__link">解压软件</a></li></ul></li><li><a href="#安装nginx" class="table-of-contents__link">安装nginx</a></li><li><a href="#配置rtmp服务" class="table-of-contents__link">配置rtmp服务</a></li><li><a href="#语言环境locale详解" class="table-of-contents__link">语言环境locale详解</a><ul><li><a href="#查看当前语言环境" class="table-of-contents__link">查看当前语言环境</a></li><li><a href="#查看当前linux所支持的locale" class="table-of-contents__link">查看当前linux所支持的locale</a></li><li><a href="#开启语言环境支持" class="table-of-contents__link">开启语言环境支持</a></li><li><a href="#安装语言环境" class="table-of-contents__link">安装语言环境</a></li><li><a href="#为每个用户配置不一样的语言环境" class="table-of-contents__link">为每个用户配置不一样的语言环境</a></li></ul></li><li><a href="#命令执行" class="table-of-contents__link">命令执行</a><ul><li><a href="#多个命令一起执行" class="table-of-contents__link">多个命令一起执行</a></li></ul></li><li><a href="#接口" class="table-of-contents__link">接口</a><ul><li><a href="#posix" class="table-of-contents__link">posix</a></li><li><a href="#c标准库" class="table-of-contents__link">c标准库</a></li></ul></li><li><a href="#软件安装：rpm，srpm，yum" class="table-of-contents__link">软件安装：RPM，SRPM，YUM</a></li><li><a href="#x-window设置介绍" class="table-of-contents__link">X Window设置介绍</a><ul><li><a href="#使用者身份切换" class="table-of-contents__link">使用者身份切换</a></li><li><a href="#账号管理" class="table-of-contents__link">账号管理</a></li></ul></li><li><a href="#bash-1" class="table-of-contents__link">bash</a></li><li><a href="#启动和初次登录" class="table-of-contents__link">启动和初次登录</a><ul><li><a href="#首次登陆系统" class="table-of-contents__link">首次登陆系统</a></li><li><a href="#文字模式下的指令下达" class="table-of-contents__link">文字模式下的指令下达</a></li></ul></li><li><a href="#安装centos" class="table-of-contents__link">安装centos</a></li><li><a href="#标准化" class="table-of-contents__link">标准化</a></li><li><a href="#发行版" class="table-of-contents__link">发行版</a></li><li><a href="#linux服务器" class="table-of-contents__link">linux服务器</a><ul><li><a href="#远端拷到本地" class="table-of-contents__link">远端拷到本地</a></li></ul></li><li><a href="#参考文档" class="table-of-contents__link">参考文档</a></li><li><a href="#源码阅读" class="table-of-contents__link">源码阅读</a></li></ul></div></div></div></div></main></div></div><footer class="footer footer--dark"><div class="container"><div class="row footer__links"><div class="col footer__col"><h4 class="footer__title">Docs</h4><ul class="footer__items"><li class="footer__item"><a class="footer__link-item" href="/docs/">Style Guide</a></li><li class="footer__item"><a class="footer__link-item" href="/docs/">Second Doc</a></li></ul></div><div class="col footer__col"><h4 class="footer__title">Community</h4><ul class="footer__items"><li class="footer__item"><a href="https://stackoverflow.com/questions/tagged/docusaurus" target="_blank" rel="noopener noreferrer" class="footer__link-item">Stack Overflow</a></li><li class="footer__item"><a href="https://discordapp.com/invite/docusaurus" target="_blank" rel="noopener noreferrer" class="footer__link-item">Discord</a></li><li class="footer__item"><a href="https://twitter.com/docusaurus" target="_blank" rel="noopener noreferrer" class="footer__link-item">Twitter</a></li></ul></div><div class="col footer__col"><h4 class="footer__title">More</h4><ul class="footer__items"><li class="footer__item"><a class="footer__link-item" href="/blog">Blog</a></li><li class="footer__item"><a href="https://github.com/facebook/docusaurus" target="_blank" rel="noopener noreferrer" class="footer__link-item">GitHub</a></li></ul></div></div><div class="footer__bottom text--center"><div class="footer__copyright">Copyright © 2021 My Project, Inc. Built with Docusaurus.</div></div></div></footer></div>
<script src="/styles.fb1c19b8.js"></script>
<script src="/runtime~main.cc14fc68.js"></script>
<script src="/main.c6b7f4ce.js"></script>
<script src="/1.a9a8f0c0.js"></script>
<script src="/258.6205818a.js"></script>
<script src="/259.e50796f0.js"></script>
<script src="/935f2afb.41d9bdbd.js"></script>
<script src="/257.eedf933d.js"></script>
<script src="/1796be80.b3bdd9d4.js"></script>
</body>
</html>