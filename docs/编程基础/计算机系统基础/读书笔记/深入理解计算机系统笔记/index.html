<!doctype html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width,initial-scale=1">
<meta name="generator" content="Docusaurus v2.0.0-alpha.70">
<link rel="alternate" type="application/rss+xml" href="/blog/rss.xml" title="My Site Blog RSS Feed">
<link rel="alternate" type="application/atom+xml" href="/blog/atom.xml" title="My Site Blog Atom Feed"><title data-react-helmet="true">深入理解计算机系统笔记 | My Site</title><meta data-react-helmet="true" name="twitter:card" content="summary_large_image"><meta data-react-helmet="true" name="docusaurus_locale" content="en"><meta data-react-helmet="true" name="docusaurus_version" content="current"><meta data-react-helmet="true" name="docusaurus_tag" content="docs-default-current"><meta data-react-helmet="true" property="og:title" content="深入理解计算机系统笔记 | My Site"><meta data-react-helmet="true" name="description" content="深入理解计算机系统笔记"><meta data-react-helmet="true" property="og:description" content="深入理解计算机系统笔记"><meta data-react-helmet="true" property="og:url" content="http://localhost:9999//docs/编程基础/计算机系统基础/读书笔记/深入理解计算机系统笔记"><link data-react-helmet="true" rel="shortcut icon" href="/img/favicon.ico"><link data-react-helmet="true" rel="canonical" href="http://localhost:9999//docs/编程基础/计算机系统基础/读书笔记/深入理解计算机系统笔记"><link rel="stylesheet" href="/styles.8cfbcdec.css">
<link rel="preload" href="/styles.fb1c19b8.js" as="script">
<link rel="preload" href="/runtime~main.cc14fc68.js" as="script">
<link rel="preload" href="/main.c6b7f4ce.js" as="script">
<link rel="preload" href="/1.a9a8f0c0.js" as="script">
<link rel="preload" href="/258.6205818a.js" as="script">
<link rel="preload" href="/259.e50796f0.js" as="script">
<link rel="preload" href="/935f2afb.41d9bdbd.js" as="script">
<link rel="preload" href="/257.eedf933d.js" as="script">
<link rel="preload" href="/803d726c.45beb8b5.js" as="script">
</head>
<body>
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){var t=null;try{t=localStorage.getItem("theme")}catch(t){}return t}();t(null!==e?e:"light")}()</script><div id="__docusaurus">
<nav aria-label="Skip navigation links"><button type="button" tabindex="0" class="skipToContent_11B0">Skip to main content</button></nav><nav class="navbar navbar--fixed-top"><div class="navbar__inner"><div class="navbar__items"><div aria-label="Navigation bar toggle" class="navbar__toggle" role="button" tabindex="0"><svg aria-label="Menu" width="30" height="30" viewBox="0 0 30 30" role="img" focusable="false"><title>Menu</title><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></div><a class="navbar__brand" href="/"><img src="/img/logo.svg" alt="My Site Logo" class="themedImage_YANc themedImage--light_3CMI navbar__logo"><img src="/img/logo.svg" alt="My Site Logo" class="themedImage_YANc themedImage--dark_3ARp navbar__logo"><strong class="navbar__title">My Site</strong></a><a aria-current="page" class="navbar__item navbar__link navbar__link--active" href="/docs/">基础</a><a class="navbar__item navbar__link" href="/docs/编程语言/编程语言">语言</a><a class="navbar__item navbar__link" href="/docs/工具/常用工具">工具</a><a class="navbar__item navbar__link" href="/docs/应用开发/应用开发">应用开发</a><a class="navbar__item navbar__link" href="/docs/Apple/iOS开发/iOS开发">Apple</a><a class="navbar__item navbar__link" href="/docs/音视频/音视频">音视频</a><a class="navbar__item navbar__link" href="/docs/项目/项目">项目</a></div><div class="navbar__items navbar__items--right"><div class="react-toggle react-toggle--disabled displayOnlyInLargeViewport_2N3Q"><div class="react-toggle-track"><div class="react-toggle-track-check"><span class="toggle_3NWk">🌜</span></div><div class="react-toggle-track-x"><span class="toggle_3NWk">🌞</span></div></div><div class="react-toggle-thumb"></div><input type="checkbox" disabled="" aria-label="Dark mode toggle" class="react-toggle-screenreader-only"></div><div class="navbar__search"><span aria-label="expand searchbar" role="button" class="search-icon" tabindex="0"></span><input type="search" id="search_input_react" placeholder="Search" aria-label="Search" class="navbar__search-input search-bar"></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div><div class="navbar-sidebar"><div class="navbar-sidebar__brand"><a class="navbar__brand" href="/"><img src="/img/logo.svg" alt="My Site Logo" class="themedImage_YANc themedImage--light_3CMI navbar__logo"><img src="/img/logo.svg" alt="My Site Logo" class="themedImage_YANc themedImage--dark_3ARp navbar__logo"><strong class="navbar__title">My Site</strong></a></div><div class="navbar-sidebar__items"><div class="menu"><ul class="menu__list"><li class="menu__list-item"><a aria-current="page" class="menu__link navbar__link--active" href="/docs/">基础</a></li><li class="menu__list-item"><a class="menu__link" href="/docs/编程语言/编程语言">语言</a></li><li class="menu__list-item"><a class="menu__link" href="/docs/工具/常用工具">工具</a></li><li class="menu__list-item"><a class="menu__link" href="/docs/应用开发/应用开发">应用开发</a></li><li class="menu__list-item"><a class="menu__link" href="/docs/Apple/iOS开发/iOS开发">Apple</a></li><li class="menu__list-item"><a class="menu__link" href="/docs/音视频/音视频">音视频</a></li><li class="menu__list-item"><a class="menu__link" href="/docs/项目/项目">项目</a></li></ul></div></div></div></nav><div class="main-wrapper"><div class="docPage_vMrn"><main class="docMainContainer_2iGs"><div class="container padding-vert--lg docItemWrapper_1bxp"><div class="row"><div class="col docItemCol_U38p"><div class="docItemContainer_a7m4"><article><header><h1 class="docTitle_Oumm">深入理解计算机系统笔记</h1></header><div class="markdown"><h1><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_prK2" id="深入理解计算机系统笔记"></a>深入理解计算机系统笔记<a class="hash-link" href="#深入理解计算机系统笔记" title="Direct link to heading">#</a></h1><p>[toc]</p><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_prK2" id="程序结构和执行"></a>程序结构和执行<a class="hash-link" href="#程序结构和执行" title="Direct link to heading">#</a></h2><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_prK2" id="信息的表示和处理"></a>信息的表示和处理<a class="hash-link" href="#信息的表示和处理" title="Direct link to heading">#</a></h3><h4><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_prK2" id="信息存储"></a>信息存储<a class="hash-link" href="#信息存储" title="Direct link to heading">#</a></h4><hr><p>指针是：地址+类型</p><hr><p>字数据大小：每台机器都有一个字长（word size），指明指针数据的标称大小。这和机器的寻址范围有关。近年，出现了大规模的从32位字长机器到64位字长机器的迁移。</p><p>程序员应该力图使他们的程序在不同的机器和编译器上可移植。可移植性的一个方面就是使程序对不同的数据类型的确切大小不敏感。例如：许多程序员假设一个声明int类型的程序对象能被用来存储一个指针。这在32位机器上还可以工作，可是到64位机器上就坑了。</p><ul><li>size_t是跟随机器字长走的，可以存储指针</li><li>用 int32_t和int64_t 取代 int 和 long。</li></ul><hr><p>int a = 0x12345678</p><ul><li><p>最低有效位：0x78</p></li><li><p>最高有效位是：0x12</p></li><li><p>大端模式：0x12345678</p></li><li><p>小端模式：0x78563412</p></li></ul><hr><p><code>man ascii</code>可以得到ascii表。记住几个特殊的值</p><ul><li>0x31 是数组1  </li><li>0x41是A</li><li>0x61是a</li></ul><hr><p><strong>表示字符串</strong></p><p>表示字符串用字符数组，每个字符都由某个标准编码来表示，最常见的是ASCII字符码。使用ASCII码作为字符码，在任何系统上都将得到相同的结果。因而<strong>文本数据比二进制数据有更强的平台独立性。</strong></p><p><strong>表示代码</strong></p><p><img alt="image-20210904181711831" src="/assets/images/image-20210904181711831-7a0236e247e559739c757e07f1334297.png"></p><p>相同的代码，在不同类型的机器上编译时生成的机器代码是不同的。二进制代码很少能在不同机器和操作系统组合之间移植。</p><hr><p>布尔代数</p><p>围绕二进制演化出来的丰富的数学知识体系。</p><hr><p>位级运算</p><ul><li>或 OR |</li><li>与 AND &amp;</li><li>非 NOT ~</li></ul><p><img alt="image-20210904182435978" src="/assets/images/image-20210904182435978-ae281a168e9adc96e3e6ebc8b22337c5.png"></p><hr><p>逻辑运算</p><ul><li>或 OR ||</li><li>与 AND &amp;&amp;</li><li>非 NOT ！</li></ul><p><img alt="image-20210904182422943" src="/assets/images/image-20210904182422943-4a3adb2f53f033d4eab4549f6c39a236.png"></p><p>很重要的一个特性：逻辑运算如果第一个值就能确定结果，则不会对第二个参数求值。<code>a&amp;&amp;5/a</code>不会出现除0的情况。</p><hr><p>移位运算</p><ul><li>左移</li><li>逻辑右移</li><li>算术右移</li></ul><p><img alt="image-20210904183423938" src="/assets/images/image-20210904183423938-23a26da60bba4635f341136cd1f3d0c0.png"></p><p>C：右移没有明确定义，编译器和机器默认对有符号数是算术右移，无符号是逻辑右移。</p><p>Java：右移有明确定义。 x&gt;&gt;k 算术右移   x&gt;&gt;&gt;k 逻辑右移</p><p>移动k位k很大 实际上移位量是k mod w。</p><h4><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_prK2" id="整数表示"></a>整数表示<a class="hash-link" href="#整数表示" title="Direct link to heading">#</a></h4><p>整数数据类型</p><p>C标准规定了最小的取值范围，真实取值范围一般和他一样或者大一些。对几个数敏感一点。</p><p>2^8 = 256</p><p>2^16=65536			万级别</p><p>2^32=4294967295 十亿级别</p><hr><p>有符号数的3中编码方式</p><ul><li>原码（最高位仅代表符号，权重是1）</li><li>反码（最高位代表符号，权重是2^(w-1)-1）</li><li>补码（最高位代表符号，权重是2^(w-1)）</li></ul><p><img alt="image-20210905065050636" src="/assets/images/image-20210905065050636-29b725e57bd8423910bf3aa2eedb984b.png"></p><p><img alt="image-20210905071813822" src="/assets/images/image-20210905071813822-6c946fd110bbd3d5eb778b23030098a6.png"></p><p>注意理解对于非负数x，我们用2^w-x表示-x的补码表示这种特性。</p><ul><li>0，2^w 	w位全是0.</li><li>-1，2^w-1  w位全是1.</li></ul><hr><p>计算机用的是补码表示法</p><div class="mdxCodeBlock_1zKU"><div class="codeBlockContent_actS"><div tabindex="0" class="prism-code language-c codeBlock_tuNs thin-scrollbar"><div class="codeBlockLines_3uvA" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">    </span><span class="token keyword" style="font-style:italic">char</span><span class="token plain"> a </span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token plain"> </span><span class="token number" style="color:rgb(247, 140, 108)">5</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    </span><span class="token keyword" style="font-style:italic">char</span><span class="token plain"> b </span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token plain"> </span><span class="token operator" style="color:rgb(137, 221, 255)">-</span><span class="token number" style="color:rgb(247, 140, 108)">5</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    </span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    </span><span class="token comment" style="color:rgb(105, 112, 152);font-style:italic">/*</span></div><div class="token-line" style="color:#bfc7d5"><span class="token comment" style="color:rgb(105, 112, 152);font-style:italic">     Hello, World!</span></div><div class="token-line" style="color:#bfc7d5"><span class="token comment" style="color:rgb(105, 112, 152);font-style:italic">     (lldb) p &amp;a</span></div><div class="token-line" style="color:#bfc7d5"><span class="token comment" style="color:rgb(105, 112, 152);font-style:italic">     (char *) $0 = 0x00007ffeefbff3df &quot;\U00000005\U00000018\xf4\xbf\xef\xfe\U0000007f&quot;</span></div><div class="token-line" style="color:#bfc7d5"><span class="token comment" style="color:rgb(105, 112, 152);font-style:italic">     (lldb) x 0x00007ffeefbff3df</span></div><div class="token-line" style="color:#bfc7d5"><span class="token comment" style="color:rgb(105, 112, 152);font-style:italic">     0x7ffeefbff3df: 05 18 f4 bf ef fe 7f 00 00 01 00 00 00 00 00 00  ................</span></div><div class="token-line" style="color:#bfc7d5"><span class="token comment" style="color:rgb(105, 112, 152);font-style:italic">     0x7ffeefbff3ef: 00 08 f4 bf ef fe 7f 00 00 3d ef 43 20 ff 7f 00  .........=.C ...</span></div><div class="token-line" style="color:#bfc7d5"><span class="token comment" style="color:rgb(105, 112, 152);font-style:italic">     (lldb) p &amp;b</span></div><div class="token-line" style="color:#bfc7d5"><span class="token comment" style="color:rgb(105, 112, 152);font-style:italic">     (char *) $1 = 0x00007ffeefbff3de &quot;\xfb\U00000005\U00000018\xf4\xbf\xef\xfe\U0000007f&quot;</span></div><div class="token-line" style="color:#bfc7d5"><span class="token comment" style="color:rgb(105, 112, 152);font-style:italic">     (lldb) x 0x00007ffeefbff3de</span></div><div class="token-line" style="color:#bfc7d5"><span class="token comment" style="color:rgb(105, 112, 152);font-style:italic">     0x7ffeefbff3de: fb 05 18 f4 bf ef fe 7f 00 00 01 00 00 00 00 00  ................</span></div><div class="token-line" style="color:#bfc7d5"><span class="token comment" style="color:rgb(105, 112, 152);font-style:italic">     0x7ffeefbff3ee: 00 00 08 f4 bf ef fe 7f 00 00 3d ef 43 20 ff 7f  ..........=.C ..</span></div><div class="token-line" style="color:#bfc7d5"><span class="token comment" style="color:rgb(105, 112, 152);font-style:italic">     (lldb)</span></div><div class="token-line" style="color:#bfc7d5"><span class="token comment" style="display:inline-block;color:rgb(105, 112, 152);font-style:italic">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token comment" style="color:rgb(105, 112, 152);font-style:italic">     5  :05        00000101</span></div><div class="token-line" style="color:#bfc7d5"><span class="token comment" style="color:rgb(105, 112, 152);font-style:italic">     -5 :fb        11111011</span></div><div class="token-line" style="color:#bfc7d5"><span class="token comment" style="color:rgb(105, 112, 152);font-style:italic">     </span></div><div class="token-line" style="color:#bfc7d5"><span class="token comment" style="color:rgb(105, 112, 152);font-style:italic">     辅助的表示是补码： 源码取反+1</span></div><div class="token-line" style="color:#bfc7d5"><span class="token comment" style="color:rgb(105, 112, 152);font-style:italic">     */</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    </span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_2GIj">Copy</button></div></div><hr><p>有符号数和无符号数之间的转换</p><p>short 转换为 unsigned short <strong>可能会改变值，但是不改变位表示</strong>。</p><div class="mdxCodeBlock_1zKU"><div class="codeBlockContent_actS"><div tabindex="0" class="prism-code language-c codeBlock_tuNs thin-scrollbar"><div class="codeBlockLines_3uvA" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">    </span><span class="token keyword" style="font-style:italic">short</span><span class="token plain"> a </span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token plain"> </span><span class="token operator" style="color:rgb(137, 221, 255)">-</span><span class="token number" style="color:rgb(247, 140, 108)">12345</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    </span><span class="token keyword" style="font-style:italic">unsigned</span><span class="token plain"> </span><span class="token keyword" style="font-style:italic">short</span><span class="token plain"> ua </span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token keyword" style="font-style:italic">unsigned</span><span class="token plain"> </span><span class="token keyword" style="font-style:italic">short</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain">a</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    </span><span class="token function" style="color:rgb(130, 170, 255)">printf</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token string" style="color:rgb(195, 232, 141)">&quot;a=%d,ua=%u\n&quot;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain">a</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain">ua</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    </span><span class="token comment" style="color:rgb(105, 112, 152);font-style:italic">//a=-12345,ua=53191</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    </span><span class="token keyword" style="font-style:italic">unsigned</span><span class="token plain"> </span><span class="token keyword" style="font-style:italic">char</span><span class="token plain"> b </span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token plain"> </span><span class="token number" style="color:rgb(247, 140, 108)">255</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    </span><span class="token keyword" style="font-style:italic">char</span><span class="token plain"> bs </span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token keyword" style="font-style:italic">char</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain">b</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    </span><span class="token function" style="color:rgb(130, 170, 255)">printf</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token string" style="color:rgb(195, 232, 141)">&quot;b=%u,bs=%d\n&quot;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain">b</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain">bs</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    </span><span class="token comment" style="color:rgb(105, 112, 152);font-style:italic">//b=255,bs=-1</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_2GIj">Copy</button></div></div><p>给定位w模式的：补码转为无符号数。</p><p><img alt="image-20210905073749923" src="/assets/images/image-20210905073749923-83a869732b6c880586c88bc469f53888.png"></p><p><img alt="image-20210905073932415" src="/assets/images/image-20210905073932415-9086a7f904804d3af4d1593a9bf65a89.png"></p><p>u最大值是ffffff，转为补码是-1</p><hr><p>扩展一个数字的位表示。</p><ul><li>无符号数的零扩展</li></ul><p><img alt="image-20210905080922781" src="/assets/images/image-20210905080922781-9ad93799487eaead644d3021a2f33114.png"></p><ul><li>补码数的符号扩展</li></ul><p><img alt="image-20210905080905905" src="/assets/images/image-20210905080905905-d0afd6a47be359d90f59e7045061f954.png"></p><hr><p>截断数字</p><ul><li>截断无符号数</li></ul><p><img alt="image-20210905081016847" src="/assets/images/image-20210905081016847-97c6918212bed935f02cc96b6fedee8e.png"></p><ul><li>截断补码数值</li></ul><p><img alt="image-20210905081041458" src="/assets/images/image-20210905081041458-52b19168e6c0f8189b27595c8e8a67e2.png"></p><hr><p>有符号数和无符号数的建议。</p><p>java只支持有符号整数，且要求用补码实现。很多其他的语言也是这样。</p><p>对于系统级程序员来说，无符号值是很有意义的。（地址自然就是无符号的）</p><h4><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_prK2" id="整数运算"></a>整数运算<a class="hash-link" href="#整数运算" title="Direct link to heading">#</a></h4><p>整数运算实际上是一种模运算形式。表示数字的有限字长限制了可能值的取值范围，结果可能溢出。</p><h4><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_prK2" id="浮点数"></a>浮点数<a class="hash-link" href="#浮点数" title="Direct link to heading">#</a></h4><p><img alt="image-20210905101249713" src="/assets/images/image-20210905101249713-46628887a2bc4a55edc03eec3d2d34ac.png"></p><p><img alt="image-20210905101310071" src="/assets/images/image-20210905101310071-a058253dfa3d9b11f4d12c9b2f05ad2e.png"></p><p><img alt="image-20210905101412578" src="/assets/images/image-20210905101412578-7b6fadc120a1d43cce8f862caed12fd4.png"></p><p><img alt="image-20210905102843948" src="/assets/images/image-20210905102843948-00b51be2c3980291558df481c0c7256b.png"></p><p><strong>符号位</strong></p><p>第一部分是一个<strong>符号位</strong>，用来表示是正数还是负数。我们一般用<strong>s</strong>来表示。</p><p><strong>指数位</strong>、<strong>阶码</strong></p><p>阶码的值是E=e-Bias</p><p>：偏置形式表示的有符号整数。</p><p>Bias = 2^(k-1) -1(单精度是127，双精度是1023)</p><p>接下来是一个 8 个比特组成的<strong>指数位</strong>。我们一般用<strong>e</strong>来表示。8 个比特能够表示的整数空间，就是 0～255。我们在这里用 1～254 映射到 -126～127 这 254 个有正有负的数上。因为我们的浮点数，不仅仅想要表示很大的数，还希望能够表示很小的数，所以指数位也会有负数。</p><p>你发现没，我们没有用到 0 和 255。没错，这里的 0（也就是 8 个比特全部为 0） 和 255</p><p><strong>小数位</strong>、<strong>尾数</strong>、<strong>有效数位</strong></p><p><strong>小数点是浮动的，所以叫浮点数。</strong></p><p>对应的，BCD 编码的实数，小数点固定在某一位的方式，我们也就把它称为<strong>定点数</strong>。</p><p> <strong>9.1 的二进制表示</strong></p><p>这块参考：徐文浩的计算机组成原理。</p><p>9.1的二进制表示1001.000110011…</p><p>把小数点左移三位，这个数就变成了：</p><p><img alt="image-20210905110317017" src="data:image/png;base64,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"></p><p>那 3 其实对应的是加上 127 的偏移量 130，转化成二进制，就是 130，对应的就是指数位的二进制，表示出来就是 1000<strong>0010</strong>。</p><p><img alt="img" src="/assets/images/3380BE96-8661-4FE2-A2CD-8AA65075006C-9093301b820f1298142ce38b53d4e455.jpeg"></p><p>01000<strong>0010</strong> 0010 <strong>0011001100110011</strong> <strong>001</strong></p><p>如果我们再把这个浮点数表示换算成十进制， 实际准确的值是 9.09999942779541015625。相信你现在应该不会感觉奇怪了。</p><p><a href="https://www.h-schmidt.net/FloatConverter/IEEE754.html" target="_blank" rel="noopener noreferrer">https://www.h-schmidt.net/FloatConverter/IEEE754.html</a></p><p>浮点数的加法：<strong>先对齐、再计算</strong>。</p><p>两个浮点数的指数位可能是不一样的，所以我们要把两个的指数位，变成一样的，然后只去计算有效位的加法就好了。</p><p>![下载 (7)](深入理解计算机系统笔记.assets/下载 (7).jpeg)</p><p>回到浮点数的加法过程，你会发现，其中指数位较小的数，需要在有效位进行右移，在右移的过程中，最右侧的有效位就被丢弃掉了。这会导致对应的指数位较小的数，在加法发生之前，就<strong>丢失精度</strong>。<strong>两个相加数的指数位差的越大，位移的位数越大，可能丢失的精度也就越大。</strong></p><p><img alt="image-20210905111030765" src="/assets/images/image-20210905111030765-e195d32bfe6aee8b3956c14a25dde023.png"></p><p><strong>Kahan Summation 算法</strong> 解决精度丢失</p><p><a href="https://en.wikipedia.org/wiki/Kahan_summation_algorithm" target="_blank" rel="noopener noreferrer">https://en.wikipedia.org/wiki/Kahan_summation_algorithm</a></p><p>其实这个算法的原理其实并不复杂，就是在每次的计算过程中，都用一次减法，把当前加法计算中损失的精度记录下来，然后在后面的循环中，把这个精度损失放在要加的小数上，再做一次运算。</p><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_prK2" id="程序的机器级表示"></a>程序的机器级表示<a class="hash-link" href="#程序的机器级表示" title="Direct link to heading">#</a></h3><p>机器级代码</p><p>计算机利用更简单的抽象模型来隐藏实现的细节。对应机器级编程来说，两种抽象尤为重要，</p><p>第一种是：</p><p>ISA：Instruction Set Architecture（指令集架构/指令集体系结构）</p><p>他定义了机器级程序的格式和行为，它定义了处理器状态，指令的格式，以及每条指令对状态的影响。</p><p>第二种是：</p><p>机器级程序使用的内存地址是虚拟地址，提供的内存模型，看上去是一个非常大的数组。</p><hr><h4><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_prK2" id="数据格式"></a>数据格式<a class="hash-link" href="#数据格式" title="Direct link to heading">#</a></h4><p><img alt="image-20210905145744553" src="/assets/images/image-20210905145744553-939facfdf6e2e9c285837d431de031e9.png"></p><h4><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_prK2" id="访问信息"></a>访问信息<a class="hash-link" href="#访问信息" title="Direct link to heading">#</a></h4><p><img alt="image-20210905145720847" src="/assets/images/image-20210905145720847-5ab57ce7f6f8a083ae86655436f78d47.png"></p><p>总结一下：</p><ul><li>参数：rdi，rsi，rdx，rcx，r8,  r9  （通过给这些寄存器赋值，给函数传参）</li><li>返回值：rax（通过给rax赋值，设置函数返回值）</li></ul><hr><p>操作数</p><p>大多数指令都有一个或多个操作数，指示执行一个操作要使用的源数据值，以及放置结果的目的位置。</p><p><img alt="image-20210905150030559" src="/assets/images/image-20210905150030559-5915748c990e2d95bc891370be38e0dc.png"></p><hr><p>数据传送指令</p><p>最频繁使用的指令是将数据从一个位置复制到另一个位置的指令。</p><p>通常把不同的指令划分为指令类，每一类的指令执行相同的操作，只不过操作数大小不同。</p><p>最简单的数据传送指令： MOV类</p><p><img alt="image-20210905150700547" src="/assets/images/image-20210905150700547-1fef989c2dd7b8b4f8bcd6dc516f390a.png"></p><p>将一个值从一个内存位置复制到另一个内存位置需要两条指令。（两个操作数不能同时执行内存）</p><hr><p>数据传送示例</p><ul><li>所谓的指针其实就是地址</li><li>间接引用指针就是将该指针放到一个寄存器中，然后在内存引用中使用这个寄存器。</li><li>局部变量通常保存在寄存器中，而不是内存中，访问寄存器比访问内存快得多。</li><li>参数通过寄存器传递给函数</li></ul><hr><p>压入和弹出栈数据</p><p><img alt="image-20210905164035450" src="/assets/images/image-20210905164035450-e9331041b0a7b85190c6694090ea5c8d.png"></p><p><code>pushq %rbp</code> 等价于：</p><p><img alt="image-20210905164626253" src="/assets/images/image-20210905164626253-0458aba0206723183cf99d0fe5278b9c.png"></p><p><img alt="image-20210905164659452" src="/assets/images/image-20210905164659452-36ba3ab98bb02e5b2fe2decee9ec3932.png"></p><p><code>popq %rax</code> 等价于</p><p><img alt="image-20210905164824445" src="/assets/images/image-20210905164824445-b20e29f89e88764625d5b1fa7eb41900.png"></p><h4><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_prK2" id="算数和逻辑操作"></a>算数和逻辑操作<a class="hash-link" href="#算数和逻辑操作" title="Direct link to heading">#</a></h4><p><img alt="image-20210905165146967" src="/assets/images/image-20210905165146967-73b45c8d274f64936381dcd7df0c6da3.png"></p><h5><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_prK2" id="加载有效地址"></a>加载有效地址<a class="hash-link" href="#加载有效地址" title="Direct link to heading">#</a></h5><p>（load effective address）指令leaq，实际上是mov指令的变形。（将有效地址写入目的操作数）</p><p>leaq能执行加法和有限形式的乘法。</p><h5><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_prK2" id="一元和二元操作"></a>一元和二元操作<a class="hash-link" href="#一元和二元操作" title="Direct link to heading">#</a></h5><h4><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_prK2" id="控制"></a>控制<a class="hash-link" href="#控制" title="Direct link to heading">#</a></h4><p>机器代码提供两种基本的低级机制来实现有条件的行为:测试数据值，然后根据测试的结果来改变控制流或者数据流。</p><h5><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_prK2" id="条件码"></a>条件码<a class="hash-link" href="#条件码" title="Direct link to heading">#</a></h5><p>除了整数寄存器，cpu还维护这一组单个位的条件码（condition code）寄存器，他们描述了<strong>最近的算术或逻辑操作的属性。</strong></p><p>最常用的条件码有：</p><ul><li>CF：进位标志。最近的操作使最高位产生了进位。可用来检查无符号操作的溢出。</li><li>ZF：零标志。最近的操作得出的结果为0.</li><li>SF：符号标志。最近的操作得到的结果为负数。</li><li>OF：溢出标志。最近的操作导致一个补码溢出-正溢出或者负溢出。</li></ul><p><strong>条件码寄存器主要给分支判断提供依据。很重要</strong></p><p>除 了 图 3 -10中 的 指 令 会 设 置 条 件码，还有两类指令(cmp, test)(有8, 16, 32和64位形式)，它们只设置条件码而不改变任何其他寄存器;</p><ul><li>CMP指令和SUB的行为是一致的，但是他只设置条件码而不改变其他寄存器</li><li>TEST指令和AND的行为是一致的，但是他只设置条件码而不改变其他寄存器</li></ul><h5><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_prK2" id="访问条件码"></a>访问条件码<a class="hash-link" href="#访问条件码" title="Direct link to heading">#</a></h5><p> 条件码通常不会直接读取，常用的使用方法有3种：</p><ol><li><p>根据条件码的某种组合，将一个字节设置为0或者1.</p></li><li><p>可以条件跳转到程序的某个其他的部分</p></li><li><p>可以有条件地传送数据。</p></li></ol><p>跳转指令的编码</p><p>跳转指令有几种不同的编码，最常用的是PC相对寻址。 下一条指令的地址+偏移量</p><p><img alt="image-20210905200046073" src="/assets/images/image-20210905200046073-a90c724aa9bced0b04118461a7609a69.png"></p><p><img alt="image-20210905200058206" src="/assets/images/image-20210905200058206-ed2d3fd963943993bef3356b1006c505.png"></p><p><code>eb 03 </code> 下一条指令的地址是5，也就是PC的值是5, + 3 得到跳转的地址8.</p><p><code>7f f8</code>下一条指令的地址是d，也就是PC的值是13, + -8 得到跳转地址5</p><div class="mdxCodeBlock_1zKU"><div class="codeBlockContent_actS"><div tabindex="0" class="prism-code language-undefined codeBlock_tuNs thin-scrollbar"><div class="codeBlockLines_3uvA" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">0000000000000060 &lt;_main&gt;:</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  60:   55                      push   %rbp</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  61:   48 89 e5                mov    %rsp,%rbp</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  64:   48 83 ec 20             sub    $0x20,%rsp</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  68:   c7 45 fc 00 00 00 00    movl   $0x0,-0x4(%rbp)</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  6f:   89 7d f8                mov    %edi,-0x8(%rbp)</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  72:   48 89 75 f0             mov    %rsi,-0x10(%rbp)</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  76:   c7 45 ec 02 00 00 00    movl   $0x2,-0x14(%rbp)</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  7d:   c7 45 e8 03 00 00 00    movl   $0x3,-0x18(%rbp)</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  84:   8b 45 ec                mov    -0x14(%rbp),%eax</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  87:   3b 45 e8                cmp    -0x18(%rbp),%eax</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  8a:   0f 8e 0a 00 00 00       jle    9a &lt;_main+0x3a&gt;//90+0a=9a</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  90:   e8 00 00 00 00          callq  95 &lt;_main+0x35&gt;</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  95:   e9 05 00 00 00          jmpq   9f &lt;_main+0x3f&gt;//9a+05=9f</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  9a:   e8 00 00 00 00          callq  9f &lt;_main+0x3f&gt;</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  9f:   31 c0                   xor    %eax,%eax</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  a1:   48 83 c4 20             add    $0x20,%rsp</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  a5:   5d                      pop    %rbp</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  a6:   c3                      retq   </span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">➜  3.6.4 git:(master) ✗ </span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_2GIj">Copy</button></div></div><h4><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_prK2" id="过程"></a>过程<a class="hash-link" href="#过程" title="Direct link to heading">#</a></h4><p>过程是软件中一种很重要的抽象。它提供了一种封装代码的方式，用一组指定的参数和一个可 选的返回值实现了某种功能。然后，可以在程序中不同的地方调用这个函数。</p><p>为了讨论方便，假设过程 P调用过程Q, Q 执行后返回到P。这些动作包括下面一个或多个机制:</p><ul><li><p>传递控制。在进入过程Q的时候，程序计数器必须被设置为Q的代码的起始地址，然 后在返回时，要把程序计数器设置为P中调用Q后面那条指令的地址。</p></li><li><p>传递数据。p必须能够向Q提供一个或多个参数，Q必须能够向p返回一个值。</p></li><li><p>分配和释放内存。在开始时，Q可能需要为局部变量分配空间，而在返回前，又必须 释放这些存储空间。</p></li></ul><p>x86-64的过程实现包括一组特殊的指令和一些对机器资源(例如寄存器和程序内存)使用的约定规则。</p></div></article><div class="margin-vert--xl"><div class="row"><div class="col"><a href="dys-typora-open://mine/survival/docs/编程基础/计算机系统基础/读书笔记/深入理解计算机系统笔记.md" target="_blank" rel="noreferrer noopener"><svg fill="currentColor" height="1.2em" width="1.2em" preserveAspectRatio="xMidYMid meet" role="img" viewBox="0 0 40 40" class="iconEdit_2LL7"><g><path d="m34.5 11.7l-3 3.1-6.3-6.3 3.1-3q0.5-0.5 1.2-0.5t1.1 0.5l3.9 3.9q0.5 0.4 0.5 1.1t-0.5 1.2z m-29.5 17.1l18.4-18.5 6.3 6.3-18.4 18.4h-6.3v-6.2z"></path></g></svg>Edit this page</a></div></div></div><div class="margin-vert--lg"><nav class="pagination-nav" aria-label="Blog list page navigation"><div class="pagination-nav__item"></div><div class="pagination-nav__item pagination-nav__item--next"></div></nav></div></div></div><div class="col col--3"><div class="tableOfContents_2xL- thin-scrollbar"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#程序结构和执行" class="table-of-contents__link">程序结构和执行</a><ul><li><a href="#信息的表示和处理" class="table-of-contents__link">信息的表示和处理</a></li><li><a href="#程序的机器级表示" class="table-of-contents__link">程序的机器级表示</a></li></ul></li></ul></div></div></div></div></main></div></div><footer class="footer footer--dark"><div class="container"><div class="row footer__links"><div class="col footer__col"><h4 class="footer__title">Docs</h4><ul class="footer__items"><li class="footer__item"><a class="footer__link-item" href="/docs/">Style Guide</a></li><li class="footer__item"><a class="footer__link-item" href="/docs/">Second Doc</a></li></ul></div><div class="col footer__col"><h4 class="footer__title">Community</h4><ul class="footer__items"><li class="footer__item"><a href="https://stackoverflow.com/questions/tagged/docusaurus" target="_blank" rel="noopener noreferrer" class="footer__link-item">Stack Overflow</a></li><li class="footer__item"><a href="https://discordapp.com/invite/docusaurus" target="_blank" rel="noopener noreferrer" class="footer__link-item">Discord</a></li><li class="footer__item"><a href="https://twitter.com/docusaurus" target="_blank" rel="noopener noreferrer" class="footer__link-item">Twitter</a></li></ul></div><div class="col footer__col"><h4 class="footer__title">More</h4><ul class="footer__items"><li class="footer__item"><a class="footer__link-item" href="/blog">Blog</a></li><li class="footer__item"><a href="https://github.com/facebook/docusaurus" target="_blank" rel="noopener noreferrer" class="footer__link-item">GitHub</a></li></ul></div></div><div class="footer__bottom text--center"><div class="footer__copyright">Copyright © 2021 My Project, Inc. Built with Docusaurus.</div></div></div></footer></div>
<script src="/styles.fb1c19b8.js"></script>
<script src="/runtime~main.cc14fc68.js"></script>
<script src="/main.c6b7f4ce.js"></script>
<script src="/1.a9a8f0c0.js"></script>
<script src="/258.6205818a.js"></script>
<script src="/259.e50796f0.js"></script>
<script src="/935f2afb.41d9bdbd.js"></script>
<script src="/257.eedf933d.js"></script>
<script src="/803d726c.45beb8b5.js"></script>
</body>
</html>