<!doctype html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width,initial-scale=1">
<meta name="generator" content="Docusaurus v2.0.0-alpha.70">
<link rel="alternate" type="application/rss+xml" href="/blog/rss.xml" title="My Site Blog RSS Feed">
<link rel="alternate" type="application/atom+xml" href="/blog/atom.xml" title="My Site Blog Atom Feed"><title data-react-helmet="true">06-递归&amp;回溯&amp;分治 | My Site</title><meta data-react-helmet="true" name="twitter:card" content="summary_large_image"><meta data-react-helmet="true" name="docusaurus_locale" content="en"><meta data-react-helmet="true" name="docusaurus_version" content="current"><meta data-react-helmet="true" name="docusaurus_tag" content="docs-default-current"><meta data-react-helmet="true" property="og:title" content="06-递归&amp;回溯&amp;分治 | My Site"><meta data-react-helmet="true" name="description" content="第八章：递归、分治和回溯"><meta data-react-helmet="true" property="og:description" content="第八章：递归、分治和回溯"><meta data-react-helmet="true" property="og:url" content="http://localhost:9999//docs/编程基础/数据结构与算法/算法面试/06-递归&amp;回溯&amp;分治"><link data-react-helmet="true" rel="shortcut icon" href="/img/favicon.ico"><link data-react-helmet="true" rel="canonical" href="http://localhost:9999//docs/编程基础/数据结构与算法/算法面试/06-递归&amp;回溯&amp;分治"><link rel="stylesheet" href="/styles.8cfbcdec.css">
<link rel="preload" href="/styles.4ec932fe.js" as="script">
<link rel="preload" href="/runtime~main.3425bbd6.js" as="script">
<link rel="preload" href="/main.4d172be4.js" as="script">
<link rel="preload" href="/1.978a979f.js" as="script">
<link rel="preload" href="/284.9b127a42.js" as="script">
<link rel="preload" href="/285.87bc8610.js" as="script">
<link rel="preload" href="/935f2afb.0ad17a86.js" as="script">
<link rel="preload" href="/283.46b48473.js" as="script">
<link rel="preload" href="/c1856bf5.2d057e56.js" as="script">
</head>
<body>
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){var t=null;try{t=localStorage.getItem("theme")}catch(t){}return t}();t(null!==e?e:"light")}()</script><div id="__docusaurus">
<nav aria-label="Skip navigation links"><button type="button" tabindex="0" class="skipToContent_11B0">Skip to main content</button></nav><nav class="navbar navbar--fixed-top"><div class="navbar__inner"><div class="navbar__items"><div aria-label="Navigation bar toggle" class="navbar__toggle" role="button" tabindex="0"><svg aria-label="Menu" width="30" height="30" viewBox="0 0 30 30" role="img" focusable="false"><title>Menu</title><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></div><a class="navbar__brand" href="/"><img src="/img/logo.svg" alt="My Site Logo" class="themedImage_YANc themedImage--light_3CMI navbar__logo"><img src="/img/logo.svg" alt="My Site Logo" class="themedImage_YANc themedImage--dark_3ARp navbar__logo"><strong class="navbar__title">My Site</strong></a><a aria-current="page" class="navbar__item navbar__link navbar__link--active" href="/docs/">基础</a><a class="navbar__item navbar__link" href="/docs/编程语言/编程语言">语言</a><a class="navbar__item navbar__link" href="/docs/工具/常用工具">工具</a><a class="navbar__item navbar__link" href="/docs/应用开发/应用开发">应用开发</a><a class="navbar__item navbar__link" href="/docs/Apple/iOS开发/iOS开发">Apple</a><a class="navbar__item navbar__link" href="/docs/音视频/音视频">音视频</a><a class="navbar__item navbar__link" href="/docs/项目/项目">项目</a></div><div class="navbar__items navbar__items--right"><div class="react-toggle react-toggle--disabled displayOnlyInLargeViewport_2N3Q"><div class="react-toggle-track"><div class="react-toggle-track-check"><span class="toggle_3NWk">🌜</span></div><div class="react-toggle-track-x"><span class="toggle_3NWk">🌞</span></div></div><div class="react-toggle-thumb"></div><input type="checkbox" disabled="" aria-label="Dark mode toggle" class="react-toggle-screenreader-only"></div><div class="navbar__search"><span aria-label="expand searchbar" role="button" class="search-icon" tabindex="0"></span><input type="search" id="search_input_react" placeholder="Search" aria-label="Search" class="navbar__search-input search-bar"></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div><div class="navbar-sidebar"><div class="navbar-sidebar__brand"><a class="navbar__brand" href="/"><img src="/img/logo.svg" alt="My Site Logo" class="themedImage_YANc themedImage--light_3CMI navbar__logo"><img src="/img/logo.svg" alt="My Site Logo" class="themedImage_YANc themedImage--dark_3ARp navbar__logo"><strong class="navbar__title">My Site</strong></a></div><div class="navbar-sidebar__items"><div class="menu"><ul class="menu__list"><li class="menu__list-item"><a aria-current="page" class="menu__link navbar__link--active" href="/docs/">基础</a></li><li class="menu__list-item"><a class="menu__link" href="/docs/编程语言/编程语言">语言</a></li><li class="menu__list-item"><a class="menu__link" href="/docs/工具/常用工具">工具</a></li><li class="menu__list-item"><a class="menu__link" href="/docs/应用开发/应用开发">应用开发</a></li><li class="menu__list-item"><a class="menu__link" href="/docs/Apple/iOS开发/iOS开发">Apple</a></li><li class="menu__list-item"><a class="menu__link" href="/docs/音视频/音视频">音视频</a></li><li class="menu__list-item"><a class="menu__link" href="/docs/项目/项目">项目</a></li></ul></div></div></div></nav><div class="main-wrapper"><div class="docPage_vMrn"><main class="docMainContainer_2iGs"><div class="container padding-vert--lg docItemWrapper_1bxp"><div class="row"><div class="col docItemCol_U38p"><div class="docItemContainer_a7m4"><article><header><h1 class="docTitle_Oumm">06-递归&amp;回溯&amp;分治</h1></header><div class="markdown"><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_prK2" id="第八章：递归、分治和回溯"></a>第八章：递归、分治和回溯<a class="hash-link" href="#第八章：递归、分治和回溯" title="Direct link to heading">#</a></h2><p>剪枝：</p><ol><li>循环体内部逻辑处理，不符合要求减掉（排列问题，复原IP问题）</li><li>循环本身，随着迭代减少（组合问题）</li></ol><p>快速排序和堆排序就是典型的分治的思想。</p><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_prK2" id="高频统计"></a>高频统计<a class="hash-link" href="#高频统计" title="Direct link to heading">#</a></h2><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_prK2" id="深度优先搜索"></a>深度优先搜索<a class="hash-link" href="#深度优先搜索" title="Direct link to heading">#</a></h3><p><a href="https://leetcode-cn.com/problems/number-of-islands" target="_blank" rel="noopener noreferrer">200. 岛屿数量</a> - 115 </p><ul><li>二维平面dfs：双重for循环</li><li>记录访问过的节点：<code>visited[i][j]</code>（因为有环）</li><li>边界判断：<code>bool inArea(int x,int y)</code></li><li>搜索方向：四联通分量<code>int d[4][2] = {{-1,0},{0,1},{1,0},{0,-1}};</code></li><li>递归的结束条件：循环的结束</li></ul><hr><ul><li>分治：不需要分治，没有子问题。</li><li>剪枝：根据条件判断是不是要访问。</li><li>回溯：不需要返回信息，处理的信息给了全局变量。（需要返回信息的往往是和分治相关的内容）</li></ul><p><a href="https://leetcode-cn.com/problems/binary-tree-right-side-view" target="_blank" rel="noopener noreferrer">199. 二叉树的右视图</a> - 87</p><ul><li><p>不用记录访问过的节点，因为没有环。</p></li><li><p>搜索方向：2个方向 左子树和右子树</p></li><li><p>递归的结束条件：到达叶子节点</p></li><li><p>递归：携带中间值（层级）给下一层。</p></li></ul><hr><ul><li>分治：没有子问题</li><li>剪枝：不需要剪枝，所有的路径都要走一遍。</li><li>回溯：不需要返回信息，处理的信息给了全局变量。（需要返回信息的往往是和分治相关的内容）</li></ul><p><a href="https://leetcode-cn.com/problems/binary-tree-maximum-path-sum" target="_blank" rel="noopener noreferrer"> 124. 二叉树中的最大路径和</a> - 76</p><ul><li>每一层有6个待选结果。</li><li>回溯：有3个需要选择最优解，参与回溯。</li><li>不回溯：有3个需要选择最优解，不参与回溯，全局判断选择。</li></ul><p><a href="https://leetcode-cn.com/problems/construct-binary-tree-from-preorder-and-inorder-traversal/" target="_blank" rel="noopener noreferrer">105. 从前序与中序遍历序列构造二叉树</a>- 63</p><ul><li><p>对象是1维数组。</p></li><li><p>前序遍历第一个是根，这个根在中序遍历中的索引将中序遍历一份为2，可以得到中序遍历的左右子树的尺寸</p></li><li><p><code>    TreeNode* buildTree(vector&lt;int&gt;&amp; preorder,int preorder_left, int preorder_right,vector&lt;int&gt;&amp; inorder,int inorder_left, int inorder_right)</code>递归下去</p></li><li><p>递归需要确定根节点和左右子树的窗口。</p></li><li><p>递归的结束条件是窗口小于0。</p></li><li><p>返回当前节点。最顶层就是我们要的树。</p></li></ul><hr><ul><li>分治：每次分为左子树序列和右子树序列</li><li>回溯：返回结果作为上层的树的左节点或者右节点。</li></ul><p><a href="https://leetcode-cn.com/problems/maximum-depth-of-binary-tree" target="_blank" rel="noopener noreferrer">104. 二叉树的最大深度</a>-63</p><ul><li>递归结束条件： <code>if (root == nullptr) return 0;</code></li></ul><hr><ul><li>分治：分别算出左子树和右子树的深度</li><li>回溯：当前节点的高度=max(左子树,右子树)+1</li></ul><p><a href="https://leetcode-cn.com/problems/balanced-binary-tree" target="_blank" rel="noopener noreferrer">110. 平衡二叉树</a>-60</p><ul><li>递归结束：到了叶子节点 返回1</li><li>返回当前节点的高度。</li></ul><hr><ul><li>分治：分别算出左子树和右子树的深度</li><li>回溯：以当前节点为根的树是否满足平衡二叉树的性质。结果保存在全局对象中。</li></ul><p><a href="https://leetcode-cn.com/problems/sum-root-to-leaf-numbers" target="_blank" rel="noopener noreferrer">129. 求根到叶子节点数字</a> - 60</p><ul><li><p>递归结束条件</p><p>到了叶子节点：<code>root.left == null &amp;&amp; root.right == null</code> 返回<code>prevSum * 10 + root.val</code></p></li><li><p>当前层的值：<code>prevSum * 10 + root.val</code></p></li><li><p>一个思想是：携带中间值（中间计算结果）给下一层。</p></li></ul><hr><ul><li>分治：左子树的值/右子树的值</li><li>回溯：当前节点的值=是左子树的值+右子树的值。</li></ul><p>总结一下：树太适合分治回溯了。本题是计算从根节点到叶节点生成的 <strong>所有数字之和</strong> 。<strong>这个问题可以分解为两个相同的子问题</strong>，即计算以左子树为根节点到叶节点生成的 <strong>所有数字之和</strong> 和以右子树为根节点到叶节点生成的 <strong>所有数字之和</strong>。问题的边界就是：这个树是一个叶子节点和这颗树是一个空节点。</p><div class="mdxCodeBlock_1zKU"><div class="codeBlockContent_actS"><div tabindex="0" class="prism-code language-c++ codeBlock_tuNs thin-scrollbar"><div class="codeBlockLines_3uvA" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">class Solution {</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">private:</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    int dfs(TreeNode *root, int preSum) {</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        if(root == nullptr) {</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">            return 0;</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        }</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        //处理当前层逻辑</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        int sum = preSum * 10 + root-&gt;val;</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        if(root-&gt;left == nullptr &amp;&amp; root-&gt;right == nullptr) {   //处理叶子节点的当前层逻辑</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">            //如果到达叶子节点，递归结束，将数据往上送</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">            return sum;</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        }</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        //非叶子节点</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        //分解成两个像相同的子问题：所有数字之和 = 左子树的所有数字之和 + 右子树的所有数字之和(分治回溯)</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        //子问题1:以左子树为根节点到叶节点生成的 **所有数字之和**</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        int leftSum = dfs(root-&gt;left, sum);</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        //子问题2:以右子树为根节点到叶节点生成的 **所有数字之和**</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        int rightSum = dfs(root-&gt;right, sum);</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        //回溯</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        return leftSum + rightSum;</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        // return dfs(root-&gt;left, sum) + dfs(root-&gt;right, sum);</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    }    </span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">public:</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    int sumNumbers(TreeNode* root) {</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        return dfs(root,0);</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    }</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">};</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_2GIj">Copy</button></div></div><p><a href="https://leetcode-cn.com/problems/path-sum-ii" target="_blank" rel="noopener noreferrer">113. 路径总和 II</a> - 59</p><p><a href="https://leetcode-cn.com/problems/validate-binary-search-tree" target="_blank" rel="noopener noreferrer">98. 验证二叉搜索树</a> - 54</p><p><a href="https://leetcode-cn.com/problems/path-sum" target="_blank" rel="noopener noreferrer">112. 路径总和</a> - 51</p><p><a href="https://leetcode-cn.com/problems/symmetric-tree" target="_blank" rel="noopener noreferrer">101. 对称二叉树</a> - 49</p><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_prK2" id="分治"></a>分治<a class="hash-link" href="#分治" title="Direct link to heading">#</a></h3><p>分成子问题。二分是其中一种情况。</p><p><a href="https://leetcode-cn.com/problems/kth-largest-element-in-an-array" target="_blank" rel="noopener noreferrer">215. 数组中的第K个最大元</a> - 253</p><p><a href="https://leetcode-cn.com/problems/maximum-subarray" target="_blank" rel="noopener noreferrer"> 53. 最大子序和</a> - 162</p><ol start="2"><li>动态规划</li></ol><p><a href="https://leetcode-cn.com/problems/merge-k-sorted-lists" target="_blank" rel="noopener noreferrer">23. 合并K个排序链表</a> - 104</p><p><a href="https://leetcode-cn.com/problems/median-of-two-sorted-arrays" target="_blank" rel="noopener noreferrer"> 4. 寻找两个正序数组的中位数</a> - 64</p><p><a href="https://leetcode-cn.com/problems/majority-element" target="_blank" rel="noopener noreferrer">169. 多数元素</a> - 48</p><p><a href="https://leetcode-cn.com/problems/search-a-2d-matrix-ii" target="_blank" rel="noopener noreferrer">240. 搜索二维矩阵 II</a> - 38</p><p><a href="https://leetcode-cn.com/problems/shu-zu-zhong-de-ni-xu-dui-lcof" target="_blank" rel="noopener noreferrer">剑指 Offer 51. 数组中的逆序</a> - 25</p><p>归并排序。</p><div class="mdxCodeBlock_1zKU"><div class="codeBlockContent_actS"><div tabindex="0" class="prism-code language-c++ codeBlock_tuNs thin-scrollbar"><div class="codeBlockLines_3uvA" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">class Solution {</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">private:</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    int count = 0;</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    </span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">private:</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    void Merge(vector&lt;int&gt; &amp;data, int l,int mid, int r){</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        vector&lt;int&gt; tmp(r-l+1);</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        //合并两个有序数组[l, mid][mid+1, r]</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        int i = l, j = mid+1,k = 0;</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        while(i &lt;= mid &amp;&amp; j &lt;= r) {</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">            if(data[i] &lt;= data[j]) {</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">                tmp[k++] = data[i++];</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">            }</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">            else {</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">                tmp[k++] = data[j++];</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">                count += (mid - i + 1); //i比j大，那么i后面的数应该都比j小（这就是逆序对！）</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">                count %= 1000000007;//重要！ 取模要提前！</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">            }</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        }</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        </span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        while(i &lt;= mid) tmp[k++] = data[i++];</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        while(j &lt;= r) tmp[k++] = data[j++];</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        //往回搬这个不能少</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        for (int i = l; i &lt;= r; i++) {</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">            data[i] = tmp[i-l];</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        }</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    }</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    </span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    void MergeSort(vector&lt;int&gt; &amp;data, int l, int r) {        </span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        if(l &gt;= r) {</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">            return;</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        }</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        //拆分</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        int mid = l + (r-l)/2;</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        MergeSort(data, l, mid);</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        MergeSort(data, mid+1, r); //注意这个细节！是mid+1</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        </span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        //合并</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        Merge(data, l, mid,r);</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    }</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    </span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">public:</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    int InversePairs(vector&lt;int&gt; data) {</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        MergeSort(data, 0, data.size()-1);</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        return count % 1000000007;</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    }</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">};</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_2GIj">Copy</button></div></div><p>归并排序</p><div class="mdxCodeBlock_1zKU"><div class="codeBlockContent_actS"><div tabindex="0" class="prism-code language-c++ codeBlock_tuNs thin-scrollbar"><div class="codeBlockLines_3uvA" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">class Solution {</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">private:</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    void merge(vector&lt;int&gt;&amp; nums, int l, int mid, int r) {</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        //合并两个有序数组[l mid] [mid+1 r]</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        // vector&lt;int&gt; tmpArr(r-l+1);</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        vector&lt;int&gt; tmpArr;</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        int i1 = l, i2 = mid+1,k = 0;</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        while(i1 &lt;= mid &amp;&amp; i2 &lt;= r) {</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">            if(nums[i1] &lt;= nums[i2]) {</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">                tmpArr.push_back(nums[i1++]);</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">                // tmpArr[k++] = nums[i1++];</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">            }</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">            else {</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">                tmpArr.push_back(nums[i2++]);</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">                // tmpArr[k++] = nums[i2++];</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">            }</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        }</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        while(i1 &lt;= mid) { tmpArr.push_back(nums[i1++]);}</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        while(i2 &lt;= r) { tmpArr.push_back(nums[i2++]);}</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        // while(i1 &lt;= mid) { tmpArr[k++] = nums[i1++];}</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        // while(i2 &lt;= r) { tmpArr[k++] = nums[i2++];}</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        for(int i = l; i &lt;= r; i++) {</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">            nums[i] = tmpArr[i-l];</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        }</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    }</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    void mergeSort(vector&lt;int&gt;&amp; nums, int l, int r) {</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        if(l &gt;= r) {</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">            return;</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        }</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        int mid = l + (r-l)/2;</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        mergeSort(nums,l,mid);</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        mergeSort(nums,mid+1,r);</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        merge(nums, l, mid, r);</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    }</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">public:</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    vector&lt;int&gt; sortArray(vector&lt;int&gt;&amp; nums) {</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        mergeSort(nums, 0, nums.size()-1);</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        return nums;</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    }</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">};</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_2GIj">Copy</button></div></div><h4><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_prK2" id="23-合并k个升序链表"></a><a href="https://leetcode-cn.com/problems/merge-k-sorted-lists/" target="_blank" rel="noopener noreferrer">23. 合并K个升序链表</a><a class="hash-link" href="#23-合并k个升序链表" title="Direct link to heading">#</a></h4><div class="mdxCodeBlock_1zKU"><div class="codeBlockContent_actS"><div tabindex="0" class="prism-code language-c++ codeBlock_tuNs thin-scrollbar"><div class="codeBlockLines_3uvA" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">/**</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"> * Definition for singly-linked list.</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"> * struct ListNode {</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"> *     int val;</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"> *     ListNode *next;</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"> *     ListNode() : val(0), next(nullptr) {}</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"> *     ListNode(int x) : val(x), next(nullptr) {}</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"> *     ListNode(int x, ListNode *next) : val(x), next(next) {}</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"> * };</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"> */</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">class Solution {</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    ListNode * merge(ListNode *list1, ListNode *list2) {</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        if ((!list1) || (!list2)) return list1 ? list1 : list2;</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        ListNode *dummyHead = new ListNode(-1);</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        ListNode *curr = dummyHead;</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        while(list1 &amp;&amp; list2) {</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">            if(list1-&gt;val &lt; list2-&gt;val) {</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">                curr-&gt;next = list1;</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">                list1 = list1-&gt;next;                </span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">            }</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">            else {</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">                curr-&gt;next = list2;</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">                list2 = list2-&gt;next;</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">            }</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">            curr = curr-&gt;next;</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        }</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        if(list1) curr-&gt;next = list1;</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        if(list2) curr-&gt;next = list2;</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        return dummyHead-&gt;next;</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    }</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    ListNode* mergeKLists(vector&lt;ListNode*&gt;&amp; lists, int l, int r) {</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        if(l == r) return lists[l];</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        if (l &gt; r) return nullptr;  //注意：过了就返回nullptr</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        int mid = l + (r-l)/2;</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        ListNode* list1 = mergeKLists(lists,l,mid);</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        ListNode* list2 = mergeKLists(lists,mid+1,r);//重要！让左边趋向大方向</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        return merge(list1, list2);</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    }</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">public:</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    ListNode* mergeKLists(vector&lt;ListNode*&gt;&amp; lists) {</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        return mergeKLists(lists, 0, lists.size()-1);</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    }</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">};</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_2GIj">Copy</button></div></div><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_prK2" id="回溯"></a>回溯<a class="hash-link" href="#回溯" title="Direct link to heading">#</a></h3><p><a href="https://leetcode-cn.com/problems/permutations" target="_blank" rel="noopener noreferrer">46. 全排列</a> - 113</p><p><a href="https://leetcode-cn.com/problems/restore-ip-addresses" target="_blank" rel="noopener noreferrer">93. 复原IP地址</a> -61</p><p><a href="https://leetcode-cn.com/problems/subsets" target="_blank" rel="noopener noreferrer">78. 子集</a> - 53</p><p><a href="https://leetcode-cn.com/problems/generate-parentheses" target="_blank" rel="noopener noreferrer">22. 括号生成</a> - 52</p><p><a href="https://leetcode-cn.com/problems/combination-sum" target="_blank" rel="noopener noreferrer">39. 组合总和</a> - 42</p><p><a href="https://leetcode-cn.com/problems/word-search" target="_blank" rel="noopener noreferrer">79. 单词搜索</a> - 27</p><p><a href="/docs/编程基础/数据结构与算法/算法面试/6. 从尾到头打印链表.md">6. 从尾到头打印链表</a></p><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_prK2" id="8-1-树形问题"></a>8-1 树形问题<a class="hash-link" href="#8-1-树形问题" title="Direct link to heading">#</a></h3><h4><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_prK2" id="17-电话号码的字母组合"></a><a href="https://leetcode-cn.com/problems/letter-combinations-of-a-phone-number/" target="_blank" rel="noopener noreferrer">17. 电话号码的字母组合</a><a class="hash-link" href="#17-电话号码的字母组合" title="Direct link to heading">#</a></h4><ul class="contains-task-list"><li class="task-list-item"><input type="checkbox" checked="" disabled=""> 完成一次提交</li><li class="task-list-item"><input type="checkbox" disabled=""> 还需再练</li></ul><div class="mdxCodeBlock_1zKU"><div class="codeBlockContent_actS"><div tabindex="0" class="prism-code language-undefined codeBlock_tuNs thin-scrollbar"><div class="codeBlockLines_3uvA" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">digits是数字字符串</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">s(digits) 是digits所能代表的字母字符串</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">s(digits[0...n-1]) = letter(digits[0]) + s(digits[1...n-1])</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">                                     = letter(digits[0]) + letter(digits[1]) + s(digits[2...n-1])</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_2GIj">Copy</button></div></div><div class="mdxCodeBlock_1zKU"><div class="codeBlockContent_actS"><div tabindex="0" class="prism-code language-c++ codeBlock_tuNs thin-scrollbar"><div class="codeBlockLines_3uvA" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">class Solution {</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">private:</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        //再练：map的写法</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        const unordered_map&lt;char, string&gt; letterMap = {</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">            {&#x27;2&#x27;,&quot;abc&quot;},</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">            {&#x27;3&#x27;,&quot;def&quot;},</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">            {&#x27;4&#x27;,&quot;ghi&quot;},</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">            {&#x27;5&#x27;,&quot;jkl&quot;},</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">            {&#x27;6&#x27;,&quot;mno&quot;},</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">            {&#x27;7&#x27;,&quot;pqrs&quot;},</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">            {&#x27;8&#x27;,&quot;tuv&quot;},</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">            {&#x27;9&#x27;,&quot;wxyz&quot;},</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        };</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        vector&lt;string&gt; ret;</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        void dfs(string &amp;digits, int index, const string &amp;ans) {</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">            if(index == digits.size()) {</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">                ret.push_back(ans);</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">                return;</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">            }</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">            string letter = letterMap.at(digits[index]);</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">            for(int i = 0; i &lt; letter.size(); i++) {</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">                dfs(digits, index+1, ans+letter[i]);</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">                //当前层并未改变ans的状态所以不需要清理状态（进入下层才改变，而不是在当前层改变的，当前层的ans还是那样）</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">            }</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        }</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">public:</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    vector&lt;string&gt; letterCombinations(string digits) {</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        //1.异常判断</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        if(!digits.size()) {</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">            return ret;</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        }</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        //2.建立数字字符到字母字符的map</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        string ans;</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        dfs(digits,0,ans);</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        return ret;</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    }</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">};</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_2GIj">Copy</button></div></div><h4><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_prK2" id="93-复原-ip-地址-61"></a><a href="https://leetcode-cn.com/problems/restore-ip-addresses/" target="_blank" rel="noopener noreferrer">93. 复原 IP 地址</a>-61<a class="hash-link" href="#93-复原-ip-地址-61" title="Direct link to heading">#</a></h4><ul class="contains-task-list"><li class="task-list-item"><input type="checkbox" checked="" disabled=""> 完成一次提交</li><li class="task-list-item"><input type="checkbox" disabled=""> 还需再练</li></ul><p>理清可用的选择，在可用的选择中进行剪枝。</p><div class="mdxCodeBlock_1zKU"><div class="codeBlockContent_actS"><div tabindex="0" class="prism-code language-c++ codeBlock_tuNs thin-scrollbar"><div class="codeBlockLines_3uvA" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">class Solution {</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">private:</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    vector&lt;string&gt; ret;</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    void dfs(const string &amp;s, int index, vector&lt;string&gt; &amp;ans){</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        //得到了合法四片段，并且字符耗尽</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        if(index == s.size() &amp;&amp; ans.size() == 4) {</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">            string t;</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">            for(int i = 0; i &lt; ans.size(); i++) {</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">                t += ans[i];</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">                if(i != ans.size()-1) {</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">                    t += &quot;.&quot;;</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">                }</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">            }</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">            ret.push_back(t);</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">            return;</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        }</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        //选择(每一步可以有3中选择)</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        for(int i = 1; i &lt;= 3; i++) {</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">            if(index + i -1 &gt;= s.size()) return;</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">            if(i != 1 &amp;&amp; s[index] == &#x27;0&#x27;) return;</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">            string t = s.substr(index, i);</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">            if(i == 3 &amp;&amp; atoi(t.c_str()) &gt; 255) return;</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">            ans.push_back(t);</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">            dfs(s, index+i,ans);</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">            ans.pop_back();</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        }</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    }</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">public:</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    vector&lt;string&gt; restoreIpAddresses(string s) {</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        vector&lt;string&gt; ans; //存放合法的四片段，一个解答</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        dfs(s,0,ans);</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        return ret;</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    }</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">};</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_2GIj">Copy</button></div></div><p><a href="https://leetcode-cn.com/problems/palindrome-partitioning/" target="_blank" rel="noopener noreferrer">131. 分割回文串</a></p><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_prK2" id="8-2-什么是回溯"></a>8-2 什么是回溯<a class="hash-link" href="#8-2-什么是回溯" title="Direct link to heading">#</a></h3><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_prK2" id="8-3-排列问题"></a>8-3 排列问题<a class="hash-link" href="#8-3-排列问题" title="Direct link to heading">#</a></h3><p>回溯的过程中借助一定的数据结构进行辅助，可以用来剪枝。 </p><h4><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_prK2" id="46-全排列---113"></a><a href="https://leetcode-cn.com/problems/permutations/" target="_blank" rel="noopener noreferrer">46. 全排列</a> - 113<a class="hash-link" href="#46-全排列---113" title="Direct link to heading">#</a></h4><p>给定一个不含重复数字的数组 nums ，返回其 所有可能的全排列 。你可以 按任意顺序 返回答案。</p><p>示例 1：</p><div class="mdxCodeBlock_1zKU"><div class="codeBlockContent_actS"><div tabindex="0" class="prism-code language-undefined codeBlock_tuNs thin-scrollbar"><div class="codeBlockLines_3uvA" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">输入：nums = [1,2,3]</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">输出：[[1,2,3],[1,3,2],[2,1,3],[2,3,1],[3,1,2],[3,2,1]]</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_2GIj">Copy</button></div></div><p>示例 2：</p><div class="mdxCodeBlock_1zKU"><div class="codeBlockContent_actS"><div tabindex="0" class="prism-code language-undefined codeBlock_tuNs thin-scrollbar"><div class="codeBlockLines_3uvA" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">输入：nums = [0,1]</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">输出：[[0,1],[1,0]]</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_2GIj">Copy</button></div></div><p>示例 3：</p><div class="mdxCodeBlock_1zKU"><div class="codeBlockContent_actS"><div tabindex="0" class="prism-code language-undefined codeBlock_tuNs thin-scrollbar"><div class="codeBlockLines_3uvA" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">输入：nums = [1]</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">输出：[[1]]</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_2GIj">Copy</button></div></div><p>来源：力扣（LeetCode）
链接：<a href="https://leetcode-cn.com/problems/permutations" target="_blank" rel="noopener noreferrer">https://leetcode-cn.com/problems/permutations</a>
著作权归领扣网络所有。商业转载请联系官方授权，非商业转载请注明出处。</p><ul class="contains-task-list"><li class="task-list-item"><input type="checkbox" checked="" disabled=""> 完成一次提交</li></ul><div class="mdxCodeBlock_1zKU"><div class="codeBlockContent_actS"><div tabindex="0" class="prism-code language-c++ codeBlock_tuNs thin-scrollbar"><div class="codeBlockLines_3uvA" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">class Solution {</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">private:</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    vector&lt;vector&lt;int&gt;&gt; ret;</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    vector&lt;bool&gt; used;</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    void dfs(const vector&lt;int&gt;&amp; nums, int index, vector&lt;int&gt;&amp; ans) {</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        if(index == nums.size()){</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">            ret.push_back(ans);</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">            return;</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        }</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        for(int i = 0; i &lt; nums.size(); i++) {</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">            if(!used[i]) {</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">                ans.push_back(nums[i]);</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">                used[i] = true;</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">                dfs(nums, index+1, ans);</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">                used[i] = false;</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">                ans.pop_back();</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">            }</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        }</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    }</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">public:</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    vector&lt;vector&lt;int&gt;&gt; permute(vector&lt;int&gt;&amp; nums) {</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        ret.clear();</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        if(nums.empty()) return ret;</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        used = vector&lt;bool&gt;(nums.size(), false);</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        vector&lt;int&gt; ans;</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        dfs(nums, 0, ans);</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        return ret;</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    }</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">};</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_2GIj">Copy</button></div></div><div class="mdxCodeBlock_1zKU"><div class="codeBlockContent_actS"><div tabindex="0" class="prism-code language-python codeBlock_tuNs thin-scrollbar"><div class="codeBlockLines_3uvA" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token keyword" style="font-style:italic">class</span><span class="token plain"> </span><span class="token class-name" style="color:rgb(255, 203, 107)">Solution</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    </span><span class="token keyword" style="font-style:italic">def</span><span class="token plain"> </span><span class="token function" style="color:rgb(130, 170, 255)">permute</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token plain">self</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> nums</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        </span><span class="token triple-quoted-string string" style="color:rgb(195, 232, 141)">&quot;&quot;&quot;</span></div><div class="token-line" style="color:#bfc7d5"><span class="token triple-quoted-string string" style="color:rgb(195, 232, 141)">        :type nums: List[int]</span></div><div class="token-line" style="color:#bfc7d5"><span class="token triple-quoted-string string" style="color:rgb(195, 232, 141)">        :rtype: List[List[int]]</span></div><div class="token-line" style="color:#bfc7d5"><span class="token triple-quoted-string string" style="color:rgb(195, 232, 141)">        &quot;&quot;&quot;</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        res </span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">[</span><span class="token punctuation" style="color:rgb(199, 146, 234)">]</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        </span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        </span><span class="token comment" style="color:rgb(105, 112, 152);font-style:italic">#以每一个元素为起点，开始回溯算法</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        </span><span class="token keyword" style="font-style:italic">def</span><span class="token plain"> </span><span class="token function" style="color:rgb(130, 170, 255)">count</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token plain">start</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> num</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> subArray</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">            </span><span class="token keyword" style="font-style:italic">if</span><span class="token plain"> num </span><span class="token operator" style="color:rgb(137, 221, 255)">==</span><span class="token plain"> </span><span class="token number" style="color:rgb(247, 140, 108)">0</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">                res</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token plain">append</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token plain">subArray</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain">                </span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">            </span><span class="token keyword" style="font-style:italic">for</span><span class="token plain"> i </span><span class="token keyword" style="font-style:italic">in</span><span class="token plain"> nums</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">                </span><span class="token keyword" style="font-style:italic">if</span><span class="token plain"> i </span><span class="token keyword" style="font-style:italic">not</span><span class="token plain"> </span><span class="token keyword" style="font-style:italic">in</span><span class="token plain"> subArray</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">                    count</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token plain">start</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> num</span><span class="token operator" style="color:rgb(137, 221, 255)">-</span><span class="token number" style="color:rgb(247, 140, 108)">1</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> subArray </span><span class="token operator" style="color:rgb(137, 221, 255)">+</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">[</span><span class="token plain">i</span><span class="token punctuation" style="color:rgb(199, 146, 234)">]</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">                    </span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        </span><span class="token comment" style="color:rgb(105, 112, 152);font-style:italic">#循环遍历每一个元素</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        n </span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token plain"> </span><span class="token builtin" style="color:rgb(130, 170, 255)">len</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token plain">nums</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        </span><span class="token keyword" style="font-style:italic">for</span><span class="token plain"> i </span><span class="token keyword" style="font-style:italic">in</span><span class="token plain"> nums</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain">            </span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">            count</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token plain">i</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> n</span><span class="token operator" style="color:rgb(137, 221, 255)">-</span><span class="token number" style="color:rgb(247, 140, 108)">1</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">[</span><span class="token plain">i</span><span class="token punctuation" style="color:rgb(199, 146, 234)">]</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        </span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        </span><span class="token keyword" style="font-style:italic">return</span><span class="token plain"> res</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_2GIj">Copy</button></div></div><p><a href="https://leetcode-cn.com/problems/permutations-ii/" target="_blank" rel="noopener noreferrer">47. 全排列 II</a></p><h4><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_prK2" id="剑指-offer-38-字符串的排列---7"></a><a href="https://leetcode-cn.com/problems/zi-fu-chuan-de-pai-lie-lcof/" target="_blank" rel="noopener noreferrer">剑指 Offer 38. 字符串的排列</a> - 7<a class="hash-link" href="#剑指-offer-38-字符串的排列---7" title="Direct link to heading">#</a></h4><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_prK2" id="8-4-组合问题"></a>8-4 组合问题<a class="hash-link" href="#8-4-组合问题" title="Direct link to heading">#</a></h3><p>孩子不固定。往下分的情况数量不固定。下一轮的start的会变化。</p><h4><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_prK2" id="77-组合-9"></a><a href="https://leetcode-cn.com/problems/combinations/" target="_blank" rel="noopener noreferrer">77. 组合</a>-9<a class="hash-link" href="#77-组合-9" title="Direct link to heading">#</a></h4><ul class="contains-task-list"><li class="task-list-item"><input type="checkbox" checked="" disabled=""> 完成一次提交</li></ul><div class="mdxCodeBlock_1zKU"><div class="codeBlockContent_actS"><div tabindex="0" class="prism-code language-c++ codeBlock_tuNs thin-scrollbar"><div class="codeBlockLines_3uvA" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">class Solution {</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">private:</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    vector&lt;vector&lt;int&gt;&gt; ret;</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    void dfs(int n, int k, int start, vector&lt;int&gt; &amp;ans) {</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        if(ans.size() == k) {</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">            ret.push_back(ans);</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">            return;</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        }</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        //循环的次数发生变化</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        for(int i = start; i &lt;= n-(c-ans.size())+1; i++) {</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        for(int i = start; i &lt;= n; i++) {          </span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">            ans.push_back(i);</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">            dfs(n,k,i+1,ans);</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">            ans.pop_back();</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        }</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    }</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">public:</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    vector&lt;vector&lt;int&gt;&gt; combine(int n, int k) {</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        ret.clear();</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        if(n &lt;= 0 || k &lt;=0 || n &lt; k) {</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">            return ret;</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        }</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        int start = 1;</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        vector&lt;int&gt; ans;</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        dfs(n,k,start,ans);</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        return ret;</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    }</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">};</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_2GIj">Copy</button></div></div><h4><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_prK2" id="39-组合总和---42"></a><a href="https://leetcode-cn.com/problems/combination-sum/" target="_blank" rel="noopener noreferrer">39. 组合总和</a> - 42<a class="hash-link" href="#39-组合总和---42" title="Direct link to heading">#</a></h4><p><a href="https://leetcode-cn.com/problems/combination-sum-ii/" target="_blank" rel="noopener noreferrer">40. 组合总和 II</a></p><p><a href="https://leetcode-cn.com/problems/combination-sum-iii/" target="_blank" rel="noopener noreferrer">216. 组合总和 III</a></p><h4><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_prK2" id="78-子集-53"></a><a href="https://leetcode-cn.com/problems/subsets/" target="_blank" rel="noopener noreferrer">78. 子集</a>-53<a class="hash-link" href="#78-子集-53" title="Direct link to heading">#</a></h4><p>给定一组<strong>不含重复元素</strong>的整数数组 <em>nums</em>，返回该数组所有可能的子集（幂集）。</p><p><strong>说明：</strong>解集不能包含重复的子集。</p><p><strong>示例:</strong></p><div class="mdxCodeBlock_1zKU"><div class="codeBlockContent_actS"><div tabindex="0" class="prism-code language-undefined codeBlock_tuNs thin-scrollbar"><div class="codeBlockLines_3uvA" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">输入: nums = [1,2,3]</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">输出:</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">[</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  [3],</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  [1],</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  [2],</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  [1,2,3],</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  [1,3],</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  [2,3],</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  [1,2],</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  []</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">]</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_2GIj">Copy</button></div></div><div class="mdxCodeBlock_1zKU"><div class="codeBlockContent_actS"><div tabindex="0" class="prism-code language-python codeBlock_tuNs thin-scrollbar"><div class="codeBlockLines_3uvA" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token keyword" style="font-style:italic">class</span><span class="token plain"> </span><span class="token class-name" style="color:rgb(255, 203, 107)">Solution</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    </span><span class="token keyword" style="font-style:italic">def</span><span class="token plain"> </span><span class="token function" style="color:rgb(130, 170, 255)">subsets</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token plain">self</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> nums</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        </span><span class="token triple-quoted-string string" style="color:rgb(195, 232, 141)">&quot;&quot;&quot;</span></div><div class="token-line" style="color:#bfc7d5"><span class="token triple-quoted-string string" style="color:rgb(195, 232, 141)">        :type nums: List[int]</span></div><div class="token-line" style="color:#bfc7d5"><span class="token triple-quoted-string string" style="color:rgb(195, 232, 141)">        :rtype: List[List[int]]</span></div><div class="token-line" style="color:#bfc7d5"><span class="token triple-quoted-string string" style="color:rgb(195, 232, 141)">        &quot;&quot;&quot;</span><span class="token plain">        </span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        res </span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">[</span><span class="token punctuation" style="color:rgb(199, 146, 234)">]</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        </span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        </span><span class="token triple-quoted-string string" style="color:rgb(195, 232, 141)">&quot;&quot;&quot;</span></div><div class="token-line" style="color:#bfc7d5"><span class="token triple-quoted-string string" style="color:rgb(195, 232, 141)">        回溯算法：</span></div><div class="token-line" style="color:#bfc7d5"><span class="token triple-quoted-string string" style="color:rgb(195, 232, 141)">        </span></div><div class="token-line" style="color:#bfc7d5"><span class="token triple-quoted-string string" style="color:rgb(195, 232, 141)">        选择：从当前到结尾的所有元素</span></div><div class="token-line" style="color:#bfc7d5"><span class="token triple-quoted-string string" style="color:rgb(195, 232, 141)">        约束：增加的元素是从当前元素往后的元素</span></div><div class="token-line" style="color:#bfc7d5"><span class="token triple-quoted-string string" style="color:rgb(195, 232, 141)">        结束：条件是start == len(nums)</span></div><div class="token-line" style="color:#bfc7d5"><span class="token triple-quoted-string string" style="color:rgb(195, 232, 141)">        </span></div><div class="token-line" style="color:#bfc7d5"><span class="token triple-quoted-string string" style="color:rgb(195, 232, 141)">        下一层结束后，回到上一层继续探寻for循环的下一种情况</span></div><div class="token-line" style="color:#bfc7d5"><span class="token triple-quoted-string string" style="color:rgb(195, 232, 141)">        &quot;&quot;&quot;</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        </span><span class="token keyword" style="font-style:italic">def</span><span class="token plain"> </span><span class="token function" style="color:rgb(130, 170, 255)">count</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token plain">start</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> num</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain">  </span><span class="token comment" style="color:rgb(105, 112, 152);font-style:italic"># 深度优先搜索</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">            res</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token plain">append</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token plain">num</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">            </span><span class="token keyword" style="font-style:italic">for</span><span class="token plain"> i </span><span class="token keyword" style="font-style:italic">in</span><span class="token plain"> </span><span class="token builtin" style="color:rgb(130, 170, 255)">range</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token plain">start</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> </span><span class="token builtin" style="color:rgb(130, 170, 255)">len</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token plain">nums</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">                count</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token plain">i </span><span class="token operator" style="color:rgb(137, 221, 255)">+</span><span class="token plain"> </span><span class="token number" style="color:rgb(247, 140, 108)">1</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> num </span><span class="token operator" style="color:rgb(137, 221, 255)">+</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">[</span><span class="token plain">nums</span><span class="token punctuation" style="color:rgb(199, 146, 234)">[</span><span class="token plain">i</span><span class="token punctuation" style="color:rgb(199, 146, 234)">]</span><span class="token punctuation" style="color:rgb(199, 146, 234)">]</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token comment" style="color:rgb(105, 112, 152);font-style:italic">#python的数组拼接直接用加号</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">                </span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        count</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token number" style="color:rgb(247, 140, 108)">0</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">[</span><span class="token punctuation" style="color:rgb(199, 146, 234)">]</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        </span><span class="token keyword" style="font-style:italic">return</span><span class="token plain"> res             </span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_2GIj">Copy</button></div></div><hr><p>递归中：循环的次数不是固定的。</p><p><a href="https://leetcode-cn.com/problems/subsets-ii/" target="_blank" rel="noopener noreferrer">90. 子集 II</a></p><p><a href="https://leetcode-cn.com/problems/binary-watch/" target="_blank" rel="noopener noreferrer">401. 二进制手表</a></p><h4><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_prK2" id="22-括号生成-52"></a><a href="https://leetcode-cn.com/problems/generate-parentheses/" target="_blank" rel="noopener noreferrer">22. 括号生成</a>-52<a class="hash-link" href="#22-括号生成-52" title="Direct link to heading">#</a></h4><div class="mdxCodeBlock_1zKU"><div class="codeBlockContent_actS"><div tabindex="0" class="prism-code language-python codeBlock_tuNs thin-scrollbar"><div class="codeBlockLines_3uvA" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token keyword" style="font-style:italic">class</span><span class="token plain"> </span><span class="token class-name" style="color:rgb(255, 203, 107)">Solution</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    results </span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">[</span><span class="token punctuation" style="color:rgb(199, 146, 234)">]</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    </span><span class="token keyword" style="font-style:italic">def</span><span class="token plain"> </span><span class="token function" style="color:rgb(130, 170, 255)">generateParenthesis</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token plain">self</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> n</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        </span><span class="token triple-quoted-string string" style="color:rgb(195, 232, 141)">&quot;&quot;&quot;</span></div><div class="token-line" style="color:#bfc7d5"><span class="token triple-quoted-string string" style="color:rgb(195, 232, 141)">        :type n: int</span></div><div class="token-line" style="color:#bfc7d5"><span class="token triple-quoted-string string" style="color:rgb(195, 232, 141)">        :rtype: List[str]</span></div><div class="token-line" style="color:#bfc7d5"><span class="token triple-quoted-string string" style="color:rgb(195, 232, 141)">        &quot;&quot;&quot;</span><span class="token plain">     </span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        </span><span class="token comment" style="color:rgb(105, 112, 152);font-style:italic">#每次执行前，清空数组，防止多次执行，数组污染</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        self</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token plain">results </span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">[</span><span class="token punctuation" style="color:rgb(199, 146, 234)">]</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        result </span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&#x27;&#x27;</span><span class="token plain">        </span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        self</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token plain">parentheses</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token plain">result</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> n</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> n</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        </span><span class="token keyword" style="font-style:italic">return</span><span class="token plain"> self</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token plain">results</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    </span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    </span><span class="token triple-quoted-string string" style="color:rgb(195, 232, 141)">&quot;&quot;&quot;</span></div><div class="token-line" style="color:#bfc7d5"><span class="token triple-quoted-string string" style="color:rgb(195, 232, 141)">    递归回溯遍历</span></div><div class="token-line" style="color:#bfc7d5"><span class="token triple-quoted-string string" style="color:rgb(195, 232, 141)">    1. 选择。每一步一共有几种选择。本案例有两种选择 下一步添加&quot;(&quot; 或者 下一步添加&quot;)&quot;</span></div><div class="token-line" style="color:#bfc7d5"><span class="token triple-quoted-string string" style="color:rgb(195, 232, 141)">    2. 条件。每一种选择有什么约束。如果下一步添加&quot;(&quot;, 剩余的左括号数必须大于0。如果下一步添加&quot;)&quot;, 剩余的右括号数必须大于左括号数。</span></div><div class="token-line" style="color:#bfc7d5"><span class="token triple-quoted-string string" style="color:rgb(195, 232, 141)">    3. 结束。结束条件是什么。本案例的结束条件是左括号和右括号都添加完。得到一个结果。</span></div><div class="token-line" style="color:#bfc7d5"><span class="token triple-quoted-string string" style="color:rgb(195, 232, 141)">    </span></div><div class="token-line" style="color:#bfc7d5"><span class="token triple-quoted-string string" style="color:rgb(195, 232, 141)">    递归回溯：多于一个的递归才能回溯。本案例有两种条件的递归。所以当从某一种条件递归返回时，可能会触发下一个递归，此时将本层递归的状态继续传递下去，去探索从本层状态往后的其他可能性。</span></div><div class="token-line" style="color:#bfc7d5"><span class="token triple-quoted-string string" style="color:rgb(195, 232, 141)">    &quot;&quot;&quot;</span><span class="token plain">    </span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    </span><span class="token keyword" style="font-style:italic">def</span><span class="token plain"> </span><span class="token function" style="color:rgb(130, 170, 255)">parentheses</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token plain">self</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> result</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> leftNum </span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> rightNum</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        </span><span class="token keyword" style="font-style:italic">if</span><span class="token plain"> leftNum </span><span class="token operator" style="color:rgb(137, 221, 255)">==</span><span class="token plain"> </span><span class="token number" style="color:rgb(247, 140, 108)">0</span><span class="token plain"> </span><span class="token keyword" style="font-style:italic">and</span><span class="token plain"> rightNum </span><span class="token operator" style="color:rgb(137, 221, 255)">==</span><span class="token plain"> </span><span class="token number" style="color:rgb(247, 140, 108)">0</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">            self</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token plain">results</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token plain">append</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token plain">result</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        </span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        </span><span class="token keyword" style="font-style:italic">if</span><span class="token plain"> leftNum </span><span class="token operator" style="color:rgb(137, 221, 255)">&gt;</span><span class="token plain"> </span><span class="token number" style="color:rgb(247, 140, 108)">0</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">            self</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token plain">parentheses</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token plain">result</span><span class="token operator" style="color:rgb(137, 221, 255)">+</span><span class="token string" style="color:rgb(195, 232, 141)">&#x27;(&#x27;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> leftNum </span><span class="token operator" style="color:rgb(137, 221, 255)">-</span><span class="token number" style="color:rgb(247, 140, 108)">1</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> rightNum</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        </span><span class="token keyword" style="font-style:italic">if</span><span class="token plain"> rightNum </span><span class="token operator" style="color:rgb(137, 221, 255)">&gt;</span><span class="token plain"> leftNum</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">            self</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token plain">parentheses</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token plain">result</span><span class="token operator" style="color:rgb(137, 221, 255)">+</span><span class="token string" style="color:rgb(195, 232, 141)">&#x27;)&#x27;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> leftNum</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> rightNum</span><span class="token operator" style="color:rgb(137, 221, 255)">-</span><span class="token number" style="color:rgb(247, 140, 108)">1</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_2GIj">Copy</button></div></div><div class="mdxCodeBlock_1zKU"><div class="codeBlockContent_actS"><div tabindex="0" class="prism-code language-c++ codeBlock_tuNs thin-scrollbar"><div class="codeBlockLines_3uvA" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">class Solution {</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">private:</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    vector&lt;string&gt; ret;</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">public:</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    vector&lt;string&gt; generateParenthesis(int n) {</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        /*</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        寻找重复性，在重复的过程中处理逻辑。</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        注意重复的开始条件，结束条件，和重复推进逻辑（状态转移方程）。</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        </span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        重复的开始条件：</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        1. 递归，递归调用的时候用参数传入</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        2. 循环，循环进入前，设置好局部变量</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        重复结束条件：</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        1. 递归，层级的结束，确定好最大层，如果是递减，则相对简单，大于0是结束条件。</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        2. 循环，设置好循环的结束条件。</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        重复推进逻辑（状态转移方程）</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        1. 递归：某些条件下放弃递归。（不调用递归），某些条件下调用递归。（这叫分治或者剪枝）</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        2. 循环：好像不太好整，循环条件i++好像少不了</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        */</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        dfs(n,n,&quot;&quot;);</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        return ret;</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    }</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    //分治+回溯+剪枝</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    void dfs(int left, int right, string ans) {</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        //1. 结束条件</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        if(left == 0 &amp;&amp; right == 0) {</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">            ret.push_back(ans);</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">            return;</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        }</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        //2. 处理逻辑</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        //剪枝:如果剩下的左括号比右括号还多，那就没得玩了，可以剪枝</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        if (left == right) {</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">            //如果相等，只能添加左括号</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">            dfs(left-1, right ,ans+&quot;(&quot;);</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        }</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        else if (left &lt; right) {</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">            //如果左比右少（左大于0的时候可以添加左括号也可以添加右括号）（左等于0的时候只能添加右括号）</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">            if (left &gt; 0) {</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">                dfs(left-1, right ,ans+&quot;(&quot;);</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">            }</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">            dfs(left, right-1 ,ans+&quot;)&quot;);</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        }</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    }</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">};</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_2GIj">Copy</button></div></div><p>动态规划</p><div class="mdxCodeBlock_1zKU"><div class="codeBlockContent_actS"><div tabindex="0" class="prism-code language-c++ codeBlock_tuNs thin-scrollbar"><div class="codeBlockLines_3uvA" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">/*</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">()</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">(())</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">()()</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">((()))</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">(()())</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">(())()</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">()(())</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">()()()</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">核心的思想是，考虑 i=n 时相比 n-1 组括号增加的那一组括号的位置。</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">我们考虑整个括号排列中最左边的括号。</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">它一定是一个左括号，那么它可以和它对应的右括号组成一组完整的括号 &quot;( )&quot;，我们认为这一组是相比 n-1 增加进来的括号。</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">作者：yuyu-13</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">链接：https://leetcode-cn.com/problems/generate-parentheses/solution/zui-jian-dan-yi-dong-de-dong-tai-gui-hua-bu-lun-da/</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">来源：力扣（LeetCode）</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">著作权归作者所有。商业转载请联系作者获得授权，非商业转载请注明出处。</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">*/</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">class Solution {</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">public:</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    vector&lt;string&gt; generateParenthesis(int n) {</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        if(n == 0) return {};</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        if(n == 1) return {&quot;()&quot;};</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        //组成括号的状态数组</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        vector&lt;vector&lt;string&gt;&gt; dp(n+1);</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        dp[0] = {&quot;&quot;};</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        dp[1] = {&quot;()&quot;};</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        for(int i = 2; i &lt;= n; i++) {</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">            for(int j = 0; j &lt; i; j++) {</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">                for(string p : dp[j]) {</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">                    for(string q : dp[i-j-1]) {</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">                        string str = &quot;(&quot; + p + &quot;)&quot; + q;</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">                        dp[i].push_back(str);</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">                    }</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">                }</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">            }</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        }</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        return dp[n];</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    }</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">};</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_2GIj">Copy</button></div></div><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_prK2" id="8-5-回溯法解决组合问题的优化"></a>8-5 回溯法解决组合问题的优化<a class="hash-link" href="#8-5-回溯法解决组合问题的优化" title="Direct link to heading">#</a></h3><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_prK2" id="8-6-二维平面上的回溯法-word-search"></a>8-6 二维平面上的回溯法 Word Search<a class="hash-link" href="#8-6-二维平面上的回溯法-word-search" title="Direct link to heading">#</a></h3><p>二维平面	</p><p>四联通分量。</p><p>边界检测。</p><p>记忆化访问。</p><p>回溯状态清理。</p><h4><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_prK2" id="79-单词搜索-27"></a><a href="https://leetcode-cn.com/problems/word-search/" target="_blank" rel="noopener noreferrer">79. 单词搜索</a>-27<a class="hash-link" href="#79-单词搜索-27" title="Direct link to heading">#</a></h4><ul class="contains-task-list"><li class="task-list-item"><input type="checkbox" checked="" disabled=""> 完成一次提交</li><li class="task-list-item"><input type="checkbox" disabled=""> 还需再练</li></ul><div class="mdxCodeBlock_1zKU"><div class="codeBlockContent_actS"><div tabindex="0" class="prism-code language-c++ codeBlock_tuNs thin-scrollbar"><div class="codeBlockLines_3uvA" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">class Solution {</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">private:</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    int m,n;</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    int v[4][2] = {{-1,0},{0,1},{1,0},{0,-1}};</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    vector&lt;vector&lt;bool&gt;&gt; visited;</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    bool inArea(int x, int y){</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        return x &gt;=0 &amp;&amp; x &lt; m &amp;&amp; y &gt;=0 &amp;&amp; y &lt; n;</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    }</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    bool dfs(vector&lt;vector&lt;char&gt;&gt;&amp; board, string &amp;word, int startX, int startY, int index) {</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        if(index == word.size()-1) {</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">            return board[startX][startY] == word[index];</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        }</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        //处理当前层逻辑</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        if(board[startX][startY] == word[index]) {</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">            visited[startX][startY] = true;//当前满足要求可用被标记为true！</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">            //遍历4个方向</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">            for(int i=0; i &lt; 4; i++) {</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">                int newX = startX+v[i][0];</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">                int newY = startY+v[i][1];</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">                //遍历之前判断是否访问过</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">                if(inArea(newX,newY) &amp;&amp; !visited[newX][newY]) {</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">                    if(dfs(board,word,newX,newY,index+1)) {</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">                        return true;</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">                    }</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">                }</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">            }</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">            visited[startX][startY] = false;</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        }</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        return false;</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    }</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">public:</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    bool exist(vector&lt;vector&lt;char&gt;&gt;&amp; board, string word) {</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        m = board.size();</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        assert(m &gt; 0);</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        n = board[0].size();</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        visited = vector&lt;vector&lt;bool&gt;&gt;(m,vector&lt;bool&gt;(n,false));</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">                //二维平面</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        for(int i = 0; i &lt; m; i++) {</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">            for(int j = 0; j &lt; n; j++) {                </span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">                if(dfs(board, word, i,j,0)) {</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">                    return true;</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">                }</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">            }</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        }</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        return false;</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    }</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">};</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_2GIj">Copy</button></div></div><h4><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_prK2" id="剑指-offer-29-顺时针打印矩阵---14"></a><a href="https://leetcode-cn.com/problems/shun-shi-zhen-da-yin-ju-zhen-lcof/" target="_blank" rel="noopener noreferrer">剑指 Offer 29. 顺时针打印矩阵</a> - 14<a class="hash-link" href="#剑指-offer-29-顺时针打印矩阵---14" title="Direct link to heading">#</a></h4><h4><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_prK2" id="54-螺旋矩阵"></a><a href="https://leetcode-cn.com/problems/spiral-matrix/" target="_blank" rel="noopener noreferrer">54. 螺旋矩阵</a><a class="hash-link" href="#54-螺旋矩阵" title="Direct link to heading">#</a></h4><p>给定一个包含 <em>m</em> x <em>n</em> 个元素的矩阵（<em>m</em> 行, <em>n</em> 列），请按照顺时针螺旋顺序，返回矩阵中的所有元素。</p><p><strong>示例 1:</strong></p><div class="mdxCodeBlock_1zKU"><div class="codeBlockContent_actS"><div tabindex="0" class="prism-code language-undefined codeBlock_tuNs thin-scrollbar"><div class="codeBlockLines_3uvA" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">输入:[ [ 1, 2, 3 ], [ 4, 5, 6 ], [ 7, 8, 9 ]]输出: [1,2,3,6,9,8,7,4,5]</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_2GIj">Copy</button></div></div><p><strong>示例 2:</strong></p><div class="mdxCodeBlock_1zKU"><div class="codeBlockContent_actS"><div tabindex="0" class="prism-code language-undefined codeBlock_tuNs thin-scrollbar"><div class="codeBlockLines_3uvA" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">输入:[  [1, 2, 3, 4],  [5, 6, 7, 8],  [9,10,11,12]]输出: [1,2,3,4,8,12,11,10,9,5,6,7]</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_2GIj">Copy</button></div></div><div class="mdxCodeBlock_1zKU"><div class="codeBlockContent_actS"><div tabindex="0" class="prism-code language-c++ codeBlock_tuNs thin-scrollbar"><div class="codeBlockLines_3uvA" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">class Solution {</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">private:</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    vector&lt;vector&lt;bool&gt;&gt; visited;    </span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    vector&lt;int&gt; ret;    </span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    int m,n;</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    //注意：x和y，这个和数学坐标有区别</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    int d[4][2] = {{0,1},{1,0},{0,-1},{-1,0}};</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    bool isValid(int x, int y) {</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        return x &gt;= 0 &amp;&amp; x &lt; m &amp;&amp; y &gt;=0 &amp;&amp; y &lt; n;</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    }</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    //注意：方向控制dir</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    void dfs(int x, int y, vector&lt;vector&lt;int&gt;&gt;&amp; matrix, int dir) {</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        ret.push_back(matrix[x][y]);</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        visited[x][y] = true;</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        for(int i = 0; i &lt; 4; i++) {</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">            int to_dir = (i+dir)%4;</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">            int newx = x+d[to_dir][0];</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">            int newy = y+d[to_dir][1];</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">            if(isValid(newx,newy) &amp;&amp; !visited[newx][newy]) {</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">                dfs(newx,newy,matrix,to_dir);</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">            }</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        }</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    }</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">public:</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    vector&lt;int&gt; spiralOrder(vector&lt;vector&lt;int&gt;&gt;&amp; matrix) {</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        m = matrix.size();</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        if(m == 0) return ret;</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        n = matrix[0].size();</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        visited = vector&lt;vector&lt;bool&gt;&gt;(m,vector&lt;bool&gt;(n,false));</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        dfs(0,0,matrix,0);</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        return ret;</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    }</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">};</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_2GIj">Copy</button></div></div><div class="mdxCodeBlock_1zKU"><div class="codeBlockContent_actS"><div tabindex="0" class="prism-code language-python codeBlock_tuNs thin-scrollbar"><div class="codeBlockLines_3uvA" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token keyword" style="font-style:italic">class</span><span class="token plain"> </span><span class="token class-name" style="color:rgb(255, 203, 107)">Solution</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    </span><span class="token keyword" style="font-style:italic">def</span><span class="token plain"> </span><span class="token function" style="color:rgb(130, 170, 255)">spiralOrder</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token plain">self</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> matrix</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        </span><span class="token triple-quoted-string string" style="color:rgb(195, 232, 141)">&quot;&quot;&quot;</span></div><div class="token-line" style="color:#bfc7d5"><span class="token triple-quoted-string string" style="color:rgb(195, 232, 141)">        :type matrix: List[List[int]]</span></div><div class="token-line" style="color:#bfc7d5"><span class="token triple-quoted-string string" style="color:rgb(195, 232, 141)">        :rtype: List[int]</span></div><div class="token-line" style="color:#bfc7d5"><span class="token triple-quoted-string string" style="color:rgb(195, 232, 141)">        &quot;&quot;&quot;</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        </span><span class="token keyword" style="font-style:italic">if</span><span class="token plain"> </span><span class="token builtin" style="color:rgb(130, 170, 255)">len</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token plain">matrix</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"> </span><span class="token operator" style="color:rgb(137, 221, 255)">==</span><span class="token plain"> </span><span class="token number" style="color:rgb(247, 140, 108)">0</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">            </span><span class="token keyword" style="font-style:italic">return</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">[</span><span class="token punctuation" style="color:rgb(199, 146, 234)">]</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        </span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        </span><span class="token comment" style="color:rgb(105, 112, 152);font-style:italic">#建立围墙</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        hl</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> hr</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> vt</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> vb </span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token plain"> </span><span class="token operator" style="color:rgb(137, 221, 255)">-</span><span class="token number" style="color:rgb(247, 140, 108)">1</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> </span><span class="token builtin" style="color:rgb(130, 170, 255)">len</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token plain">matrix</span><span class="token punctuation" style="color:rgb(199, 146, 234)">[</span><span class="token number" style="color:rgb(247, 140, 108)">0</span><span class="token punctuation" style="color:rgb(199, 146, 234)">]</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> </span><span class="token operator" style="color:rgb(137, 221, 255)">-</span><span class="token number" style="color:rgb(247, 140, 108)">1</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> </span><span class="token builtin" style="color:rgb(130, 170, 255)">len</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token plain">matrix</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        </span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        </span><span class="token comment" style="color:rgb(105, 112, 152);font-style:italic">#旋转规则-顺时针，碰到围墙向下一个方向走</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        i</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> j </span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token plain"> </span><span class="token number" style="color:rgb(247, 140, 108)">0</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> </span><span class="token number" style="color:rgb(247, 140, 108)">0</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        </span><span class="token comment" style="color:rgb(105, 112, 152);font-style:italic">#方向标</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        k </span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token plain"> </span><span class="token number" style="color:rgb(247, 140, 108)">1</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        </span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        array </span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">[</span><span class="token punctuation" style="color:rgb(199, 146, 234)">]</span><span class="token plain"> </span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        m </span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token plain"> </span><span class="token number" style="color:rgb(247, 140, 108)">0</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        total </span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token plain"> </span><span class="token builtin" style="color:rgb(130, 170, 255)">len</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token plain">matrix</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"> </span><span class="token operator" style="color:rgb(137, 221, 255)">*</span><span class="token plain"> </span><span class="token builtin" style="color:rgb(130, 170, 255)">len</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token plain">matrix</span><span class="token punctuation" style="color:rgb(199, 146, 234)">[</span><span class="token number" style="color:rgb(247, 140, 108)">0</span><span class="token punctuation" style="color:rgb(199, 146, 234)">]</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        </span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        </span><span class="token keyword" style="font-style:italic">while</span><span class="token plain"> m </span><span class="token operator" style="color:rgb(137, 221, 255)">&lt;</span><span class="token plain"> total</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">            </span><span class="token keyword" style="font-style:italic">if</span><span class="token plain"> matrix</span><span class="token punctuation" style="color:rgb(199, 146, 234)">[</span><span class="token plain">i</span><span class="token punctuation" style="color:rgb(199, 146, 234)">]</span><span class="token punctuation" style="color:rgb(199, 146, 234)">[</span><span class="token plain">j</span><span class="token punctuation" style="color:rgb(199, 146, 234)">]</span><span class="token plain"> </span><span class="token operator" style="color:rgb(137, 221, 255)">!=</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&#x27;&#x27;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">                array</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token plain">append</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token plain">matrix</span><span class="token punctuation" style="color:rgb(199, 146, 234)">[</span><span class="token plain">i</span><span class="token punctuation" style="color:rgb(199, 146, 234)">]</span><span class="token punctuation" style="color:rgb(199, 146, 234)">[</span><span class="token plain">j</span><span class="token punctuation" style="color:rgb(199, 146, 234)">]</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">                m </span><span class="token operator" style="color:rgb(137, 221, 255)">+=</span><span class="token plain"> </span><span class="token number" style="color:rgb(247, 140, 108)">1</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">                matrix</span><span class="token punctuation" style="color:rgb(199, 146, 234)">[</span><span class="token plain">i</span><span class="token punctuation" style="color:rgb(199, 146, 234)">]</span><span class="token punctuation" style="color:rgb(199, 146, 234)">[</span><span class="token plain">j</span><span class="token punctuation" style="color:rgb(199, 146, 234)">]</span><span class="token plain"> </span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&#x27;&#x27;</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">            </span><span class="token comment" style="color:rgb(105, 112, 152);font-style:italic">#转向判断</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">            </span><span class="token comment" style="color:rgb(105, 112, 152);font-style:italic">#水平上</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">            </span><span class="token keyword" style="font-style:italic">if</span><span class="token plain"> k </span><span class="token operator" style="color:rgb(137, 221, 255)">==</span><span class="token plain"> </span><span class="token number" style="color:rgb(247, 140, 108)">1</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">                </span><span class="token keyword" style="font-style:italic">if</span><span class="token plain"> j </span><span class="token operator" style="color:rgb(137, 221, 255)">&lt;</span><span class="token plain"> hr </span><span class="token operator" style="color:rgb(137, 221, 255)">-</span><span class="token plain"> </span><span class="token number" style="color:rgb(247, 140, 108)">1</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">                    j </span><span class="token operator" style="color:rgb(137, 221, 255)">+=</span><span class="token plain"> </span><span class="token number" style="color:rgb(247, 140, 108)">1</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">                </span><span class="token keyword" style="font-style:italic">if</span><span class="token plain"> j </span><span class="token operator" style="color:rgb(137, 221, 255)">==</span><span class="token plain"> hr </span><span class="token operator" style="color:rgb(137, 221, 255)">-</span><span class="token number" style="color:rgb(247, 140, 108)">1</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">                    vt </span><span class="token operator" style="color:rgb(137, 221, 255)">+=</span><span class="token plain"> </span><span class="token number" style="color:rgb(247, 140, 108)">1</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">                    k </span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token plain"> </span><span class="token number" style="color:rgb(247, 140, 108)">2</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">                    </span><span class="token keyword" style="font-style:italic">continue</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">            </span><span class="token comment" style="color:rgb(105, 112, 152);font-style:italic">#垂直右</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">            </span><span class="token keyword" style="font-style:italic">if</span><span class="token plain"> k </span><span class="token operator" style="color:rgb(137, 221, 255)">==</span><span class="token plain"> </span><span class="token number" style="color:rgb(247, 140, 108)">2</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">                </span><span class="token keyword" style="font-style:italic">if</span><span class="token plain"> i </span><span class="token operator" style="color:rgb(137, 221, 255)">&lt;</span><span class="token plain"> vb </span><span class="token operator" style="color:rgb(137, 221, 255)">-</span><span class="token plain"> </span><span class="token number" style="color:rgb(247, 140, 108)">1</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">                    i </span><span class="token operator" style="color:rgb(137, 221, 255)">+=</span><span class="token plain"> </span><span class="token number" style="color:rgb(247, 140, 108)">1</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">                </span><span class="token keyword" style="font-style:italic">if</span><span class="token plain"> i </span><span class="token operator" style="color:rgb(137, 221, 255)">==</span><span class="token plain"> vb </span><span class="token operator" style="color:rgb(137, 221, 255)">-</span><span class="token number" style="color:rgb(247, 140, 108)">1</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">                    hr </span><span class="token operator" style="color:rgb(137, 221, 255)">-=</span><span class="token plain"> </span><span class="token number" style="color:rgb(247, 140, 108)">1</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">                    k </span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token plain"> </span><span class="token number" style="color:rgb(247, 140, 108)">3</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">                    </span><span class="token keyword" style="font-style:italic">continue</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">            </span><span class="token comment" style="color:rgb(105, 112, 152);font-style:italic">#水平下</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">            </span><span class="token keyword" style="font-style:italic">if</span><span class="token plain"> k </span><span class="token operator" style="color:rgb(137, 221, 255)">==</span><span class="token plain"> </span><span class="token number" style="color:rgb(247, 140, 108)">3</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">                </span><span class="token keyword" style="font-style:italic">if</span><span class="token plain"> j </span><span class="token operator" style="color:rgb(137, 221, 255)">&gt;</span><span class="token plain"> hl </span><span class="token operator" style="color:rgb(137, 221, 255)">+</span><span class="token plain"> </span><span class="token number" style="color:rgb(247, 140, 108)">1</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">                    j </span><span class="token operator" style="color:rgb(137, 221, 255)">-=</span><span class="token plain"> </span><span class="token number" style="color:rgb(247, 140, 108)">1</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">                </span><span class="token keyword" style="font-style:italic">if</span><span class="token plain"> j </span><span class="token operator" style="color:rgb(137, 221, 255)">==</span><span class="token plain"> hl </span><span class="token operator" style="color:rgb(137, 221, 255)">+</span><span class="token number" style="color:rgb(247, 140, 108)">1</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">                    vb </span><span class="token operator" style="color:rgb(137, 221, 255)">-=</span><span class="token plain"> </span><span class="token number" style="color:rgb(247, 140, 108)">1</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">                    k </span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token plain"> </span><span class="token number" style="color:rgb(247, 140, 108)">4</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">                    </span><span class="token keyword" style="font-style:italic">continue</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">            </span><span class="token comment" style="color:rgb(105, 112, 152);font-style:italic">#垂直左</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">            </span><span class="token keyword" style="font-style:italic">if</span><span class="token plain"> k</span><span class="token operator" style="color:rgb(137, 221, 255)">==</span><span class="token plain"> </span><span class="token number" style="color:rgb(247, 140, 108)">4</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">                </span><span class="token keyword" style="font-style:italic">if</span><span class="token plain"> i </span><span class="token operator" style="color:rgb(137, 221, 255)">&gt;</span><span class="token plain"> vt </span><span class="token operator" style="color:rgb(137, 221, 255)">+</span><span class="token plain"> </span><span class="token number" style="color:rgb(247, 140, 108)">1</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">                    i </span><span class="token operator" style="color:rgb(137, 221, 255)">-=</span><span class="token plain"> </span><span class="token number" style="color:rgb(247, 140, 108)">1</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">                </span><span class="token keyword" style="font-style:italic">if</span><span class="token plain"> i </span><span class="token operator" style="color:rgb(137, 221, 255)">==</span><span class="token plain"> vt </span><span class="token operator" style="color:rgb(137, 221, 255)">+</span><span class="token plain"> </span><span class="token number" style="color:rgb(247, 140, 108)">1</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">                    hl </span><span class="token operator" style="color:rgb(137, 221, 255)">+=</span><span class="token plain"> </span><span class="token number" style="color:rgb(247, 140, 108)">1</span><span class="token plain">                </span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">                    k </span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token plain"> </span><span class="token number" style="color:rgb(247, 140, 108)">1</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">                    </span><span class="token keyword" style="font-style:italic">continue</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        </span><span class="token keyword" style="font-style:italic">return</span><span class="token plain"> array</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_2GIj">Copy</button></div></div><h4><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_prK2" id="59-螺旋矩阵-ii"></a><a href="https://leetcode-cn.com/problems/spiral-matrix-ii/" target="_blank" rel="noopener noreferrer">59. 螺旋矩阵 II</a><a class="hash-link" href="#59-螺旋矩阵-ii" title="Direct link to heading">#</a></h4><p>给定一个正整数 <em>n</em>，生成一个包含 1 到 <em>n</em>2 所有元素，且元素按顺时针顺序螺旋排列的正方形矩阵。</p><p><strong>示例:</strong></p><div class="mdxCodeBlock_1zKU"><div class="codeBlockContent_actS"><div tabindex="0" class="prism-code language-undefined codeBlock_tuNs thin-scrollbar"><div class="codeBlockLines_3uvA" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">输入: 3</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">输出:</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">[</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"> [ 1, 2, 3 ],</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"> [ 8, 9, 4 ],</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"> [ 7, 6, 5 ]</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">]</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_2GIj">Copy</button></div></div><div class="mdxCodeBlock_1zKU"><div class="codeBlockContent_actS"><div tabindex="0" class="prism-code language-python codeBlock_tuNs thin-scrollbar"><div class="codeBlockLines_3uvA" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token keyword" style="font-style:italic">class</span><span class="token plain"> </span><span class="token class-name" style="color:rgb(255, 203, 107)">Solution</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    </span><span class="token keyword" style="font-style:italic">def</span><span class="token plain"> </span><span class="token function" style="color:rgb(130, 170, 255)">generateMatrix</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token plain">self</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> n</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        </span><span class="token triple-quoted-string string" style="color:rgb(195, 232, 141)">&quot;&quot;&quot;</span></div><div class="token-line" style="color:#bfc7d5"><span class="token triple-quoted-string string" style="color:rgb(195, 232, 141)">        :type n: int</span></div><div class="token-line" style="color:#bfc7d5"><span class="token triple-quoted-string string" style="color:rgb(195, 232, 141)">        :rtype: List[List[int]]</span></div><div class="token-line" style="color:#bfc7d5"><span class="token triple-quoted-string string" style="color:rgb(195, 232, 141)">        &quot;&quot;&quot;</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        </span><span class="token comment" style="color:rgb(105, 112, 152);font-style:italic"># ln = n ** 0.5</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        </span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        </span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        </span><span class="token keyword" style="font-style:italic">if</span><span class="token plain"> n </span><span class="token operator" style="color:rgb(137, 221, 255)">==</span><span class="token plain"> </span><span class="token number" style="color:rgb(247, 140, 108)">0</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">            </span><span class="token keyword" style="font-style:italic">return</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">[</span><span class="token punctuation" style="color:rgb(199, 146, 234)">]</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        </span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        </span><span class="token comment" style="color:rgb(105, 112, 152);font-style:italic">#建立围墙</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        hl</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> hr</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> vt</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> vb </span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token plain"> </span><span class="token operator" style="color:rgb(137, 221, 255)">-</span><span class="token number" style="color:rgb(247, 140, 108)">1</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> n</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> </span><span class="token operator" style="color:rgb(137, 221, 255)">-</span><span class="token number" style="color:rgb(247, 140, 108)">1</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> n</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        </span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        </span><span class="token comment" style="color:rgb(105, 112, 152);font-style:italic">#旋转规则-顺时针，碰到围墙向下一个方向走</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        i</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> j </span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token plain"> </span><span class="token number" style="color:rgb(247, 140, 108)">0</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> </span><span class="token number" style="color:rgb(247, 140, 108)">0</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        </span><span class="token comment" style="color:rgb(105, 112, 152);font-style:italic">#方向标</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        k </span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token plain"> </span><span class="token number" style="color:rgb(247, 140, 108)">1</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        </span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        array </span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">[</span><span class="token punctuation" style="color:rgb(199, 146, 234)">[</span><span class="token number" style="color:rgb(247, 140, 108)">0</span><span class="token plain"> </span><span class="token keyword" style="font-style:italic">for</span><span class="token plain"> col </span><span class="token keyword" style="font-style:italic">in</span><span class="token plain"> </span><span class="token builtin" style="color:rgb(130, 170, 255)">range</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token plain">n</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">]</span><span class="token plain"> </span><span class="token keyword" style="font-style:italic">for</span><span class="token plain"> row </span><span class="token keyword" style="font-style:italic">in</span><span class="token plain"> </span><span class="token builtin" style="color:rgb(130, 170, 255)">range</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token plain">n</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">]</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        m </span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token plain"> </span><span class="token number" style="color:rgb(247, 140, 108)">0</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        f </span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token plain"> </span><span class="token number" style="color:rgb(247, 140, 108)">1</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        </span><span class="token keyword" style="font-style:italic">while</span><span class="token plain"> m </span><span class="token operator" style="color:rgb(137, 221, 255)">&lt;</span><span class="token plain"> n</span><span class="token operator" style="color:rgb(137, 221, 255)">*</span><span class="token plain">n</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain">                      </span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">            </span><span class="token keyword" style="font-style:italic">if</span><span class="token plain"> f </span><span class="token operator" style="color:rgb(137, 221, 255)">==</span><span class="token plain"> </span><span class="token number" style="color:rgb(247, 140, 108)">1</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain">                </span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">                m </span><span class="token operator" style="color:rgb(137, 221, 255)">+=</span><span class="token plain"> </span><span class="token number" style="color:rgb(247, 140, 108)">1</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">                array</span><span class="token punctuation" style="color:rgb(199, 146, 234)">[</span><span class="token plain">i</span><span class="token punctuation" style="color:rgb(199, 146, 234)">]</span><span class="token punctuation" style="color:rgb(199, 146, 234)">[</span><span class="token plain">j</span><span class="token punctuation" style="color:rgb(199, 146, 234)">]</span><span class="token plain"> </span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token plain"> m                </span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">            </span><span class="token comment" style="color:rgb(105, 112, 152);font-style:italic">#转向判断            </span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">            f </span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token plain"> </span><span class="token number" style="color:rgb(247, 140, 108)">0</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">            </span><span class="token comment" style="color:rgb(105, 112, 152);font-style:italic">#水平上</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">            </span><span class="token keyword" style="font-style:italic">if</span><span class="token plain"> k </span><span class="token operator" style="color:rgb(137, 221, 255)">==</span><span class="token plain"> </span><span class="token number" style="color:rgb(247, 140, 108)">1</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">                </span><span class="token keyword" style="font-style:italic">if</span><span class="token plain"> j </span><span class="token operator" style="color:rgb(137, 221, 255)">&lt;</span><span class="token plain"> hr </span><span class="token operator" style="color:rgb(137, 221, 255)">-</span><span class="token plain"> </span><span class="token number" style="color:rgb(247, 140, 108)">1</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">                    j </span><span class="token operator" style="color:rgb(137, 221, 255)">+=</span><span class="token plain"> </span><span class="token number" style="color:rgb(247, 140, 108)">1</span><span class="token plain">                                        </span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">                    f </span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token plain"> </span><span class="token number" style="color:rgb(247, 140, 108)">1</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">                </span><span class="token keyword" style="font-style:italic">if</span><span class="token plain"> j </span><span class="token operator" style="color:rgb(137, 221, 255)">==</span><span class="token plain"> hr </span><span class="token operator" style="color:rgb(137, 221, 255)">-</span><span class="token number" style="color:rgb(247, 140, 108)">1</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">                    vt </span><span class="token operator" style="color:rgb(137, 221, 255)">+=</span><span class="token plain"> </span><span class="token number" style="color:rgb(247, 140, 108)">1</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">                    k </span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token plain"> </span><span class="token number" style="color:rgb(247, 140, 108)">2</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">                    </span><span class="token keyword" style="font-style:italic">continue</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">            </span><span class="token comment" style="color:rgb(105, 112, 152);font-style:italic">#垂直右</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">            </span><span class="token keyword" style="font-style:italic">if</span><span class="token plain"> k </span><span class="token operator" style="color:rgb(137, 221, 255)">==</span><span class="token plain"> </span><span class="token number" style="color:rgb(247, 140, 108)">2</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">                </span><span class="token keyword" style="font-style:italic">if</span><span class="token plain"> i </span><span class="token operator" style="color:rgb(137, 221, 255)">&lt;</span><span class="token plain"> vb </span><span class="token operator" style="color:rgb(137, 221, 255)">-</span><span class="token plain"> </span><span class="token number" style="color:rgb(247, 140, 108)">1</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">                    i </span><span class="token operator" style="color:rgb(137, 221, 255)">+=</span><span class="token plain"> </span><span class="token number" style="color:rgb(247, 140, 108)">1</span><span class="token plain">                    </span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">                    f </span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token plain"> </span><span class="token number" style="color:rgb(247, 140, 108)">1</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">                </span><span class="token keyword" style="font-style:italic">if</span><span class="token plain"> i </span><span class="token operator" style="color:rgb(137, 221, 255)">==</span><span class="token plain"> vb </span><span class="token operator" style="color:rgb(137, 221, 255)">-</span><span class="token number" style="color:rgb(247, 140, 108)">1</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">                    hr </span><span class="token operator" style="color:rgb(137, 221, 255)">-=</span><span class="token plain"> </span><span class="token number" style="color:rgb(247, 140, 108)">1</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">                    k </span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token plain"> </span><span class="token number" style="color:rgb(247, 140, 108)">3</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">                    </span><span class="token keyword" style="font-style:italic">continue</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">            </span><span class="token comment" style="color:rgb(105, 112, 152);font-style:italic">#水平下</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">            </span><span class="token keyword" style="font-style:italic">if</span><span class="token plain"> k </span><span class="token operator" style="color:rgb(137, 221, 255)">==</span><span class="token plain"> </span><span class="token number" style="color:rgb(247, 140, 108)">3</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">                </span><span class="token keyword" style="font-style:italic">if</span><span class="token plain"> j </span><span class="token operator" style="color:rgb(137, 221, 255)">&gt;</span><span class="token plain"> hl </span><span class="token operator" style="color:rgb(137, 221, 255)">+</span><span class="token plain"> </span><span class="token number" style="color:rgb(247, 140, 108)">1</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">                    j </span><span class="token operator" style="color:rgb(137, 221, 255)">-=</span><span class="token plain"> </span><span class="token number" style="color:rgb(247, 140, 108)">1</span><span class="token plain">    </span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">                    f </span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token plain"> </span><span class="token number" style="color:rgb(247, 140, 108)">1</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">                </span><span class="token keyword" style="font-style:italic">if</span><span class="token plain"> j </span><span class="token operator" style="color:rgb(137, 221, 255)">==</span><span class="token plain"> hl </span><span class="token operator" style="color:rgb(137, 221, 255)">+</span><span class="token number" style="color:rgb(247, 140, 108)">1</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">                    vb </span><span class="token operator" style="color:rgb(137, 221, 255)">-=</span><span class="token plain"> </span><span class="token number" style="color:rgb(247, 140, 108)">1</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">                    k </span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token plain"> </span><span class="token number" style="color:rgb(247, 140, 108)">4</span><span class="token plain">                    </span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">                    </span><span class="token keyword" style="font-style:italic">continue</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">            </span><span class="token comment" style="color:rgb(105, 112, 152);font-style:italic">#垂直左</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">            </span><span class="token keyword" style="font-style:italic">if</span><span class="token plain"> k</span><span class="token operator" style="color:rgb(137, 221, 255)">==</span><span class="token plain"> </span><span class="token number" style="color:rgb(247, 140, 108)">4</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">                </span><span class="token keyword" style="font-style:italic">if</span><span class="token plain"> i </span><span class="token operator" style="color:rgb(137, 221, 255)">&gt;</span><span class="token plain"> vt </span><span class="token operator" style="color:rgb(137, 221, 255)">+</span><span class="token plain"> </span><span class="token number" style="color:rgb(247, 140, 108)">1</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">                    i </span><span class="token operator" style="color:rgb(137, 221, 255)">-=</span><span class="token plain"> </span><span class="token number" style="color:rgb(247, 140, 108)">1</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">                    f </span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token plain"> </span><span class="token number" style="color:rgb(247, 140, 108)">1</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">                </span><span class="token keyword" style="font-style:italic">if</span><span class="token plain"> i </span><span class="token operator" style="color:rgb(137, 221, 255)">==</span><span class="token plain"> vt </span><span class="token operator" style="color:rgb(137, 221, 255)">+</span><span class="token plain"> </span><span class="token number" style="color:rgb(247, 140, 108)">1</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">                    hl </span><span class="token operator" style="color:rgb(137, 221, 255)">+=</span><span class="token plain"> </span><span class="token number" style="color:rgb(247, 140, 108)">1</span><span class="token plain">                </span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">                    k </span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token plain"> </span><span class="token number" style="color:rgb(247, 140, 108)">1</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">                    </span><span class="token keyword" style="font-style:italic">continue</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">                </span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        </span><span class="token keyword" style="font-style:italic">return</span><span class="token plain"> array</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_2GIj">Copy</button></div></div><p>建围墙 + 控方向</p><h4><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_prK2" id="剑指-offer-12-矩阵中的路径---6"></a><a href="https://leetcode-cn.com/problems/ju-zhen-zhong-de-lu-jing-lcof/" target="_blank" rel="noopener noreferrer">剑指 Offer 12. 矩阵中的路径</a> - 6<a class="hash-link" href="#剑指-offer-12-矩阵中的路径---6" title="Direct link to heading">#</a></h4><h4><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_prK2" id="剑指-offer-13-机器人的运动范围---3"></a><a href="https://leetcode-cn.com/problems/ji-qi-ren-de-yun-dong-fan-wei-lcof/" target="_blank" rel="noopener noreferrer">剑指 Offer 13. 机器人的运动范围</a> - 3<a class="hash-link" href="#剑指-offer-13-机器人的运动范围---3" title="Direct link to heading">#</a></h4><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_prK2" id="8-7-floodfill算法，一类经典问题"></a>8-7 floodfill算法，一类经典问题<a class="hash-link" href="#8-7-floodfill算法，一类经典问题" title="Direct link to heading">#</a></h3><h4><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_prK2" id="200-岛屿数量-115"></a><a href="https://leetcode-cn.com/problems/number-of-islands/" target="_blank" rel="noopener noreferrer">200. 岛屿数量</a>-115<a class="hash-link" href="#200-岛屿数量-115" title="Direct link to heading">#</a></h4><ul class="contains-task-list"><li class="task-list-item"><input type="checkbox" checked="" disabled=""> 完成一次提交</li></ul><div class="mdxCodeBlock_1zKU"><div class="codeBlockContent_actS"><div tabindex="0" class="prism-code language-c++ codeBlock_tuNs thin-scrollbar"><div class="codeBlockLines_3uvA" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">class Solution {</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">private:    </span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    int m,n;</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    vector&lt;vector&lt;bool&gt;&gt; visited;</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    int d[4][2] = {{-1,0},{0,1},{1,0},{0,-1}};</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    bool inArea(int x,int y) {</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        return x &gt;=0 &amp;&amp; x &lt; m &amp;&amp; y &gt;=0 &amp;&amp; y&lt; n;</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    }</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    void dfs(vector&lt;vector&lt;char&gt;&gt;&amp; grid, int x,int y) {</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        visited[x][y] = true;</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        for(int i = 0; i&lt;4; i++) {</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">            int newx = x + d[i][0];</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">            int newy = y + d[i][1];</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">            if(inArea(newx,newy) &amp;&amp; !visited[newx][newy] &amp;&amp; grid[newx][newy] == &#x27;1&#x27;) {</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">                dfs(grid,newx,newy);</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">            }</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        }</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    }</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">public:</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    int numIslands(vector&lt;vector&lt;char&gt;&gt;&amp; grid) {</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        m = grid.size();</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        if(m == 0) return 0;</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        n = grid[0].size();</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        visited = vector&lt;vector&lt;bool&gt;&gt;(m,vector&lt;bool&gt;(n,false));</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        int ret = 0;</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        for(int i = 0; i&lt; m; i++){</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">            for(int j = 0; j &lt; n; j++) {</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">                if(grid[i][j] == &#x27;1&#x27; &amp;&amp; !visited[i][j]) {</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">                    ret++;</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">                    dfs(grid,i,j);</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">                }</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">            }</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        }</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        return ret;</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    }</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">};</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_2GIj">Copy</button></div></div><p><a href="https://leetcode-cn.com/problems/surrounded-regions/" target="_blank" rel="noopener noreferrer">130. 被围绕的区域</a></p><p><a href="https://leetcode-cn.com/problems/pacific-atlantic-water-flow/" target="_blank" rel="noopener noreferrer">417. 太平洋大西洋水流问题</a></p><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_prK2" id="8-8-回溯法是人工智能的基础"></a>8-8 回溯法是人工智能的基础<a class="hash-link" href="#8-8-回溯法是人工智能的基础" title="Direct link to heading">#</a></h3><h4><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_prK2" id="51-n-皇后"></a><a href="https://leetcode-cn.com/problems/n-queens/" target="_blank" rel="noopener noreferrer">51. N 皇后</a><a class="hash-link" href="#51-n-皇后" title="Direct link to heading">#</a></h4><ul class="contains-task-list"><li class="task-list-item"><input type="checkbox" checked="" disabled=""> 完成一次提交</li></ul><div class="mdxCodeBlock_1zKU"><div class="codeBlockContent_actS"><div tabindex="0" class="prism-code language-c++ codeBlock_tuNs thin-scrollbar"><div class="codeBlockLines_3uvA" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">class Solution {</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">private:</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    vector&lt;vector&lt;string&gt;&gt; ret;</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">public:</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    vector&lt;vector&lt;string&gt;&gt; solveNQueens(int n) {</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        vector&lt;string&gt; ans(n, string(n, &#x27;.&#x27;));</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        dfs(0,n,ans);</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        return ret;</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    }</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">private:</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    void dfs(int row, int &amp;n, vector&lt;string&gt; &amp;ans) {</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        if(row == n) {</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">            ret.push_back(ans);</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">            return;</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        }</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        for(int col = 0; col &lt; n; col++) {</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">            if(isValid(row, col, n, ans)) {</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">                ans[row][col] = &#x27;Q&#x27;;</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">                dfs(row + 1, n, ans);</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">                ans[row][col] = &#x27;.&#x27;;</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">            }</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        }</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    }</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    bool isValid(int row, int col, int &amp;n, vector&lt;string&gt; &amp;ans) {</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        //竖行</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        for(int i = 0; i &lt; row; i++) {</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">            if(ans[i][col] == &#x27;Q&#x27;) {</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">                return false;</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">            }</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        }</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        for(int i = row-1, j = col+1; i &gt;= 0 &amp;&amp; j &lt; n; i--,j++) {</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">            if(ans[i][j] == &#x27;Q&#x27;) {</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">                return false;</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">            }</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        }        </span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        for(int i = row-1, j = col-1; i &gt;= 0 &amp;&amp; j &gt;= 0; i--,j--) {</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">            if(ans[i][j] == &#x27;Q&#x27;) {</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">                return false;</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">            }</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        }</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        return true;</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    }</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">};</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_2GIj">Copy</button></div></div><ul class="contains-task-list"><li class="task-list-item"><input type="checkbox" disabled=""> 在练一次（优化冲突判断）</li></ul><p><a href="https://leetcode-cn.com/problems/sudoku-solver/" target="_blank" rel="noopener noreferrer">37. 解数独</a></p><h4><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_prK2" id="数字在排序数组中出现的次数---牛客网"></a>数字在排序数组中出现的次数 - <a href="https://www.nowcoder.com/practice/70610bf967994b22bb1c26f9ae901fa2?tpId=13&amp;tqId=11190&amp;tPage=1&amp;rp=1&amp;ru=/ta/coding-interviews&amp;qru=/ta/coding-interviews/question-ranking&amp;from=cyc_github" target="_blank" rel="noopener noreferrer">牛客网</a><a class="hash-link" href="#数字在排序数组中出现的次数---牛客网" title="Direct link to heading">#</a></h4><p>快排3路排序可得。</p><div class="mdxCodeBlock_1zKU"><div class="codeBlockContent_actS"><div tabindex="0" class="prism-code language-c++ codeBlock_tuNs thin-scrollbar"><div class="codeBlockLines_3uvA" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">class Solution {</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">public:</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    int GetNumberOfK(vector&lt;int&gt; data ,int k) {</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        auto p1 = partition(data.begin(), data.end(), [&amp;k](int v){</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">            return v &lt; k;</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        });</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        auto p2 = partition(data.begin(), data.end(), [&amp;k](int v){</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">            return v &lt;= k;</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        });</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        return p2-p1;</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        </span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    }</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">};</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_2GIj">Copy</button></div></div><p>C++自带的partition函数.两次partition。</p><p>我们也可以直接用<code>STL中的upper_bound(), lower_bound()</code>库函数</p><div class="mdxCodeBlock_1zKU"><div class="codeBlockContent_actS"><div tabindex="0" class="prism-code language-c++ codeBlock_tuNs thin-scrollbar"><div class="codeBlockLines_3uvA" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">class Solution {</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">public:</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    int GetNumberOfK(vector&lt;int&gt; nums ,int target) {</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        return upper_bound(nums.begin(), nums.end(), target) - lower_bound(nums.begin(), nums.end(), target);</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    }</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">};</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_2GIj">Copy</button></div></div><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_prK2" id="补充代码1：更多和生成排列相关-整理中"></a>补充代码1：更多和生成排列相关	[整理中][敬请期待]<a class="hash-link" href="#补充代码1：更多和生成排列相关-整理中" title="Direct link to heading">#</a></h3><p>补充代码2：更多和组合相关	[整理中][敬请期待]
补充代码3：更多和八皇后问题相关	[整理中][敬请期待]</p><h3></h3><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_prK2" id="-1"></a><a class="hash-link" href="#-1" title="Direct link to heading">#</a></h3><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_prK2" id="总结"></a>总结<a class="hash-link" href="#总结" title="Direct link to heading">#</a></h2><p>注意分治的时候，拆分的左右比较！</p><div class="mdxCodeBlock_1zKU"><div class="codeBlockContent_actS"><div tabindex="0" class="prism-code language-c++ codeBlock_tuNs thin-scrollbar"><div class="codeBlockLines_3uvA" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">        MergeSort(data, l, mid);</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        MergeSort(data, mid+1, r); //注意这个细节！是mid+1</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_2GIj">Copy</button></div></div></div></article><div class="margin-vert--xl"><div class="row"><div class="col"><a href="dys-typora-open://mine/survival/docs/编程基础/数据结构与算法/算法面试/06-递归&amp;回溯&amp;分治.md" target="_blank" rel="noreferrer noopener"><svg fill="currentColor" height="1.2em" width="1.2em" preserveAspectRatio="xMidYMid meet" role="img" viewBox="0 0 40 40" class="iconEdit_2LL7"><g><path d="m34.5 11.7l-3 3.1-6.3-6.3 3.1-3q0.5-0.5 1.2-0.5t1.1 0.5l3.9 3.9q0.5 0.4 0.5 1.1t-0.5 1.2z m-29.5 17.1l18.4-18.5 6.3 6.3-18.4 18.4h-6.3v-6.2z"></path></g></svg>Edit this page</a></div></div></div><div class="margin-vert--lg"><nav class="pagination-nav" aria-label="Blog list page navigation"><div class="pagination-nav__item"></div><div class="pagination-nav__item pagination-nav__item--next"></div></nav></div></div></div><div class="col col--3"><div class="tableOfContents_2xL- thin-scrollbar"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#第八章：递归、分治和回溯" class="table-of-contents__link">第八章：递归、分治和回溯</a></li><li><a href="#高频统计" class="table-of-contents__link">高频统计</a><ul><li><a href="#深度优先搜索" class="table-of-contents__link">深度优先搜索</a></li><li><a href="#分治" class="table-of-contents__link">分治</a></li><li><a href="#回溯" class="table-of-contents__link">回溯</a></li><li><a href="#8-1-树形问题" class="table-of-contents__link">8-1 树形问题</a></li><li><a href="#8-2-什么是回溯" class="table-of-contents__link">8-2 什么是回溯</a></li><li><a href="#8-3-排列问题" class="table-of-contents__link">8-3 排列问题</a></li><li><a href="#8-4-组合问题" class="table-of-contents__link">8-4 组合问题</a></li><li><a href="#8-5-回溯法解决组合问题的优化" class="table-of-contents__link">8-5 回溯法解决组合问题的优化</a></li><li><a href="#8-6-二维平面上的回溯法-word-search" class="table-of-contents__link">8-6 二维平面上的回溯法 Word Search</a></li><li><a href="#8-7-floodfill算法，一类经典问题" class="table-of-contents__link">8-7 floodfill算法，一类经典问题</a></li><li><a href="#8-8-回溯法是人工智能的基础" class="table-of-contents__link">8-8 回溯法是人工智能的基础</a></li><li><a href="#补充代码1：更多和生成排列相关-整理中" class="table-of-contents__link">补充代码1：更多和生成排列相关	整理中</a></li></ul></li><li><a href="#总结" class="table-of-contents__link">总结</a></li></ul></div></div></div></div></main></div></div><footer class="footer footer--dark"><div class="container"><div class="row footer__links"><div class="col footer__col"><h4 class="footer__title">Docs</h4><ul class="footer__items"><li class="footer__item"><a class="footer__link-item" href="/docs/">Style Guide</a></li><li class="footer__item"><a class="footer__link-item" href="/docs/">Second Doc</a></li></ul></div><div class="col footer__col"><h4 class="footer__title">Community</h4><ul class="footer__items"><li class="footer__item"><a href="https://stackoverflow.com/questions/tagged/docusaurus" target="_blank" rel="noopener noreferrer" class="footer__link-item">Stack Overflow</a></li><li class="footer__item"><a href="https://discordapp.com/invite/docusaurus" target="_blank" rel="noopener noreferrer" class="footer__link-item">Discord</a></li><li class="footer__item"><a href="https://twitter.com/docusaurus" target="_blank" rel="noopener noreferrer" class="footer__link-item">Twitter</a></li></ul></div><div class="col footer__col"><h4 class="footer__title">More</h4><ul class="footer__items"><li class="footer__item"><a class="footer__link-item" href="/blog">Blog</a></li><li class="footer__item"><a href="https://github.com/facebook/docusaurus" target="_blank" rel="noopener noreferrer" class="footer__link-item">GitHub</a></li></ul></div></div><div class="footer__bottom text--center"><div class="footer__copyright">Copyright © 2022 My Project, Inc. Built with Docusaurus.</div></div></div></footer></div>
<script src="/styles.4ec932fe.js"></script>
<script src="/runtime~main.3425bbd6.js"></script>
<script src="/main.4d172be4.js"></script>
<script src="/1.978a979f.js"></script>
<script src="/284.9b127a42.js"></script>
<script src="/285.87bc8610.js"></script>
<script src="/935f2afb.0ad17a86.js"></script>
<script src="/283.46b48473.js"></script>
<script src="/c1856bf5.2d057e56.js"></script>
</body>
</html>