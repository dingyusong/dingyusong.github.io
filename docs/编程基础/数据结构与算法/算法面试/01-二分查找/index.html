<!doctype html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width,initial-scale=1">
<meta name="generator" content="Docusaurus v2.0.0-alpha.70">
<link rel="alternate" type="application/rss+xml" href="/blog/rss.xml" title="My Site Blog RSS Feed">
<link rel="alternate" type="application/atom+xml" href="/blog/atom.xml" title="My Site Blog Atom Feed"><title data-react-helmet="true">01-二分查找 | My Site</title><meta data-react-helmet="true" name="twitter:card" content="summary_large_image"><meta data-react-helmet="true" name="docusaurus_locale" content="en"><meta data-react-helmet="true" name="docusaurus_version" content="current"><meta data-react-helmet="true" name="docusaurus_tag" content="docs-default-current"><meta data-react-helmet="true" property="og:title" content="01-二分查找 | My Site"><meta data-react-helmet="true" name="description" content="[toc]"><meta data-react-helmet="true" property="og:description" content="[toc]"><meta data-react-helmet="true" property="og:url" content="http://localhost:9999//docs/编程基础/数据结构与算法/算法面试/01-二分查找"><link data-react-helmet="true" rel="shortcut icon" href="/img/favicon.ico"><link data-react-helmet="true" rel="canonical" href="http://localhost:9999//docs/编程基础/数据结构与算法/算法面试/01-二分查找"><link rel="stylesheet" href="/styles.8cfbcdec.css">
<link rel="preload" href="/styles.4ec932fe.js" as="script">
<link rel="preload" href="/runtime~main.3425bbd6.js" as="script">
<link rel="preload" href="/main.4d172be4.js" as="script">
<link rel="preload" href="/1.978a979f.js" as="script">
<link rel="preload" href="/284.9b127a42.js" as="script">
<link rel="preload" href="/285.87bc8610.js" as="script">
<link rel="preload" href="/935f2afb.0ad17a86.js" as="script">
<link rel="preload" href="/283.46b48473.js" as="script">
<link rel="preload" href="/ac7bbd5c.d8f18abc.js" as="script">
</head>
<body>
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){var t=null;try{t=localStorage.getItem("theme")}catch(t){}return t}();t(null!==e?e:"light")}()</script><div id="__docusaurus">
<nav aria-label="Skip navigation links"><button type="button" tabindex="0" class="skipToContent_11B0">Skip to main content</button></nav><nav class="navbar navbar--fixed-top"><div class="navbar__inner"><div class="navbar__items"><div aria-label="Navigation bar toggle" class="navbar__toggle" role="button" tabindex="0"><svg aria-label="Menu" width="30" height="30" viewBox="0 0 30 30" role="img" focusable="false"><title>Menu</title><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></div><a class="navbar__brand" href="/"><img src="/img/logo.svg" alt="My Site Logo" class="themedImage_YANc themedImage--light_3CMI navbar__logo"><img src="/img/logo.svg" alt="My Site Logo" class="themedImage_YANc themedImage--dark_3ARp navbar__logo"><strong class="navbar__title">My Site</strong></a><a aria-current="page" class="navbar__item navbar__link navbar__link--active" href="/docs/">基础</a><a class="navbar__item navbar__link" href="/docs/编程语言/编程语言">语言</a><a class="navbar__item navbar__link" href="/docs/工具/常用工具">工具</a><a class="navbar__item navbar__link" href="/docs/应用开发/应用开发">应用开发</a><a class="navbar__item navbar__link" href="/docs/Apple/iOS开发/iOS开发">Apple</a><a class="navbar__item navbar__link" href="/docs/音视频/音视频">音视频</a><a class="navbar__item navbar__link" href="/docs/项目/项目">项目</a></div><div class="navbar__items navbar__items--right"><div class="react-toggle react-toggle--disabled displayOnlyInLargeViewport_2N3Q"><div class="react-toggle-track"><div class="react-toggle-track-check"><span class="toggle_3NWk">🌜</span></div><div class="react-toggle-track-x"><span class="toggle_3NWk">🌞</span></div></div><div class="react-toggle-thumb"></div><input type="checkbox" disabled="" aria-label="Dark mode toggle" class="react-toggle-screenreader-only"></div><div class="navbar__search"><span aria-label="expand searchbar" role="button" class="search-icon" tabindex="0"></span><input type="search" id="search_input_react" placeholder="Search" aria-label="Search" class="navbar__search-input search-bar"></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div><div class="navbar-sidebar"><div class="navbar-sidebar__brand"><a class="navbar__brand" href="/"><img src="/img/logo.svg" alt="My Site Logo" class="themedImage_YANc themedImage--light_3CMI navbar__logo"><img src="/img/logo.svg" alt="My Site Logo" class="themedImage_YANc themedImage--dark_3ARp navbar__logo"><strong class="navbar__title">My Site</strong></a></div><div class="navbar-sidebar__items"><div class="menu"><ul class="menu__list"><li class="menu__list-item"><a aria-current="page" class="menu__link navbar__link--active" href="/docs/">基础</a></li><li class="menu__list-item"><a class="menu__link" href="/docs/编程语言/编程语言">语言</a></li><li class="menu__list-item"><a class="menu__link" href="/docs/工具/常用工具">工具</a></li><li class="menu__list-item"><a class="menu__link" href="/docs/应用开发/应用开发">应用开发</a></li><li class="menu__list-item"><a class="menu__link" href="/docs/Apple/iOS开发/iOS开发">Apple</a></li><li class="menu__list-item"><a class="menu__link" href="/docs/音视频/音视频">音视频</a></li><li class="menu__list-item"><a class="menu__link" href="/docs/项目/项目">项目</a></li></ul></div></div></div></nav><div class="main-wrapper"><div class="docPage_vMrn"><main class="docMainContainer_2iGs"><div class="container padding-vert--lg docItemWrapper_1bxp"><div class="row"><div class="col docItemCol_U38p"><div class="docItemContainer_a7m4"><article><header><h1 class="docTitle_Oumm">01-二分查找</h1></header><div class="markdown"><p>[toc]</p><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_prK2" id="二分查找"></a>二分查找<a class="hash-link" href="#二分查找" title="Direct link to heading">#</a></h3><p>二分查找也属于指针类，重点在于普通指针一次移动一个位置，二分查找，一次移动一半的位置。</p><ul><li>注意边界</li></ul><p>循环不变量。控制边界。控制异常。</p><h4><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_prK2" id="33-搜索旋转排序数组-113"></a><a href="https://leetcode-cn.com/problems/search-in-rotated-sorted-array/" target="_blank" rel="noopener noreferrer">33. 搜索旋转排序数组</a>-113<a class="hash-link" href="#33-搜索旋转排序数组-113" title="Direct link to heading">#</a></h4><div class="mdxCodeBlock_1zKU"><div class="codeBlockContent_actS"><div tabindex="0" class="prism-code language-c++ codeBlock_tuNs thin-scrollbar"><div class="codeBlockLines_3uvA" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">class Solution {</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">public:</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    int search(vector&lt;int&gt;&amp; nums, int target) {</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        int l = 0, r = nums.size()-1;</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        while(l &lt;= r){</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">            int mid = (l+r)&gt;&gt;1;</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">            if(nums[mid] == target) return mid;</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">            //整个数组分为左右两个有序数组</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    /*</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    将数组一分为二，其中一定有一个是有序的，另一个可能是有序，也能是部分有序。</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    此时有序部分用二分法查找。无序部分再一分为二，其中一个一定有序，另一个可能有序，可能无序。就这样循环. </span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    */</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">            if(nums[mid] &gt;= nums[l]) {</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">                //必然在左有序数组中</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">                if(target &gt;= nums[l] &amp;&amp; target &lt; nums[mid]){ //落在了左有序数组中的左半部分</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">                    r = mid - 1;</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">                }</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">                else {</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">                  </span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">                      //[mid+1 左有序，右有序] 在另一半无序的数组中 </span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">                    l = mid + 1;</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">                }</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">            }</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">            else {</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">                //mid落在了右有序数组中</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">                if(target &gt; nums[mid] &amp;&amp; target &lt;= nums[r]) { //落在了左有序数组中有半部分</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">                    l = mid + 1;</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">                }</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">                else {</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">                                     //[左有序，右有序 mid-1]在另一半无序的数组中</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">                    r = mid - 1;</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">                }</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">            }</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        }</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        return -1;</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    }</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">};</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_2GIj">Copy</button></div></div><p>先找出旋转的长度</p><div class="mdxCodeBlock_1zKU"><div class="codeBlockContent_actS"><div tabindex="0" class="prism-code language-c++ codeBlock_tuNs thin-scrollbar"><div class="codeBlockLines_3uvA" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">class Solution:</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    def search(self, nums, target):</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        &quot;&quot;&quot;</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        :type nums: List[int]</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        :type target: int</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        :rtype: int</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        &quot;&quot;&quot;</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        #找出旋转长度</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        n = len(nums)</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        </span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        low = 0</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        high = n -1</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        </span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        #双指针发最后定位到那个最小值，最小值的下标，就是旋转的个数</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        while low &lt; high:</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">            middle = (low+high)//2</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">            if nums[middle] &gt; nums[high]:</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">                low = middle+1</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">            else:</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">                high = middle#不减1是应为可能处在最小值</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        </span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        #找出了最小值</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        rotation = low</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        low = 0</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        high = n -1</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        </span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        #旋转数组的二分查找，最骚的是中间值偏移</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        while low &lt;= high:</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">            middle = (low+high)//2</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">            realMiddle = (middle+rotation)%n</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">            if nums[realMiddle] == target :</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">                return realMiddle</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">            elif nums[realMiddle] &lt; target :</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">                low = middle+1</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">            else:</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">                high = middle-1</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        return -1               </span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_2GIj">Copy</button></div></div><h4><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_prK2" id="704-二分查找-98"></a><a href="https://leetcode-cn.com/problems/binary-search/" target="_blank" rel="noopener noreferrer">704. 二分查找</a>-98<a class="hash-link" href="#704-二分查找-98" title="Direct link to heading">#</a></h4><p>给定一个 n 个元素有序的（升序）整型数组 nums 和一个目标值 target  ，写一个函数搜索 nums 中的 target，如果目标值存在返回下标，否则返回 -1。</p><p>示例 1:</p><div class="mdxCodeBlock_1zKU"><div class="codeBlockContent_actS"><div tabindex="0" class="prism-code language-undefined codeBlock_tuNs thin-scrollbar"><div class="codeBlockLines_3uvA" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">输入: nums = [-1,0,3,5,9,12], target = 9</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">输出: 4</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">解释: 9 出现在 nums 中并且下标为 4</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">示例 2:</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_2GIj">Copy</button></div></div><div class="mdxCodeBlock_1zKU"><div class="codeBlockContent_actS"><div tabindex="0" class="prism-code language-undefined codeBlock_tuNs thin-scrollbar"><div class="codeBlockLines_3uvA" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">输入: nums = [-1,0,3,5,9,12], target = 2</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">输出: -1</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">解释: 2 不存在 nums 中因此返回 -1</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_2GIj">Copy</button></div></div><p>来源：力扣（LeetCode）
链接：<a href="https://leetcode-cn.com/problems/binary-search" target="_blank" rel="noopener noreferrer">https://leetcode-cn.com/problems/binary-search</a>
著作权归领扣网络所有。商业转载请联系官方授权，非商业转载请注明出处。</p><div class="mdxCodeBlock_1zKU"><div class="codeBlockContent_actS"><div tabindex="0" class="prism-code language-c++ codeBlock_tuNs thin-scrollbar"><div class="codeBlockLines_3uvA" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">class Solution {</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">public:</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    int search(vector&lt;int&gt;&amp; nums, int target) {</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        int l = 0, r = nums.size()-1;</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        while(l &lt; r) {</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">            int mid = l + (r-l)/2;</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">            if(nums[mid] == target) {</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">                return mid;</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">            }</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">            if(nums[mid] &gt; target) {</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">                r = mid-1;</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">            }</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">            else {</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">                l = mid+1;</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">            }</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        }</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">//          注意：有可能不在这个数组中！！！！</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        if(nums[l] != target) {</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">            return -1;</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        }</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        return l;</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    }</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">};</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_2GIj">Copy</button></div></div><h4><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_prK2" id="300-最长上升子序列-92"></a><a href="https://leetcode-cn.com/problems/longest-increasing-subsequence" target="_blank" rel="noopener noreferrer">300. 最长上升子序列</a>-92<a class="hash-link" href="#300-最长上升子序列-92" title="Direct link to heading">#</a></h4><h4><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_prK2" id="69-sqrtx-x的平方根-74"></a><a href="https://leetcode-cn.com/problems/sqrtx/" target="_blank" rel="noopener noreferrer">69. Sqrt(x) x的平方根</a>-74<a class="hash-link" href="#69-sqrtx-x的平方根-74" title="Direct link to heading">#</a></h4><div class="mdxCodeBlock_1zKU"><div class="codeBlockContent_actS"><div tabindex="0" class="prism-code language-c++ codeBlock_tuNs thin-scrollbar"><div class="codeBlockLines_3uvA" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">class Solution {</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">public:</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    int mySqrt(int x) {</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        if(x==0 || x == 1) {</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">            return x;</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        }</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        int l = 1, r = x/2;</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        while(l &lt; r) {</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">            int mid = l + (r-l + 1)/2;</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">            /*</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">            明确二分的判断，如果</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">            一个数的平方大于x，那他一定不是x的平方根</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">            一个数的平方小于等于x，那他可能是x的平方根</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">            根据二分的定义，确定下一次的边界。</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">            */</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">            if(mid &gt; x/mid) {</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">                r = mid - 1;//舍弃mid，mid不可能是解</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">            }</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">            else if(mid &lt; x/mid) {</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">                l = mid;//保留mid，mid可能是解</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">            }else {</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">                return mid;</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">            }            </span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        }</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        return l;</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    }</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">};</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_2GIj">Copy</button></div></div><h4><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_prK2" id="4-寻找两个正序数组的中位数---64"></a><a href="https://leetcode-cn.com/problems/median-of-two-sorted-arrays/" target="_blank" rel="noopener noreferrer">4. 寻找两个正序数组的中位数</a> - 64<a class="hash-link" href="#4-寻找两个正序数组的中位数---64" title="Direct link to heading">#</a></h4><p>给定两个大小分别为 m 和 n 的正序（从小到大）数组 nums1 和 nums2。请你找出并返回这两个正序数组的 中位数 。</p><p>算法的时间复杂度应该为 O(log (m+n)) 。</p><p>来源：力扣（LeetCode）
链接：<a href="https://leetcode-cn.com/problems/median-of-two-sorted-arrays" target="_blank" rel="noopener noreferrer">https://leetcode-cn.com/problems/median-of-two-sorted-arrays</a>
著作权归领扣网络所有。商业转载请联系官方授权，非商业转载请注明出处。</p><p>时间复杂度O(m+n)</p><div class="mdxCodeBlock_1zKU"><div class="codeBlockContent_actS"><div tabindex="0" class="prism-code language-c++ codeBlock_tuNs thin-scrollbar"><div class="codeBlockLines_3uvA" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">class Solution {</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">public:</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    double findMedianSortedArrays(vector&lt;int&gt;&amp; nums1, vector&lt;int&gt;&amp; nums2) {</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        int len1 = nums1.size();</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        int len2 = nums2.size();</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        int len = len1 + len2;</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        int left = -1, right = -1;</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        int aStart = 0, bStart = 0;</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        //往前迭代到len/2的位置</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        for(int i = 0; i &lt;= len/2; i++) {</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">            left = right;//记录前一个节点</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">            //nums1不越界且num1[aStart] &lt; num2[bStart] astart往前走一步    </span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">            if(aStart &lt; len1 &amp;&amp; (bStart &gt;= len2 || nums1[aStart] &lt; nums2[bStart])) {</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">                right = nums1[aStart++];//num1待考察的指针往前移动一位</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">            }</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">            else {</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">                right = nums2[bStart++];//num2待考察的指针往前移动一位</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">            }</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        }</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        if(len&amp;1) {//奇数（0，1，2，3，4）中位数是2</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">            return right;</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        }</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        else {//奇数（0，1，2，3）中位数是1和2</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">            return (left + right)/2.0;</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        }</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    }</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">};</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_2GIj">Copy</button></div></div><p>得到第K大</p><p>时间复杂度O(log(m+n))</p><div class="mdxCodeBlock_1zKU"><div class="codeBlockContent_actS"><div tabindex="0" class="prism-code language-c++ codeBlock_tuNs thin-scrollbar"><div class="codeBlockLines_3uvA" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">class Solution {</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">private:</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    int getKth(vector&lt;int&gt;&amp; nums1, int start1, int end1,vector&lt;int&gt;&amp; nums2, int start2, int end2, int K) {</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        //两个有序数组的第k大</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        int len1 = end1 - start1 + 1;</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        int len2 = end2 - start2 + 1;</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        //始终让len1的长度小于len2，这样保证如果数组空了，一定是len1</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        if(len1 &gt; len2) return getKth(nums2,start2,end2,nums1,start1,end1,K);</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        //如果len1是空的</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        if(len1 == 0) return nums2[start2 + K -1];</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        if(K == 1) return min(nums1[start1],nums2[start2]);</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        //比K/2</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        int i = start1 + min(len1, K/2) - 1;</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        int j = start2 + min(len2, K/2) - 1;</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        if(nums1[i] &gt; nums2[j]) {</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">            //在nums2往后偏,砍掉nums2的K/2部分</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">            return getKth(nums1,start1,end1,nums2,j+1,end2, K - (j-start2+1));</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        }</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        else {</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">            return getKth(nums1,i+1,end1,nums2,start2,end2, K - (i-start1+1));</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        }</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    }</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">public:</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    double findMedianSortedArrays(vector&lt;int&gt;&amp; nums1, vector&lt;int&gt;&amp; nums2) {</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        int len1 = nums1.size();</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        int len2 = nums2.size();</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        int len = len1 + len2;</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        /*</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        奇数（0，1，2，3，4）中位数是(5+1)/2 = 3;(5+2)/2 = 3;   //奇数得到两个3</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        奇数（0，1，2，3）中位数是(4+1)/2 = 2;(4+2)/2 = 3;      //偶数得到一个2，一个3</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        */</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        int left = (len1 + len2 + 1)/2;//第k大</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        int right = (len1 + len2 + 2)/2;//</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        return (getKth(nums1,0,len1-1,nums2,0,len2-1,left) + getKth(nums1,0,len1-1,nums2,0,len2-1,right)) *0.5; </span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    }</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">};</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_2GIj">Copy</button></div></div><p>时间复杂度O(n^2)</p><div class="mdxCodeBlock_1zKU"><div class="codeBlockContent_actS"><div tabindex="0" class="prism-code language-c++ codeBlock_tuNs thin-scrollbar"><div class="codeBlockLines_3uvA" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">double findMedianSortedArrays(int* nums1, int nums1Size, int* nums2, int nums2Size) {</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    //1.两个有序数组合并成一个大的有序数组</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    int totalSize = nums1Size + nums2Size;</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    int finalArray[totalSize];</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    int k = 0;</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    int i = 0 , j = 0;</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    </span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    while ((i&lt;nums1Size) || (j&lt;nums2Size)) {</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        </span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        if (i == nums1Size) {</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">            for (int l = j; l&lt; nums2Size; l++) {</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">                finalArray[k] = nums2[l];</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">                k++;</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">            }</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">            j = nums2Size;</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        }</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        </span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        if (j == nums2Size) {</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">            for (int l = i; l&lt; nums1Size; l++) {</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">                finalArray[k] = nums1[l];</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">                k++;</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">            }</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">            i = nums1Size;</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        }</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        </span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        if (k &lt; totalSize) {            </span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">            if (nums1[i] &lt; nums2[j]) {</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">                finalArray[k] = nums1[i];</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">                k++;</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">                i++;                </span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">            }</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">            else {</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">                finalArray[k] = nums2[j];                </span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">                k++;                </span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">                j++;</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">            }</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        }                </span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    }</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    </span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    </span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    //2.找到中位数</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    if(totalSize%2 == 0) {</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        int bid1 = (totalSize)/2;</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        int bid2 = bid1-1;</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        return (finalArray[bid1] + finalArray[bid2])/2.0;</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    }</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    else {</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        int bid = (totalSize-1)/2;</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        return finalArray[bid];</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    }</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    </span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">}</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_2GIj">Copy</button></div></div><h4><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_prK2" id="718-最长重复子数组---52"></a><a href="https://leetcode-cn.com/problems/maximum-length-of-repeated-subarray" target="_blank" rel="noopener noreferrer">718. 最长重复子数组</a> - 52<a class="hash-link" href="#718-最长重复子数组---52" title="Direct link to heading">#</a></h4><h4><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_prK2" id="34-在排序数组中查找元素-44"></a><a href="https://leetcode-cn.com/problems/find-first-and-last-position-of-element-in-sorted-array" target="_blank" rel="noopener noreferrer">34. 在排序数组中查找元素</a>-44<a class="hash-link" href="#34-在排序数组中查找元素-44" title="Direct link to heading">#</a></h4><h4><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_prK2" id="153-寻找旋转排序数组中的最-41"></a><a href="https://leetcode-cn.com/problems/find-minimum-in-rotated-sorted-array" target="_blank" rel="noopener noreferrer">153. 寻找旋转排序数组中的最</a>-41<a class="hash-link" href="#153-寻找旋转排序数组中的最-41" title="Direct link to heading">#</a></h4><h4><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_prK2" id="162-寻找峰值"></a><a href="https://leetcode-cn.com/problems/find-peak-element/" target="_blank" rel="noopener noreferrer">162. 寻找峰值</a><a class="hash-link" href="#162-寻找峰值" title="Direct link to heading">#</a></h4><div class="mdxCodeBlock_1zKU"><div class="codeBlockContent_actS"><div tabindex="0" class="prism-code language-c++ codeBlock_tuNs thin-scrollbar"><div class="codeBlockLines_3uvA" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">class Solution {</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">public:</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    //爬山，往高处走。取中间，往小的方向走不一定满足，往大的方向走一定满足！（不一定|一定）</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    int findPeakElement(vector&lt;int&gt;&amp; nums) {</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        int l = 0, r = nums.size()-1;</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        while(l &lt; r) {</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">            int mid = l+(r-l)/2;//注意峰值！</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">            if(nums[mid]&gt;nums[mid+1]) {</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">                r = mid;</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">            }</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">            else {</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">                l = mid+1;</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">            }</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        }</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        return l;</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    }</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">};</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_2GIj">Copy</button></div></div><p>「我们强调，二分的本质是「二段性」而非「单调性」，而经过本题，我们进一步发现「二段性」还能继续细分，不仅仅只有满足 01 特性（满足/不满足）的「二段性」可以使用二分，满足 1? 特性（一定满足/不一定满足）也可以二分。」</p><h4><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_prK2" id="215-数组中的第k个最大元素---253"></a><a href="https://leetcode-cn.com/problems/kth-largest-element-in-an-array/" target="_blank" rel="noopener noreferrer">215. 数组中的第K个最大元素 - 253</a><a class="hash-link" href="#215-数组中的第k个最大元素---253" title="Direct link to heading">#</a></h4><p>三路快排找到下标！！！</p><div class="mdxCodeBlock_1zKU"><div class="codeBlockContent_actS"><div tabindex="0" class="prism-code language-c++ codeBlock_tuNs thin-scrollbar"><div class="codeBlockLines_3uvA" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">class Solution {</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">private:    </span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    int ret = -1;</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    bool found = false;    </span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    void findKthLargest(vector&lt;int&gt;&amp; nums, int k, int l ,int r) {</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        if(l &gt; r || found) return;</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        swap(nums[l], nums[l+rand()%(r-l+1)]);</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        int pivot = nums[l];</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        int lt = l;//[l+1 lt] &lt; mid</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        int i = l+1;//[lt+1 i) == mid</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        int gt = r+1;//[gt r] &gt; mid</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        while(i &lt; gt) {</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">            if(nums[i] &gt; pivot) { //注意：第k大是从大到小排序！</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">                swap(nums[i],nums[lt+1]);</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">                i++;</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">                lt++;</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">            }</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">            else if(nums[i] == pivot) {</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">                i++;</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">            }</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">            else {</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">                swap(nums[i], nums[gt-1]);</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">                gt--;</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">            }</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        }        </span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        swap(nums[l], nums[lt]);</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        if(k&lt;=gt-1 &amp;&amp; k &gt;= lt) {</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">            ret = nums[lt];</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">            found = true;</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">            return;</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        }</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        if(k &lt; lt) {</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">            findKthLargest(nums,k,l,lt-1);</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        }</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        else {</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">            findKthLargest(nums,k,gt,r);</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        }</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        </span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    } </span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">public:</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    int findKthLargest(vector&lt;int&gt;&amp; nums, int k) {</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        srand(time(NULL));</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        findKthLargest(nums,k-1,0,nums.size()-1);//注意：第k大应该取下标是k-1的那个值。</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        return ret;</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    }</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">};</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_2GIj">Copy</button></div></div><div class="mdxCodeBlock_1zKU"><div class="codeBlockContent_actS"><div tabindex="0" class="prism-code language-c++ codeBlock_tuNs thin-scrollbar"><div class="codeBlockLines_3uvA" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">class Solution {</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">public:</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    int findKthLargest(vector&lt;int&gt;&amp; nums, int k) {</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        if(nums.empty() || nums.size() &lt; k || k &lt;= 0) {</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">            return -1;</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        }</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        //前闭后开，起始</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        vector&lt;int&gt;::iterator start = nums.begin();</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        vector&lt;int&gt;::iterator end = nums.end();</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        while(1) {</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">            int pivot = *(std::next(start, std::distance(start,end)/2));</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">            vector&lt;int&gt;::iterator mid1 = std::partition(start,end,[&amp;](const auto &amp;e){return e &gt; pivot;});</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">            vector&lt;int&gt;::iterator mid2 = std::partition(start,end,[&amp;](const auto &amp;e){return e &gt;= pivot;});</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">            int r1 = distance(nums.begin(), mid1);</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">            int r2 = distance(nums.begin(), mid2);</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">            if(k &lt;= r1) {</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">                end = mid1;</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">            }</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">            else if(k &gt;= r1+1 &amp;&amp; k &lt;= r2) {</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">                return nums[k-1];</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">            }</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">            else {</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">                start = mid2;</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">            }          </span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        }</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        return -1;</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    }</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">};</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_2GIj">Copy</button></div></div><p>先排序后取值</p><div class="mdxCodeBlock_1zKU"><div class="codeBlockContent_actS"><div tabindex="0" class="prism-code language-c++ codeBlock_tuNs thin-scrollbar"><div class="codeBlockLines_3uvA" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">class Solution:</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    def findKthLargest(self, nums, k):</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        &quot;&quot;&quot;</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        :type nums: List[int]</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        :type k: int</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        :rtype: int</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        &quot;&quot;&quot;</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        # list = sorted(nums)</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        # return list[-k]</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    </span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        # nums.sort()</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        # return nums[-k]</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        nums.sort(reverse = True)</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        return nums[k-1]        </span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_2GIj">Copy</button></div></div><h4><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_prK2" id="剑指-offer-11-旋转数组的最小数字---13"></a><a href="https://leetcode-cn.com/problems/xuan-zhuan-shu-zu-de-zui-xiao-shu-zi-lcof/" target="_blank" rel="noopener noreferrer">剑指 Offer 11. 旋转数组的最小数字</a> - 13<a class="hash-link" href="#剑指-offer-11-旋转数组的最小数字---13" title="Direct link to heading">#</a></h4><p>把这个数组分为两个有序数组，最小值必然在右排序数组中！。 所以mid和arr[r] 相比较，根据不同的情况来缩小数组，直到l==r。</p><div class="mdxCodeBlock_1zKU"><div class="codeBlockContent_actS"><div tabindex="0" class="prism-code language-c++ codeBlock_tuNs thin-scrollbar"><div class="codeBlockLines_3uvA" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">class Solution {</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">public:</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    int minNumberInRotateArray(vector&lt;int&gt; rotateArray) {</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        if(rotateArray.empty()) {</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">            return -1;</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        }</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        </span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        int l = 0, r = rotateArray.size()-1;</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        while(l &lt;= r) {</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">            int p = l + ((r-l)&gt;&gt;1);//注意：右移运算符优先级非常低，需要加小括号。</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">            if(rotateArray[p]&gt;rotateArray[r]) {</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">                l = p+1;</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">            }</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">            else if(rotateArray[p]&lt;rotateArray[r]){</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">                r = p;</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">            }</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">            else {</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">                r--;</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">            }</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">            p = l + ((r-l)&gt;&gt;1);//注意：右移运算符优先级非常低，需要加小括号。</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        }</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        return rotateArray[l];</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    }</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">};</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_2GIj">Copy</button></div></div><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_prK2" id="总结"></a>总结<a class="hash-link" href="#总结" title="Direct link to heading">#</a></h2><ol><li>使用递归实现。每次更新left和right。最典型的是快速排序。</li><li>使用迭代实现。</li></ol></div></article><div class="margin-vert--xl"><div class="row"><div class="col"><a href="dys-typora-open://mine/survival/docs/编程基础/数据结构与算法/算法面试/01-二分查找.md" target="_blank" rel="noreferrer noopener"><svg fill="currentColor" height="1.2em" width="1.2em" preserveAspectRatio="xMidYMid meet" role="img" viewBox="0 0 40 40" class="iconEdit_2LL7"><g><path d="m34.5 11.7l-3 3.1-6.3-6.3 3.1-3q0.5-0.5 1.2-0.5t1.1 0.5l3.9 3.9q0.5 0.4 0.5 1.1t-0.5 1.2z m-29.5 17.1l18.4-18.5 6.3 6.3-18.4 18.4h-6.3v-6.2z"></path></g></svg>Edit this page</a></div></div></div><div class="margin-vert--lg"><nav class="pagination-nav" aria-label="Blog list page navigation"><div class="pagination-nav__item"></div><div class="pagination-nav__item pagination-nav__item--next"></div></nav></div></div></div><div class="col col--3"><div class="tableOfContents_2xL- thin-scrollbar"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#二分查找" class="table-of-contents__link">二分查找</a></li><li><a href="#总结" class="table-of-contents__link">总结</a></li></ul></div></div></div></div></main></div></div><footer class="footer footer--dark"><div class="container"><div class="row footer__links"><div class="col footer__col"><h4 class="footer__title">Docs</h4><ul class="footer__items"><li class="footer__item"><a class="footer__link-item" href="/docs/">Style Guide</a></li><li class="footer__item"><a class="footer__link-item" href="/docs/">Second Doc</a></li></ul></div><div class="col footer__col"><h4 class="footer__title">Community</h4><ul class="footer__items"><li class="footer__item"><a href="https://stackoverflow.com/questions/tagged/docusaurus" target="_blank" rel="noopener noreferrer" class="footer__link-item">Stack Overflow</a></li><li class="footer__item"><a href="https://discordapp.com/invite/docusaurus" target="_blank" rel="noopener noreferrer" class="footer__link-item">Discord</a></li><li class="footer__item"><a href="https://twitter.com/docusaurus" target="_blank" rel="noopener noreferrer" class="footer__link-item">Twitter</a></li></ul></div><div class="col footer__col"><h4 class="footer__title">More</h4><ul class="footer__items"><li class="footer__item"><a class="footer__link-item" href="/blog">Blog</a></li><li class="footer__item"><a href="https://github.com/facebook/docusaurus" target="_blank" rel="noopener noreferrer" class="footer__link-item">GitHub</a></li></ul></div></div><div class="footer__bottom text--center"><div class="footer__copyright">Copyright © 2022 My Project, Inc. Built with Docusaurus.</div></div></div></footer></div>
<script src="/styles.4ec932fe.js"></script>
<script src="/runtime~main.3425bbd6.js"></script>
<script src="/main.4d172be4.js"></script>
<script src="/1.978a979f.js"></script>
<script src="/284.9b127a42.js"></script>
<script src="/285.87bc8610.js"></script>
<script src="/935f2afb.0ad17a86.js"></script>
<script src="/283.46b48473.js"></script>
<script src="/ac7bbd5c.d8f18abc.js"></script>
</body>
</html>