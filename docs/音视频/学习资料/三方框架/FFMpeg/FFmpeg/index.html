<!doctype html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width,initial-scale=1">
<meta name="generator" content="Docusaurus v2.0.0-alpha.70">
<link rel="alternate" type="application/rss+xml" href="/blog/rss.xml" title="My Site Blog RSS Feed">
<link rel="alternate" type="application/atom+xml" href="/blog/atom.xml" title="My Site Blog Atom Feed"><title data-react-helmet="true">FFmpeg | My Site</title><meta data-react-helmet="true" name="twitter:card" content="summary_large_image"><meta data-react-helmet="true" name="docusaurus_locale" content="en"><meta data-react-helmet="true" name="docusaurus_version" content="current"><meta data-react-helmet="true" name="docusaurus_tag" content="docs-default-current"><meta data-react-helmet="true" property="og:title" content="FFmpeg | My Site"><meta data-react-helmet="true" name="description" content="FFMpeg"><meta data-react-helmet="true" property="og:description" content="FFMpeg"><meta data-react-helmet="true" property="og:url" content="http://localhost:9999//docs/éŸ³è§†é¢‘/å­¦ä¹ èµ„æ–™/ä¸‰æ–¹æ¡†æ¶/FFMpeg/FFmpeg"><link data-react-helmet="true" rel="shortcut icon" href="/img/favicon.ico"><link data-react-helmet="true" rel="canonical" href="http://localhost:9999//docs/éŸ³è§†é¢‘/å­¦ä¹ èµ„æ–™/ä¸‰æ–¹æ¡†æ¶/FFMpeg/FFmpeg"><link rel="stylesheet" href="/styles.8cfbcdec.css">
<link rel="preload" href="/styles.65a50636.js" as="script">
<link rel="preload" href="/runtime~main.b175e2de.js" as="script">
<link rel="preload" href="/main.777b260c.js" as="script">
<link rel="preload" href="/1.5f7a006f.js" as="script">
<link rel="preload" href="/260.fc337f83.js" as="script">
<link rel="preload" href="/261.cd474b1f.js" as="script">
<link rel="preload" href="/935f2afb.42cf00cb.js" as="script">
<link rel="preload" href="/259.fa9b4b3b.js" as="script">
<link rel="preload" href="/ec34eea2.7ee08189.js" as="script">
</head>
<body>
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){var t=null;try{t=localStorage.getItem("theme")}catch(t){}return t}();t(null!==e?e:"light")}()</script><div id="__docusaurus">
<nav aria-label="Skip navigation links"><button type="button" tabindex="0" class="skipToContent_11B0">Skip to main content</button></nav><nav class="navbar navbar--fixed-top"><div class="navbar__inner"><div class="navbar__items"><div aria-label="Navigation bar toggle" class="navbar__toggle" role="button" tabindex="0"><svg aria-label="Menu" width="30" height="30" viewBox="0 0 30 30" role="img" focusable="false"><title>Menu</title><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></div><a class="navbar__brand" href="/"><img src="/img/logo.svg" alt="My Site Logo" class="themedImage_YANc themedImage--light_3CMI navbar__logo"><img src="/img/logo.svg" alt="My Site Logo" class="themedImage_YANc themedImage--dark_3ARp navbar__logo"><strong class="navbar__title">My Site</strong></a><a class="navbar__item navbar__link" href="/docs/">åŸºç¡€</a><a class="navbar__item navbar__link" href="/docs/ç¼–ç¨‹è¯­è¨€/ç¼–ç¨‹è¯­è¨€">è¯­è¨€</a><a class="navbar__item navbar__link" href="/docs/å·¥å…·/å¸¸ç”¨å·¥å…·">å·¥å…·</a><a class="navbar__item navbar__link" href="/docs/åº”ç”¨å¼€å‘/åº”ç”¨å¼€å‘">åº”ç”¨å¼€å‘</a><a class="navbar__item navbar__link" href="/docs/Apple/iOSå¼€å‘/iOSå¼€å‘">Apple</a><a aria-current="page" class="navbar__item navbar__link navbar__link--active" href="/docs/éŸ³è§†é¢‘/éŸ³è§†é¢‘">éŸ³è§†é¢‘</a><a class="navbar__item navbar__link" href="/docs/é¡¹ç›®/é¡¹ç›®">é¡¹ç›®</a></div><div class="navbar__items navbar__items--right"><div class="react-toggle react-toggle--disabled displayOnlyInLargeViewport_2N3Q"><div class="react-toggle-track"><div class="react-toggle-track-check"><span class="toggle_3NWk">ğŸŒœ</span></div><div class="react-toggle-track-x"><span class="toggle_3NWk">ğŸŒ</span></div></div><div class="react-toggle-thumb"></div><input type="checkbox" disabled="" aria-label="Dark mode toggle" class="react-toggle-screenreader-only"></div><div class="navbar__search"><span aria-label="expand searchbar" role="button" class="search-icon" tabindex="0"></span><input type="search" id="search_input_react" placeholder="Search" aria-label="Search" class="navbar__search-input search-bar"></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div><div class="navbar-sidebar"><div class="navbar-sidebar__brand"><a class="navbar__brand" href="/"><img src="/img/logo.svg" alt="My Site Logo" class="themedImage_YANc themedImage--light_3CMI navbar__logo"><img src="/img/logo.svg" alt="My Site Logo" class="themedImage_YANc themedImage--dark_3ARp navbar__logo"><strong class="navbar__title">My Site</strong></a></div><div class="navbar-sidebar__items"><div class="menu"><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" href="/docs/">åŸºç¡€</a></li><li class="menu__list-item"><a class="menu__link" href="/docs/ç¼–ç¨‹è¯­è¨€/ç¼–ç¨‹è¯­è¨€">è¯­è¨€</a></li><li class="menu__list-item"><a class="menu__link" href="/docs/å·¥å…·/å¸¸ç”¨å·¥å…·">å·¥å…·</a></li><li class="menu__list-item"><a class="menu__link" href="/docs/åº”ç”¨å¼€å‘/åº”ç”¨å¼€å‘">åº”ç”¨å¼€å‘</a></li><li class="menu__list-item"><a class="menu__link" href="/docs/Apple/iOSå¼€å‘/iOSå¼€å‘">Apple</a></li><li class="menu__list-item"><a aria-current="page" class="menu__link navbar__link--active" href="/docs/éŸ³è§†é¢‘/éŸ³è§†é¢‘">éŸ³è§†é¢‘</a></li><li class="menu__list-item"><a class="menu__link" href="/docs/é¡¹ç›®/é¡¹ç›®">é¡¹ç›®</a></li></ul></div></div></div></nav><div class="main-wrapper"><div class="docPage_vMrn"><div class="docSidebarContainer_3Ak5" role="complementary"><div class="sidebar_3gvy"><div class="menu menu--responsive thin-scrollbar menu_1yIk"><button aria-label="Open Menu" aria-haspopup="true" class="button button--secondary button--sm menu__button" type="button"><svg aria-label="Menu" class="sidebarMenuIcon_1CUI" width="24" height="24" viewBox="0 0 30 30" role="img" focusable="false"><title>Menu</title><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" href="/docs/éŸ³è§†é¢‘/éŸ³è§†é¢‘">éŸ³è§†é¢‘</a></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!">éŸ³è§†é¢‘/éŸ³é¢‘</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/éŸ³è§†é¢‘/Audio/Audio">Audio</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/éŸ³è§†é¢‘/Audio/éŸ³é¢‘é‡‡é›†">éŸ³é¢‘é‡‡é›†</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/éŸ³è§†é¢‘/Audio/éŸ³é¢‘å­˜å‚¨">éŸ³é¢‘å­˜å‚¨</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/éŸ³è§†é¢‘/Audio/éŸ³é¢‘å¤„ç†">éŸ³é¢‘å¤„ç†</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/éŸ³è§†é¢‘/Audio/éŸ³é¢‘ç¼–è§£ç ">éŸ³é¢‘ç¼–è§£ç </a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/éŸ³è§†é¢‘/Audio/éŸ³é¢‘æ’­æ”¾">éŸ³é¢‘æ’­æ”¾</a></li></ul></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!">éŸ³è§†é¢‘/è§†é¢‘</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/éŸ³è§†é¢‘/Video/Video">Video</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/éŸ³è§†é¢‘/Video/è§†é¢‘é‡‡é›†">è§†é¢‘é‡‡é›†</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/éŸ³è§†é¢‘/Video/è§†é¢‘å­˜å‚¨">è§†é¢‘å­˜å‚¨</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/éŸ³è§†é¢‘/Video/è§†é¢‘å¤„ç†">è§†é¢‘å¤„ç†</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/éŸ³è§†é¢‘/Video/è§†é¢‘ç¼–è§£ç ">è§†é¢‘ç¼–è§£ç </a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/éŸ³è§†é¢‘/Video/è§†é¢‘æ¸²æŸ“">è§†é¢‘æ¸²æŸ“</a></li></ul></li><li class="menu__list-item"><a class="menu__link" href="/docs/éŸ³è§†é¢‘/åŒæ­¥/éŸ³è§†é¢‘åŒæ­¥">éŸ³è§†é¢‘åŒæ­¥</a></li><li class="menu__list-item"><a class="menu__link" href="/docs/éŸ³è§†é¢‘/å°è£…/éŸ³è§†é¢‘å°è£…">éŸ³è§†é¢‘å°è£…</a></li><li class="menu__list-item"><a class="menu__link" href="/docs/éŸ³è§†é¢‘/ä¼ è¾“/éŸ³è§†é¢‘ä¼ è¾“">éŸ³è§†é¢‘ä¼ è¾“</a></li><li class="menu__list-item"><a class="menu__link" href="/docs/éŸ³è§†é¢‘/æœåŠ¡ç«¯/æœåŠ¡å™¨">æœåŠ¡å™¨</a></li><li class="menu__list-item"><a class="menu__link menu__link--sublist menu__link--active" href="#!">éŸ³è§†é¢‘/é‡è¦æ¡†æ¶</a><ul class="menu__list"><li class="menu__list-item"><a aria-current="page" class="menu__link menu__link--active active" tabindex="0" href="/docs/éŸ³è§†é¢‘/å­¦ä¹ èµ„æ–™/ä¸‰æ–¹æ¡†æ¶/FFMpeg/FFmpeg">FFmpeg</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/docs/éŸ³è§†é¢‘/å­¦ä¹ èµ„æ–™/ä¸‰æ–¹æ¡†æ¶/WebRTC/WebRTC">WebRTC</a></li></ul></li></ul></div></div></div><main class="docMainContainer_2iGs"><div class="container padding-vert--lg docItemWrapper_1bxp"><div class="row"><div class="col docItemCol_U38p"><div class="docItemContainer_a7m4"><article><header><h1 class="docTitle_Oumm">FFmpeg</h1></header><div class="markdown"><h1><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_prK2" id="ffmpeg"></a>FFMpeg<a class="hash-link" href="#ffmpeg" title="Direct link to heading">#</a></h1><p>[toc]</p><p>å…¥é—¨ä»‹ç»ï¼š</p><p><a href="https://www.ruanyifeng.com/blog/2020/01/ffmpeg.html" target="_blank" rel="noopener noreferrer">https://www.ruanyifeng.com/blog/2020/01/ffmpeg.html</a></p><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_prK2" id="èƒŒæ™¯å’Œå¸¸è¯†"></a>èƒŒæ™¯å’Œå¸¸è¯†<a class="hash-link" href="#èƒŒæ™¯å’Œå¸¸è¯†" title="Direct link to heading">#</a></h2><p>å®˜ç½‘ï¼š<a href="https://ffmpeg.org/" target="_blank" rel="noopener noreferrer">https://ffmpeg.org/</a></p><p>ç®€ä»‹ï¼š<a href="https://ffmpeg.org/about.html" target="_blank" rel="noopener noreferrer">https://ffmpeg.org/about.html</a></p><p>libav</p><p>GPLå¼€æºåè®®å’Œè€»è¾±æŸ±</p><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_prK2" id="ç¼–è¯‘å’Œé›†æˆ"></a>ç¼–è¯‘å’Œé›†æˆ<a class="hash-link" href="#ç¼–è¯‘å’Œé›†æˆ" title="Direct link to heading">#</a></h2><p>TODOï¼š</p><p>å¯ä»¥å‚è€ƒè‘—åé¡¹ç›®çš„ç¼–è¯‘è„šæœ¬ï¼Œæ¯”å¦‚IDKplayer</p><p>ç¼–è¯‘å’Œè¿è¡Œffmpegçš„exampleå‚è€ƒè¿™ä¸ªï¼š</p><p><a href="https://blog.jiyang.site/posts/compile-and-run-ffmpeg-examples/" target="_blank" rel="noopener noreferrer">https://blog.jiyang.site/posts/compile-and-run-ffmpeg-examples/</a></p><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_prK2" id="macçš„ç¼–è¯‘"></a>Macçš„ç¼–è¯‘<a class="hash-link" href="#macçš„ç¼–è¯‘" title="Direct link to heading">#</a></h3><p><a href="https://trac.ffmpeg.org/wiki/CompilationGuide/macOS" target="_blank" rel="noopener noreferrer">https://trac.ffmpeg.org/wiki/CompilationGuide/macOS</a></p><p>ä¸‹è½½</p><div class="mdxCodeBlock_1zKU"><div class="codeBlockContent_actS"><div tabindex="0" class="prism-code language-undefined codeBlock_tuNs thin-scrollbar"><div class="codeBlockLines_3uvA" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">git clone https://git.ffmpeg.org/ffmpeg.git ffmpeg </span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_2GIj">Copy</button></div></div><p>æŸ¥çœ‹ç¼–è¯‘é€‰é¡¹</p><div class="mdxCodeBlock_1zKU"><div class="codeBlockContent_actS"><div tabindex="0" class="prism-code language-undefined codeBlock_tuNs thin-scrollbar"><div class="codeBlockLines_3uvA" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">config --help </span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_2GIj">Copy</button></div></div><p>ç¼–è¯‘å®‰è£…</p><div class="mdxCodeBlock_1zKU"><div class="codeBlockContent_actS"><div tabindex="0" class="prism-code language-undefined codeBlock_tuNs thin-scrollbar"><div class="codeBlockLines_3uvA" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">make &amp;&amp; make install</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_2GIj">Copy</button></div></div><p>ç®€å•æ–¹ä¾¿çš„å®‰è£…æ–¹å¼</p><div class="mdxCodeBlock_1zKU"><div class="codeBlockContent_actS"><div tabindex="0" class="prism-code language-undefined codeBlock_tuNs thin-scrollbar"><div class="codeBlockLines_3uvA" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">brew install ffmpeg</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_2GIj">Copy</button></div></div><div class="mdxCodeBlock_1zKU"><div class="codeBlockContent_actS"><div tabindex="0" class="prism-code language-undefined codeBlock_tuNs thin-scrollbar"><div class="codeBlockLines_3uvA" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">A sample compilation command is:</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">git clone https://git.ffmpeg.org/ffmpeg.git ffmpeg</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">cd ffmpeg</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">./configure  --prefix=/usr/local --enable-gpl --enable-nonfree --enable-libass \</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">--enable-libfdk-aac --enable-libfreetype --enable-libmp3lame \</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">--enable-libtheora --enable-libvorbis --enable-libvpx --enable-libx264 --enable-libx265 --enable-libopus --enable-libxvid \</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">--samples=fate-suite/</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">make</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_2GIj">Copy</button></div></div><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_prK2" id="iosçš„ç¼–è¯‘"></a>iOSçš„ç¼–è¯‘<a class="hash-link" href="#iosçš„ç¼–è¯‘" title="Direct link to heading">#</a></h3><blockquote><p>The toolchain provided with Xcode is sufficient to build the basic unaccelerated code.</p><p>Mac OS X on PowerPC or ARM (iPhone) requires a preprocessor from <a href="https://github.com/FFmpeg/gas-preprocessor" target="_blank" rel="noopener noreferrer">https://github.com/FFmpeg/gas-preprocessor</a> or <a href="https://github.com/yuvi/gas-preprocessor(currently" target="_blank" rel="noopener noreferrer">https://github.com/yuvi/gas-preprocessor(currently</a> outdated) to build the optimized assembly functions. Put the Perl script somewhere in your PATH, FFmpegâ€™s configure will pick it up automatically.</p><p>Mac OS X on amd64 and x86 requires <code>nasm</code> to build most of the optimized assembly functions. <a href="http://www.finkproject.org/" target="_blank" rel="noopener noreferrer">Fink</a>, <a href="https://wiki.gentoo.org/wiki/Project:Prefix" target="_blank" rel="noopener noreferrer">Gentoo Prefix</a>, <a href="https://mxcl.github.com/homebrew/" target="_blank" rel="noopener noreferrer">Homebrew</a> or <a href="http://www.macports.org/" target="_blank" rel="noopener noreferrer">MacPorts</a> can easily provide it.</p></blockquote><p>å®˜æ–¹ç¼–è¯‘æŒ‡å¯¼ï¼š <a href="https://ffmpeg.org/platform.html#Darwin-_0028Mac-OS-X_002c-iPhone_0029" target="_blank" rel="noopener noreferrer">https://ffmpeg.org/platform.html#Darwin-_0028Mac-OS-X_002c-iPhone_0029</a></p><ol><li>éœ€è¦preprocessor <a href="https://github.com/FFmpeg/gas-preprocessor" target="_blank" rel="noopener noreferrer">https://github.com/FFmpeg/gas-preprocessor</a></li><li>éœ€è¦nasmã€‚ å¯ç”¨æ–¹ä¾¿çš„ç”¨homebrewä¹‹ç±»çš„åŒ…ç®¡ç†å·¥å…·å®‰è£…ã€‚</li></ol><p>ä¸Šé¢çš„æš‚æ—¶æ²¡æˆåŠŸï¼</p><ul><li><strong>FFmpeg-iOS</strong></li><li><a href="https://github.com/kewlbear/FFmpeg-iOS-build-script" target="_blank" rel="noopener noreferrer">https://github.com/kewlbear/FFmpeg-iOS-build-script</a></li></ul><p>X246 <a href="https://github.com/kewlbear/x264-ios" target="_blank" rel="noopener noreferrer">https://github.com/kewlbear/x264-ios</a></p><p><a href="https://github.com/yxibng/x264-ios" target="_blank" rel="noopener noreferrer">https://github.com/yxibng/x264-ios</a></p><ul><li><a href="https://github.com/kewlbear/FFmpeg-iOS" target="_blank" rel="noopener noreferrer">https://github.com/kewlbear/FFmpeg-iOS</a></li></ul><p>iOSæ‰‹åŠ¨ç¼–è¯‘å¹¶æ­å»ºFFmpeg:<a href="https://xiaodongxie1024.github.io/2019/05/30/20190530_ffmpeg_build_ios/" target="_blank" rel="noopener noreferrer">https://xiaodongxie1024.github.io/2019/05/30/20190530_ffmpeg_build_ios/</a></p><h4><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_prK2" id="å®‰è£…æ–¹å¼"></a>å®‰è£…æ–¹å¼<a class="hash-link" href="#å®‰è£…æ–¹å¼" title="Direct link to heading">#</a></h4><p>å¯ä»¥é€šè¿‡å¦‚ä¸‹ä¸¤ç§æ–¹å¼å®‰è£…ffmpeg</p><ul><li>1.ä¸‹è½½iOSç‰ˆæœ¬<a href="https://sourceforge.net/projects/ffmpeg-ios/files/ffmpeg-ios-master.tar.bz2/download?use_mirror=versaweb" target="_blank" rel="noopener noreferrer">ffmpegé™æ€åº“</a>: å³ä¸ç”¨æ‰‹åŠ¨ç¼–è¯‘,æˆ‘ä»¬åªéœ€è¦ä¸‹è½½å¾—åˆ°å¤´æ–‡ä»¶åŠ.aåº“æ–‡ä»¶.</li><li>2.æ‰‹åŠ¨ç¼–è¯‘: ä¸‹è½½æºç , å¯ä»¥åœ¨æ›´æ”¹ä¸€äº›flagæˆ–æºç åå†ç¼–è¯‘è„šæœ¬,è¾ƒä¸ºçµæ´».</li></ul><p><a href="https://sourceforge.net/projects/ffmpeg-ios/files/ffmpeg-ios-master.tar.bz2/download?use_mirror=versaweb" target="_blank" rel="noopener noreferrer">https://sourceforge.net/projects/ffmpeg-ios/files/ffmpeg-ios-master.tar.bz2/download?use_mirror=versaweb</a></p><p>FFmpegåœ¨iOSå¼€å‘ä¸­ç¼–è¯‘å¹¶ä½¿ç”¨ä»¥åŠæˆ‘é‡åˆ°çš„é—®é¢˜è§£å†³: <a href="https://kongdezhi.com/2019/08/28/FFmpeg%E5%9C%A8iOS%E5%BC%80%E5%8F%91%E4%B8%AD%E7%BC%96%E8%AF%91%E5%B9%B6%E4%BD%BF%E7%94%A8%E4%BB%A5%E5%8F%8A%E6%88%91%E9%81%87%E5%88%B0%E7%9A%84%E9%97%AE%E9%A2%98%E8%A7%A3%E5%86%B3/" target="_blank" rel="noopener noreferrer">https://kongdezhi.com/2019/08/28/FFmpeg%E5%9C%A8iOS%E5%BC%80%E5%8F%91%E4%B8%AD%E7%BC%96%E8%AF%91%E5%B9%B6%E4%BD%BF%E7%94%A8%E4%BB%A5%E5%8F%8A%E6%88%91%E9%81%87%E5%88%B0%E7%9A%84%E9%97%AE%E9%A2%98%E8%A7%A3%E5%86%B3/</a></p><p>iOSå¼€å‘ - è¶…è¯¦ç»†é›†æˆ FFmpeg æ­¥éª¤:<a href="https://www.jianshu.com/p/ecfbebadbe55" target="_blank" rel="noopener noreferrer">https://www.jianshu.com/p/ecfbebadbe55</a></p><p>å®˜æ–¹ç¼–è¯‘æŒ‡å—ï¼š</p><p><a href="https://trac.ffmpeg.org/wiki/CompilationGuide/macOS" target="_blank" rel="noopener noreferrer">https://trac.ffmpeg.org/wiki/CompilationGuide/macOS</a></p><p> <a href="https://xiaodongxie1024.github.io/2019/03/20/20190320_iOS_MakeFFmepgDynamicLib/" target="_blank" rel="noopener noreferrer">https://xiaodongxie1024.github.io/2019/03/20/20190320_iOS_MakeFFmepgDynamicLib/</a></p><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_prK2" id="ç¼–è¯‘å®˜æ–¹demo"></a>ç¼–è¯‘å®˜æ–¹demo<a class="hash-link" href="#ç¼–è¯‘å®˜æ–¹demo" title="Direct link to heading">#</a></h3><p>ç¼–è¯‘FFmpegè‡ªå¸¦çš„demoã€‚é‡ç‚¹åœ¨äºï¼šæ‰¾åˆ°å¼•ç”¨çš„åº“ï¼</p><p>FFmpegå·²ç»é€šè¿‡brewå®‰è£…äº†ã€‚</p><p><code>pkg-config --cflags --libs libavcodec</code> å¯ä»¥å¸®æˆ‘ä»¬æ‰¾åˆ°libavcodecã€‚</p><div class="mdxCodeBlock_1zKU"><div class="codeBlockContent_actS"><div tabindex="0" class="prism-code language-undefined codeBlock_tuNs thin-scrollbar"><div class="codeBlockLines_3uvA" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">/Users/dingyusong/Documents/GitHub/FFmpeg/doc/examples git:(release/4.3) âœ— gcc encode_video.c `pkg-config --cflags --libs libavcodec`</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_2GIj">Copy</button></div></div><p><img alt="image-20210325164547138" src="/assets/images/image-20210325164547138-ccfc3d58e10dd696c56c53ce4d8e2e70.png"></p><p>demoå¼•ç”¨äº† libavcodec æ‰€ä»¥è¦ç”¨ pkg-config æ¥æ‰¾åˆ°ä»–ã€‚</p><div class="mdxCodeBlock_1zKU"><div class="codeBlockContent_actS"><div tabindex="0" class="prism-code language-undefined codeBlock_tuNs thin-scrollbar"><div class="codeBlockLines_3uvA" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">âœ  /usr/local/lib/pkgconfig cat libavcodec.pc</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">prefix=/usr/local/Cellar/ffmpeg/4.3.1_9</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">exec_prefix=${prefix}</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">libdir=/usr/local/Cellar/ffmpeg/4.3.1_9/lib</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">includedir=/usr/local/Cellar/ffmpeg/4.3.1_9/include</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">Name: libavcodec</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">Description: FFmpeg codec library</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">Version: 58.91.100</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">Requires:</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">Requires.private: libswresample &gt;= 3.7.100, libavutil &gt;= 56.51.100</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">Conflicts:</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">Libs: -L${libdir}  -lavcodec</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">Libs.private: -L/usr/local/Cellar/libvpx/1.9.0/lib -lvpx -lm -L/usr/local/Cellar/libvpx/1.9.0/lib -lvpx -lm -L/usr/local/Cellar/libvpx/1.9.0/lib -lvpx -lm -L/usr/local/Cellar/libvpx/1.9.0/lib -lvpx -lm -L/usr/local/Cellar/webp/1.1.0/lib -lwebpmux -lwebp -liconv -lm -llzma -L/usr/local/Cellar/dav1d/0.8.1/lib -ldav1d -lopencore-amrwb -lsnappy -lstdc++ -lz -framework AudioToolbox -L/usr/local/Cellar/aom/2.0.1/lib -laom -lmp3lame -lm -lopencore-amrnb -L/usr/local/Cellar/openjpeg/2.3.1/lib -lopenjp2 -L/usr/local/Cellar/opus/1.3.1/lib -lopus -L/usr/local/Cellar/rav1e/0.4.0/lib -lrav1e -L/usr/local/Cellar/speex/1.2.0/lib -lspeex -ltheoraenc -ltheoradec -logg -L/usr/local/Cellar/libvorbis/1.3.7/lib -lvorbis -L/usr/local/Cellar/libvorbis/1.3.7/lib -lvorbisenc -L/usr/local/Cellar/webp/1.1.0/lib -lwebp -L/usr/local/Cellar/x264/r3027_1/lib -lx264 -L/usr/local/Cellar/x265/3.4_2/lib -lx265 -lxvidcore -pthread -framework VideoToolbox -framework CoreFoundation -framework CoreMedia -framework CoreVideo -framework CoreServices</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">Cflags: -I${includedir}</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">âœ  /usr/local/lib/pkgconfig</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_2GIj">Copy</button></div></div><p><strong>encode_video</strong></p><p>264ç¼–ç ï¼š</p><p>yuv-&gt;h264</p><p><img alt="image-20210326151033810" src="/assets/images/image-20210326151033810-bf33301a6a1140dfae55e04de85d3094.png"></p><p>å…ƒæ•°æ®å¤§å°æ˜¯ 183.5MB</p><p>ç¼–ç åçš„å¤§å°æ˜¯ï¼š22KB</p><p><img alt="image-20210326152612834" src="/assets/images/image-20210326152612834-5a078260fcaade6b3c56777ab07bbcb4.png"></p><p><strong>æœ‰ç†æ•°</strong></p><p><img alt="image-20210326152815152" src="/assets/images/image-20210326152815152-0983545f6ad13397c3bfc07cf779af42.png"></p><p>æ—¶é—´æˆ³</p><p>FFmpegæ—¶é—´æˆ³è¯¦è§£ï¼š<a href="https://www.cnblogs.com/leisure_chn/p/10584910.html" target="_blank" rel="noopener noreferrer">https://www.cnblogs.com/leisure_chn/p/10584910.html</a></p><p><strong>decode_video</strong></p><div class="mdxCodeBlock_1zKU"><div class="codeBlockContent_actS"><div tabindex="0" class="prism-code language-c codeBlock_tuNs thin-scrollbar"><div class="codeBlockLines_3uvA" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">    </span><span class="token comment" style="color:rgb(105, 112, 152);font-style:italic">/* find the MPEG-1 video decoder */</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    codec </span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token plain"> </span><span class="token function" style="color:rgb(130, 170, 255)">avcodec_find_decoder</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token plain">AV_CODEC_ID_H264</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    </span><span class="token keyword" style="font-style:italic">if</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token operator" style="color:rgb(137, 221, 255)">!</span><span class="token plain">codec</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        </span><span class="token function" style="color:rgb(130, 170, 255)">fprintf</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token constant" style="color:rgb(130, 170, 255)">stderr</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&quot;Codec not found\n&quot;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        </span><span class="token function" style="color:rgb(130, 170, 255)">exit</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token number" style="color:rgb(247, 140, 108)">1</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    </span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_2GIj">Copy</button></div></div><p>AV_CODEC_ID_H264 ä½¿ç”¨264è§£ç å™¨ã€‚</p><p>FFmpeg decode_video.cç¤ºä¾‹ï¼š<a href="https://www.jianshu.com/p/ba828994638a" target="_blank" rel="noopener noreferrer">https://www.jianshu.com/p/ba828994638a</a></p><div class="mdxCodeBlock_1zKU"><div class="codeBlockContent_actS"><div tabindex="0" class="prism-code language-undefined codeBlock_tuNs thin-scrollbar"><div class="codeBlockLines_3uvA" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">//ç¼–è¯‘</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">âœ  /Users/dingyusong/Documents/GitHub/FFmpeg/doc/examples git:(release/4.3) âœ— gcc decode_video.c `pkg-config --cflags --libs libavcodec` -o decode_video</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">//è¿è¡Œ</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">âœ  /Users/dingyusong/Documents/GitHub/FFmpeg/doc/examples git:(release/4.3) âœ— ./decode_video hw_encoded.h264 demo_decode.yuv</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_2GIj">Copy</button></div></div><p>AVPacketï¼ŒAVFrame</p><p>AVPacketæ¥æš‚å­˜è§£å¤ç”¨ä¹‹åã€è§£ç ä¹‹å‰çš„åª’ä½“æ•°æ®ï¼ˆä¸€ä¸ªéŸ³/è§†é¢‘å¸§ã€ä¸€ä¸ªå­—å¹•åŒ…ç­‰ï¼‰åŠé™„åŠ ä¿¡æ¯ï¼ˆè§£ç æ—¶é—´æˆ³ã€æ˜¾ç¤ºæ—¶é—´æˆ³ã€æ—¶é•¿ç­‰ï¼‰</p><p>AVFrame</p><p>æ„ä½“ä¿å­˜çš„æ˜¯è§£ç åå’ŒåŸå§‹çš„éŸ³è§†é¢‘ä¿¡æ¯ã€‚</p><p>åå…«ï¼šAVPacketï¼ŒAVFrame ï¼š<a href="https://www.jianshu.com/p/916fac038338" target="_blank" rel="noopener noreferrer">https://www.jianshu.com/p/916fac038338</a></p><p>å…³äºpkg-configçš„ä½¿ç”¨ </p><p><a href="https://blog.csdn.net/xygl2009/article/details/12998497" target="_blank" rel="noopener noreferrer">https://blog.csdn.net/xygl2009/article/details/12998497</a></p><p>å¿«é€ŸæŒ‡å—ï¼špkg-config çš„åŸç†å’Œä½¿ç”¨æ–¹æ³•: <a href="https://yeping.blog.csdn.net/article/details/112714641" target="_blank" rel="noopener noreferrer">https://yeping.blog.csdn.net/article/details/112714641</a></p><p>pkg-configä¸ffmpegï¼š<a href="https://www.jianshu.com/p/9cdba4e9d761" target="_blank" rel="noopener noreferrer">https://www.jianshu.com/p/9cdba4e9d761</a></p><p><strong>*.pc æ–‡ä»¶æ ¼å¼</strong></p><p>ä¿å­˜åœ¨ /usr/local/lib/pkgconfig è·¯å¾„ä¸‹ï¼Œå†…å®¹å¦‚ä¸‹ï¼š</p><p><img alt="image-20210325164436811" src="/assets/images/image-20210325164436811-3231700e401d3e24ea618f2017f9c412.png"></p><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_prK2" id="ä½¿ç”¨ffmpegåº“"></a>ä½¿ç”¨FFMpegåº“<a class="hash-link" href="#ä½¿ç”¨ffmpegåº“" title="Direct link to heading">#</a></h2><p><img alt="image-20210330142339693" src="/assets/images/image-20210330142339693-82443f73fcfca2fceca7d8db0f10a5e7.png"></p><p>iosçš„ä¾èµ–åº“å‚è€ƒï¼š<a href="https://github.com/kewlbear/FFmpeg-iOS-build-script" target="_blank" rel="noopener noreferrer">https://github.com/kewlbear/FFmpeg-iOS-build-script</a></p><div class="mdxCodeBlock_1zKU"><div class="codeBlockContent_actS"><div tabindex="0" class="prism-code language-undefined codeBlock_tuNs thin-scrollbar"><div class="codeBlockLines_3uvA" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">âœ  /Users/dingyusong/Documents/GitHub/FFmpeg git:(release/4.3) âœ— cd /usr/local/lib/pkgconfig</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">âœ  /usr/local/lib/pkgconfig cat libavcodec.pc</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">prefix=/usr/local/Cellar/ffmpeg/4.3.1_9</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">exec_prefix=${prefix}</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">libdir=/usr/local/Cellar/ffmpeg/4.3.1_9/lib</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">includedir=/usr/local/Cellar/ffmpeg/4.3.1_9/include</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">Name: libavcodec</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">Description: FFmpeg codec library</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">Version: 58.91.100</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">Requires:</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">Requires.private: libswresample &gt;= 3.7.100, libavutil &gt;= 56.51.100</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">Conflicts:</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">Libs: -L${libdir}  -lavcodec</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">Libs.private: -L/usr/local/Cellar/libvpx/1.9.0/lib -lvpx -lm -L/usr/local/Cellar/libvpx/1.9.0/lib -lvpx -lm -L/usr/local/Cellar/libvpx/1.9.0/lib -lvpx -lm -L/usr/local/Cellar/libvpx/1.9.0/lib -lvpx -lm -L/usr/local/Cellar/webp/1.1.0/lib -lwebpmux -lwebp -liconv -lm -llzma -L/usr/local/Cellar/dav1d/0.8.1/lib -ldav1d -lopencore-amrwb -lsnappy -lstdc++ -lz -framework AudioToolbox -L/usr/local/Cellar/aom/2.0.1/lib -laom -lmp3lame -lm -lopencore-amrnb -L/usr/local/Cellar/openjpeg/2.3.1/lib -lopenjp2 -L/usr/local/Cellar/opus/1.3.1/lib -lopus -L/usr/local/Cellar/rav1e/0.4.0/lib -lrav1e -L/usr/local/Cellar/speex/1.2.0/lib -lspeex -ltheoraenc -ltheoradec -logg -L/usr/local/Cellar/libvorbis/1.3.7/lib -lvorbis -L/usr/local/Cellar/libvorbis/1.3.7/lib -lvorbisenc -L/usr/local/Cellar/webp/1.1.0/lib -lwebp -L/usr/local/Cellar/x264/r3027_1/lib -lx264 -L/usr/local/Cellar/x265/3.4_2/lib -lx265 -lxvidcore -pthread -framework VideoToolbox -framework CoreFoundation -framework CoreMedia -framework CoreVideo -framework CoreServices</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">Cflags: -I${includedir}</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">âœ  /usr/local/lib/pkgconfig</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_2GIj">Copy</button></div></div><p>å¯ä»¥é€šè¿‡æŸ¥çœ‹pcæ–‡ä»¶æŸ¥çœ‹å…¶ä¾èµ–æ–‡ä»¶ã€‚</p><p>æ·»åŠ åº“çš„æ—¶å€™ï¼Œç›´æ¥æ‰¯è¿‡æ¥ï¼Œæ¯”ç‚¹å‡»åŠ å·æ–¹ä¾¿</p><p><img alt="image-20210402103651076" src="/assets/images/image-20210402103651076-53466ec83ff1614cf9ec6f8be315c166.png"></p><p>åº“çš„è¯ï¼Œæ‰¯åˆ°build phase é‡Œæ¯”è¾ƒå¥½ã€‚</p><p><img alt="image-20210402110603063" src="/assets/images/image-20210402110603063-c071e1b6e912c11c502bce6bfc00baa1.png"></p><p>å¤´æ–‡ä»¶ä¹Ÿæœ€å¥½ç”¨ï¼Œæ‰¯çš„ã€‚</p><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_prK2" id="å‘½ä»¤è¡Œä½¿ç”¨ç¯‡"></a>å‘½ä»¤è¡Œä½¿ç”¨ç¯‡<a class="hash-link" href="#å‘½ä»¤è¡Œä½¿ç”¨ç¯‡" title="Direct link to heading">#</a></h2><p><a href="https://ffmpeg.org/documentation.html" target="_blank" rel="noopener noreferrer">https://ffmpeg.org/documentation.html</a></p><p><img alt="image-20211006062408074" src="/assets/images/image-20211006062408074-fad968ea09731e035a8bfd620cddcdfa.png"></p><p>è®°ä½</p><div class="mdxCodeBlock_1zKU"><div class="codeBlockContent_actS"><div tabindex="0" class="prism-code language-undefined codeBlock_tuNs thin-scrollbar"><div class="codeBlockLines_3uvA" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">man ffmpeg</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_2GIj">Copy</button></div></div><div class="mdxCodeBlock_1zKU"><div class="codeBlockContent_actS"><div tabindex="0" class="prism-code language-undefined codeBlock_tuNs thin-scrollbar"><div class="codeBlockLines_3uvA" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">                _______              ______________</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">               |       |            |              |</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">               | input |  demuxer   | encoded data |   decoder</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">               | file  | ---------&gt; | packets      | -----+</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">               |_______|            |______________|      |</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">                                                          v</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">                                                      _________</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">                                                     |         |</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">                                                     | decoded |</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">                                                     | frames  |</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">                                                     |_________|</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">                ________             ______________       |</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">               |        |           |              |      |</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">               | output | &lt;-------- | encoded data | &lt;----+</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">               | file   |   muxer   | packets      |   encoder</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">               |________|           |______________|</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_2GIj">Copy</button></div></div><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_prK2" id="åŸºæœ¬ä¿¡æ¯æŸ¥è¯¢å‘½ä»¤"></a>åŸºæœ¬ä¿¡æ¯æŸ¥è¯¢å‘½ä»¤<a class="hash-link" href="#åŸºæœ¬ä¿¡æ¯æŸ¥è¯¢å‘½ä»¤" title="Direct link to heading">#</a></h3><p><img alt="image-20211006062432332" src="/assets/images/image-20211006062432332-0a32032d19c9c108fe30bdcf9f022e3a.png"></p><h4><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_prK2" id="æ˜¾ç¤ºå¯ç”¨è®¾å¤‡"></a>æ˜¾ç¤ºå¯ç”¨è®¾å¤‡<a class="hash-link" href="#æ˜¾ç¤ºå¯ç”¨è®¾å¤‡" title="Direct link to heading">#</a></h4><p>ffmpeg -devices</p><p><img alt="image-20211006141307790" src="/assets/images/image-20211006141307790-9c9ccc1efe797b0227a4917ce0ef5f6e.png"></p><h4><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_prK2" id="æ˜¾ç¤º264ç›¸å…³çš„ç¼–è§£ç å™¨"></a>æ˜¾ç¤º264ç›¸å…³çš„ç¼–è§£ç å™¨<a class="hash-link" href="#æ˜¾ç¤º264ç›¸å…³çš„ç¼–è§£ç å™¨" title="Direct link to heading">#</a></h4><p><img alt="image-20211006141452351" src="/assets/images/image-20211006141452351-437d94fdcbe215bf518a437296176136.png"></p><h4><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_prK2" id="mp3ç›¸å…³çš„å°è£…æ ¼å¼"></a>mp3ç›¸å…³çš„å°è£…æ ¼å¼<a class="hash-link" href="#mp3ç›¸å…³çš„å°è£…æ ¼å¼" title="Direct link to heading">#</a></h4><div class="mdxCodeBlock_1zKU"><div class="codeBlockContent_actS"><div tabindex="0" class="prism-code language-undefined codeBlock_tuNs thin-scrollbar"><div class="codeBlockLines_3uvA" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">âœ  /Users/Ding ffmpeg -formats | grep mp3</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">ffmpeg version 4.4 Copyright (c) 2000-2021 the FFmpeg developers</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  built with Apple clang version 12.0.0 (clang-1200.0.32.29)</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  configuration: --prefix=/usr/local/Cellar/ffmpeg/4.4_2 --enable-shared --enable-pthreads --enable-version3 --cc=clang --host-cflags= --host-ldflags= --enable-ffplay --enable-gnutls --enable-gpl --enable-libaom --enable-libbluray --enable-libdav1d --enable-libmp3lame --enable-libopus --enable-librav1e --enable-librubberband --enable-libsnappy --enable-libsrt --enable-libtesseract --enable-libtheora --enable-libvidstab --enable-libvorbis --enable-libvpx --enable-libwebp --enable-libx264 --enable-libx265 --enable-libxml2 --enable-libxvid --enable-lzma --enable-libfontconfig --enable-libfreetype --enable-frei0r --enable-libass --enable-libopencore-amrnb --enable-libopencore-amrwb --enable-libopenjpeg --enable-libspeex --enable-libsoxr --enable-libzmq --enable-libzimg --disable-libjack --disable-indev=jack --enable-avresample --enable-videotoolbox</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  libavutil      56. 70.100 / 56. 70.100</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  libavcodec     58.134.100 / 58.134.100</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  libavformat    58. 76.100 / 58. 76.100</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  libavdevice    58. 13.100 / 58. 13.100</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  libavfilter     7.110.100 /  7.110.100</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  libavresample   4.  0.  0 /  4.  0.  0</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  libswscale      5.  9.100 /  5.  9.100</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  libswresample   3.  9.100 /  3.  9.100</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  libpostproc    55.  9.100 / 55.  9.100</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"> DE mp3             MP3 (MPEG audio layer 3)</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_2GIj">Copy</button></div></div><h4><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_prK2" id="é‡‡æ ·å¤§å°"></a>é‡‡æ ·å¤§å°<a class="hash-link" href="#é‡‡æ ·å¤§å°" title="Direct link to heading">#</a></h4><div class="mdxCodeBlock_1zKU"><div class="codeBlockContent_actS"><div tabindex="0" class="prism-code language-undefined codeBlock_tuNs thin-scrollbar"><div class="codeBlockLines_3uvA" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">âœ  /Users/Ding/Documents/ff/cli ffplay -sample_fmts</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">...</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">name   depth</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">u8        8</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">s16      16</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">s32      32</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">flt      32</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">dbl      64</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">u8p       8</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">s16p     16</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">s32p     32</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">fltp     32</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">dblp     64</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">s64      64</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">s64p     64</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_2GIj">Copy</button></div></div><h4><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_prK2" id="åƒç´ æ ¼å¼"></a>åƒç´ æ ¼å¼<a class="hash-link" href="#åƒç´ æ ¼å¼" title="Direct link to heading">#</a></h4><div class="mdxCodeBlock_1zKU"><div class="codeBlockContent_actS"><div tabindex="0" class="prism-code language-undefined codeBlock_tuNs thin-scrollbar"><div class="codeBlockLines_3uvA" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">âœ  /Users/Ding/Documents/ff/cli ffplay -pix_fmts</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">...</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">Pixel formats:</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">I.... = Supported Input  format for conversion</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">.O... = Supported Output format for conversion</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">..H.. = Hardware accelerated format</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">...P. = Paletted format</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">....B = Bitstream format</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">FLAGS NAME            NB_COMPONENTS BITS_PER_PIXEL</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">-----</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">IO... yuv420p                3            12</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">IO... yuyv422                3            16</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">IO... rgb24                  3            24</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">IO... bgr24                  3            24</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">...</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_2GIj">Copy</button></div></div><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_prK2" id="å½•åˆ¶å‘½ä»¤"></a>å½•åˆ¶å‘½ä»¤<a class="hash-link" href="#å½•åˆ¶å‘½ä»¤" title="Direct link to heading">#</a></h3><h4><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_prK2" id="è§†é¢‘å½•åˆ¶"></a>è§†é¢‘å½•åˆ¶<a class="hash-link" href="#è§†é¢‘å½•åˆ¶" title="Direct link to heading">#</a></h4><div class="mdxCodeBlock_1zKU"><div class="codeBlockContent_actS"><div tabindex="0" class="prism-code language-undefined codeBlock_tuNs thin-scrollbar"><div class="codeBlockLines_3uvA" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">âœ  /Users/Ding/Documents/ff/cli ffmpeg -f avfoundation -i 1 -r 30 out.yuv</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">-f ï¼šä½¿ç”¨avfoundationæ¡†æ¶ï¼Œé‡‡é›†æ•°æ®</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">-i ï¼šä»å“ªé‡Œé‡‡é›†æ•°æ®ï¼Œæ–‡ä»¶ç´¢å¼•å·ã€‚è¿™é‡Œæ˜¯ä»1å¾—æ¥ï¼ˆè§†é¢‘å’ŒéŸ³é¢‘ï¼Œæ•°å­—åˆ†åˆ«åœ¨å†’å·çš„å·¦è¾¹å’Œå³è¾¹ï¼Œè§†é¢‘å†’å·å¯ä»¥çœç•¥ï¼‰ã€‚</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">-r ï¼šå¸§ç‡æ˜¯30</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">æœ€åè¾“å‡ºåˆ°out.yuvé‡Œã€‚</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_2GIj">Copy</button></div></div><p>å½•åˆ¶ä¿¡æ¯</p><p><img alt="image-20211006142348619" src="/assets/images/image-20211006142348619-5922e1501b716c0f0af83af09a41a7ee.png"></p><p>ä½¿ç”¨ffplayæ’­æ”¾yuvï¼Œéœ€è¦æŒ‡å®šsize</p><div class="mdxCodeBlock_1zKU"><div class="codeBlockContent_actS"><div tabindex="0" class="prism-code language-undefined codeBlock_tuNs thin-scrollbar"><div class="codeBlockLines_3uvA" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">âœ  /Users/Ding/Documents/ff/cli ffplay out.yuv</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">...</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">[IMGUTILS @ 0x7000021c5958] Picture size 0x0 is invalid</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">out.yuv: Invalid argument</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_2GIj">Copy</button></div></div><p>ä½¿ç”¨ffplayæ’­æ”¾yuvï¼ŒæŒ‡å®šsizeï¼Œåƒç´ æ ¼å¼ä¸å¯¹ï¼Œæ’­æ”¾é»˜è®¤æŒ‰ç…§yuv420p,è€Œå½•åˆ¶çš„æ˜¯uyvy422</p><div class="mdxCodeBlock_1zKU"><div class="codeBlockContent_actS"><div tabindex="0" class="prism-code language-undefined codeBlock_tuNs thin-scrollbar"><div class="codeBlockLines_3uvA" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">âœ  /Users/Ding/Documents/ff/cli ffplay -s 2560x1600 out.yuv</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">...</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">Option -s is deprecated, use -video_size.</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">[rawvideo @ 0x7fb8ba045e00] Estimating duration from bitrate, this may be inaccurate</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">Input #0, rawvideo, from &#x27;out.yuv&#x27;:</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  Duration: 00:00:08.44, start: 0.000000, bitrate: 1226858 kb/s</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  Stream #0:0: Video: rawvideo (I420 / 0x30323449), yuv420p, 2560x1600, 1228800 kb/s, 25 tbr, 25 tbn, 25 tbc</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">   3.55 M-V:  0.001 fd=   0 aq=    0KB vq=18000KB sq=    0B f=0/0</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_2GIj">Copy</button></div></div><p>-pix_fmt uyvy422 æŒ‡å®šåƒç´ æ ¼å¼å³å¯æ’­æ”¾æˆåŠŸã€‚</p><div class="mdxCodeBlock_1zKU"><div class="codeBlockContent_actS"><div tabindex="0" class="prism-code language-undefined codeBlock_tuNs thin-scrollbar"><div class="codeBlockLines_3uvA" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">âœ  /Users/Ding/Documents/ff/cli ffplay -s 2560x1600 -pix_fmt uyvy422 out.yuv</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">ffplay version 4.4 Copyright (c) 2003-2021 the FFmpeg developers</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  built with Apple clang version 12.0.0 (clang-1200.0.32.29)</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  configuration: --prefix=/usr/local/Cellar/ffmpeg/4.4_2 --enable-shared --enable-pthreads --enable-version3 --cc=clang --host-cflags= --host-ldflags= --enable-ffplay --enable-gnutls --enable-gpl --enable-libaom --enable-libbluray --enable-libdav1d --enable-libmp3lame --enable-libopus --enable-librav1e --enable-librubberband --enable-libsnappy --enable-libsrt --enable-libtesseract --enable-libtheora --enable-libvidstab --enable-libvorbis --enable-libvpx --enable-libwebp --enable-libx264 --enable-libx265 --enable-libxml2 --enable-libxvid --enable-lzma --enable-libfontconfig --enable-libfreetype --enable-frei0r --enable-libass --enable-libopencore-amrnb --enable-libopencore-amrwb --enable-libopenjpeg --enable-libspeex --enable-libsoxr --enable-libzmq --enable-libzimg --disable-libjack --disable-indev=jack --enable-avresample --enable-videotoolbox</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  libavutil      56. 70.100 / 56. 70.100</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  libavcodec     58.134.100 / 58.134.100</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  libavformat    58. 76.100 / 58. 76.100</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  libavdevice    58. 13.100 / 58. 13.100</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  libavfilter     7.110.100 /  7.110.100</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  libavresample   4.  0.  0 /  4.  0.  0</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  libswscale      5.  9.100 /  5.  9.100</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  libswresample   3.  9.100 /  3.  9.100</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  libpostproc    55.  9.100 / 55.  9.100</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">Option -s is deprecated, use -video_size.</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">Option -pix_fmt is deprecated, use -pixel_format.</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">[rawvideo @ 0x7ff875829a00] Estimating duration from bitrate, this may be inaccurate</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">Input #0, rawvideo, from &#x27;out.yuv&#x27;:</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  Duration: 00:00:06.32, start: 0.000000, bitrate: 1638400 kb/s</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  Stream #0:0: Video: rawvideo (UYVY / 0x59565955), uyvy422, 2560x1600, 1638400 kb/s, 25 tbr, 25 tbn, 25 tbc</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">^C%</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_2GIj">Copy</button></div></div><h4><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_prK2" id="æŸ¥çœ‹æ–‡ä»¶ç´¢å¼•å·"></a>æŸ¥çœ‹æ–‡ä»¶ç´¢å¼•å·<a class="hash-link" href="#æŸ¥çœ‹æ–‡ä»¶ç´¢å¼•å·" title="Direct link to heading">#</a></h4><p>ä¹Ÿå°±æ˜¯ä¸Šé¢å½•åˆ¶ä½¿ç”¨æ‰€ç”¨çš„-i å‚æ•°</p><div class="mdxCodeBlock_1zKU"><div class="codeBlockContent_actS"><div tabindex="0" class="prism-code language-undefined codeBlock_tuNs thin-scrollbar"><div class="codeBlockLines_3uvA" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">âœ  /Users/Ding/Documents/ff/cli ffmpeg -f avfoundation -list_devices true -i &quot;&quot;</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">...</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">[AVFoundation indev @ 0x7ff412c10f40] AVFoundation video devices:</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">[AVFoundation indev @ 0x7ff412c10f40] [0] FaceTime HD Camera</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">[AVFoundation indev @ 0x7ff412c10f40] [1] Capture screen 0</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">[AVFoundation indev @ 0x7ff412c10f40] AVFoundation audio devices:</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">[AVFoundation indev @ 0x7ff412c10f40] [0] Built-in Microphone</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">: Input/output error</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_2GIj">Copy</button></div></div><h4><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_prK2" id="éŸ³é¢‘å½•åˆ¶"></a>éŸ³é¢‘å½•åˆ¶<a class="hash-link" href="#éŸ³é¢‘å½•åˆ¶" title="Direct link to heading">#</a></h4><p>æ³¨æ„ï¼š</p><ul><li>æ•°å­—åœ¨å†’å·çš„å·¦è¾¹,æˆ–è€…çœç•¥ï¼Œæ˜¯è§†é¢‘ä¾‹å¦‚ï¼š<code>1:</code>,<code>1</code></li><li>æ•°å­—åœ¨å†’å·çš„å³è¾¹,æ˜¯éŸ³é¢‘ä¾‹å¦‚ï¼š<code>:0</code></li></ul><div class="mdxCodeBlock_1zKU"><div class="codeBlockContent_actS"><div tabindex="0" class="prism-code language-undefined codeBlock_tuNs thin-scrollbar"><div class="codeBlockLines_3uvA" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">âœ  /Users/Ding/Documents/ff/cli ffmpeg -f avfoundation -i :0 out.wav</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">...</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">Input #0, avfoundation, from &#x27;:0&#x27;:</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  Duration: N/A, start: 84779.063265, bitrate: 2822 kb/s</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  Stream #0:0: Audio: pcm_f32le, 44100 Hz, stereo, flt, 2822 kb/s</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">Stream mapping:</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  Stream #0:0 -&gt; #0:0 (pcm_f32le (native) -&gt; pcm_s16le (native))</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">Press [q] to stop, [?] for help</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">Output #0, wav, to &#x27;out.wav&#x27;:</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  Metadata:</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    ISFT            : Lavf58.76.100</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  Stream #0:0: Audio: pcm_s16le ([1][0][0][0] / 0x0001), 44100 Hz, stereo, s16, 1411 kb/s</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    Metadata:</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">      encoder         : Lavc58.134.100 pcm_s16le</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">size=     764kB time=00:00:04.79 bitrate=1305.4kbits/s speed=0.998x</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">video:0kB audio:764kB subtitle:0kB other streams:0kB global headers:0kB muxing overhead: 0.009970%</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">Exiting normally, received signal 2.</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">âœ  /Users/Ding/Documents/ff/cli ll</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">total 2529536</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">-rw-r--r--@ 1 Ding  staff   764K 10  6 15:07 out.wav</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">-rw-r--r--  1 Ding  staff   1.2G 10  6 14:19 out.yuv</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_2GIj">Copy</button></div></div><p>éŸ³é¢‘æ’­æ”¾</p><div class="mdxCodeBlock_1zKU"><div class="codeBlockContent_actS"><div tabindex="0" class="prism-code language-undefined codeBlock_tuNs thin-scrollbar"><div class="codeBlockLines_3uvA" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">âœ  /Users/Ding/Documents/ff/cli ffplay out.wav</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">...</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">Input #0, wav, from &#x27;out.wav&#x27;:</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  Metadata:</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    encoder         : Lavf58.76.100</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  Duration: 00:00:04.44, bitrate: 1411 kb/s</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  Stream #0:0: Audio: pcm_s16le ([1][0][0][0] / 0x0001), 44100 Hz, 2 channels, s16, 1411 kb/s</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">Switch subtitle stream from #-1 to #-1 vq=    0KB sq=    0B f=0/0</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">Switch subtitle stream from #-1 to #-1 vq=    0KB sq=    0B f=0/0</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_2GIj">Copy</button></div></div><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_prK2" id="åˆ†è§£å¤ç”¨å‘½ä»¤"></a>åˆ†è§£/å¤ç”¨å‘½ä»¤<a class="hash-link" href="#åˆ†è§£å¤ç”¨å‘½ä»¤" title="Direct link to heading">#</a></h3><p>è¯´ç™½äº†å°±æ˜¯å¤šåª’ä½“æ–‡ä»¶æ ¼å¼è½¬æ¢MP4è½¬flvï¼Œflvè½¬MP4ç­‰ã€‚</p><p><img alt="image-20211006153353433" src="/assets/images/image-20211006153353433-de4181d62d525664426dbb613f553483.png"></p><h4><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_prK2" id="mp4è½¬ä¸ºflv"></a>mp4è½¬ä¸ºflv<a class="hash-link" href="#mp4è½¬ä¸ºflv" title="Direct link to heading">#</a></h4><div class="mdxCodeBlock_1zKU"><div class="codeBlockContent_actS"><div tabindex="0" class="prism-code language-undefined codeBlock_tuNs thin-scrollbar"><div class="codeBlockLines_3uvA" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">âœ  /Users/Ding/Documents/ff/cli ffmpeg -i 1.mp4 -vcodec copy -acodec copy out1.flv</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">-i è¾“å…¥æ–‡ä»¶</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">-vcodec copy : è§†é¢‘ç¼–ç ä¸å˜</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">-acodec copy : éŸ³é¢‘ç¼–ç ä¸å˜</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_2GIj">Copy</button></div></div><div class="mdxCodeBlock_1zKU"><div class="codeBlockContent_actS"><div tabindex="0" class="prism-code language-undefined codeBlock_tuNs thin-scrollbar"><div class="codeBlockLines_3uvA" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">âœ  /Users/Ding/Documents/ff/cli ffmpeg -i 1.mp4 -vcodec copy -acodec copy out1.flv</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">...</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">Input #0, mov,mp4,m4a,3gp,3g2,mj2, from &#x27;1.mp4&#x27;:</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  Metadata:</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    major_brand     : isom</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    minor_version   : 512</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    compatible_brands: isomiso2avc1mp41</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    encoder         : Lavf55.33.100</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  Duration: 00:00:03.86, start: 0.000000, bitrate: 1306 kb/s</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  Stream #0:0(und): Audio: aac (LC) (mp4a / 0x6134706D), 44100 Hz, mono, fltp, 64 kb/s (default)</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    Metadata:</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">      rotate          : 90</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">      handler_name    : SoundHandler</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">      vendor_id       : [0][0][0][0]</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  Stream #0:1(und): Video: h264 (Constrained Baseline) (avc1 / 0x31637661), yuv420p, 960x544, 1234 kb/s, 30.59 fps, 31 tbr, 15360 tbn, 60 tbc (default)</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    Metadata:</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">      rotate          : 90</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">      handler_name    : VideoHandler</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">      vendor_id       : [0][0][0][0]</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    Side data:</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">      displaymatrix: rotation of -90.00 degrees</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">Output #0, flv, to &#x27;out1.flv&#x27;:</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  Metadata:</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    major_brand     : isom</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    minor_version   : 512</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    compatible_brands: isomiso2avc1mp41</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    encoder         : Lavf58.76.100</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  Stream #0:0(und): Video: h264 (Constrained Baseline) ([7][0][0][0] / 0x0007), yuv420p, 960x544, q=2-31, 1234 kb/s, 30.59 fps, 31 tbr, 1k tbn, 15360 tbc (default)</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    Metadata:</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">      rotate          : 90</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">      handler_name    : VideoHandler</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">      vendor_id       : [0][0][0][0]</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    Side data:</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">      displaymatrix: rotation of -90.00 degrees</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  Stream #0:1(und): Audio: aac (LC) ([10][0][0][0] / 0x000A), 44100 Hz, mono, fltp, 64 kb/s (default)</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    Metadata:</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">      rotate          : 90</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">      handler_name    : SoundHandler</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">      vendor_id       : [0][0][0][0]</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">Stream mapping:</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  Stream #0:1 -&gt; #0:0 (copy)</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  Stream #0:0 -&gt; #0:1 (copy)</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">Press [q] to stop, [?] for help</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">frame=  118 fps=0.0 q=-1.0 Lsize=     616kB time=00:00:03.82 bitrate=1318.1kbits/s speed= 518x</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">video:581kB audio:29kB subtitle:0kB other streams:0kB global headers:0kB muxing overhead: 0.888703%</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">âœ  /Users/Ding/Documents/ff/cli ll</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">total 2532000</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">-rw-r--r--@ 1 Ding  staff   615K  8 22  2017 1.mp4</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">-rw-r--r--@ 1 Ding  staff   764K 10  6 15:07 out.wav</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">-rw-r--r--  1 Ding  staff   1.2G 10  6 14:19 out.yuv</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">-rw-r--r--@ 1 Ding  staff   616K 10  6 15:38 out1.flv</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">âœ  /Users/Ding/Documents/ff/cli ffplay out1.flv</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">...</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">Input #0, flv, from &#x27;out1.flv&#x27;:</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  Metadata:</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    major_brand     : isom</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    minor_version   : 512</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    compatible_brands: isomiso2avc1mp41</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    encoder         : Lavf58.76.100</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  Duration: 00:00:03.86, start: 0.000000, bitrate: 1307 kb/s</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  Stream #0:0: Video: h264 (Constrained Baseline), yuv420p(progressive), 960x544, 1234 kb/s, 30.59 fps, 30 tbr, 1k tbn, 60 tbc</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  Stream #0:1: Audio: aac (LC), 44100 Hz, mono, fltp, 64 kb/s</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">   4.13 A-V: -0.006 fd=   6 aq=    0KB vq=    0KB sq=    0B f=0/0</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_2GIj">Copy</button></div></div><h4><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_prK2" id="ä»mp4æŠ½å–264è§†é¢‘"></a>ä»mp4æŠ½å–264è§†é¢‘<a class="hash-link" href="#ä»mp4æŠ½å–264è§†é¢‘" title="Direct link to heading">#</a></h4><div class="mdxCodeBlock_1zKU"><div class="codeBlockContent_actS"><div tabindex="0" class="prism-code language-undefined codeBlock_tuNs thin-scrollbar"><div class="codeBlockLines_3uvA" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">âœ  /Users/Ding/Documents/ff/cli ffmpeg -i 1.mp4 -vcodec copy -an out2.264</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">âœ  /Users/Ding/Documents/ff/cli ll</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">total 2533168</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">-rw-r--r--@ 1 Ding  staff   615K  8 22  2017 1.mp4</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">-rw-r--r--@ 1 Ding  staff   764K 10  6 15:07 out.wav</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">-rw-r--r--  1 Ding  staff   1.2G 10  6 14:19 out.yuv</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">-rw-r--r--@ 1 Ding  staff   616K 10  6 15:38 out1.flv</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">-rw-r--r--  1 Ding  staff   582K 10  6 15:43 out2.264</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">âœ  /Users/Ding/Documents/ff/cli ffplay out2.264</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_2GIj">Copy</button></div></div><div class="mdxCodeBlock_1zKU"><div class="codeBlockContent_actS"><div tabindex="0" class="prism-code language-undefined codeBlock_tuNs thin-scrollbar"><div class="codeBlockLines_3uvA" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">-an: éŸ³é¢‘ä¸è¦ï¼Œ-audio no çš„æ„æ€</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_2GIj">Copy</button></div></div><h4><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_prK2" id="ä»mp4æŠ½å–aacéŸ³é¢‘"></a>ä»mp4æŠ½å–aacéŸ³é¢‘<a class="hash-link" href="#ä»mp4æŠ½å–aacéŸ³é¢‘" title="Direct link to heading">#</a></h4><div class="mdxCodeBlock_1zKU"><div class="codeBlockContent_actS"><div tabindex="0" class="prism-code language-undefined codeBlock_tuNs thin-scrollbar"><div class="codeBlockLines_3uvA" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">âœ  /Users/Ding/Documents/ff/cli ffmpeg -i 1.mp4 -acodec copy -vn out2.aac</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">...</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">Input #0, mov,mp4,m4a,3gp,3g2,mj2, from &#x27;1.mp4&#x27;:</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  Metadata:</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    major_brand     : isom</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    minor_version   : 512</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    compatible_brands: isomiso2avc1mp41</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    encoder         : Lavf55.33.100</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  Duration: 00:00:03.86, start: 0.000000, bitrate: 1306 kb/s</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  Stream #0:0(und): Audio: aac (LC) (mp4a / 0x6134706D), 44100 Hz, mono, fltp, 64 kb/s (default)</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    Metadata:</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">      rotate          : 90</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">      handler_name    : SoundHandler</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">      vendor_id       : [0][0][0][0]</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  Stream #0:1(und): Video: h264 (Constrained Baseline) (avc1 / 0x31637661), yuv420p, 960x544, 1234 kb/s, 30.59 fps, 31 tbr, 15360 tbn, 60 tbc (default)</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    Metadata:</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">      rotate          : 90</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">      handler_name    : VideoHandler</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">      vendor_id       : [0][0][0][0]</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    Side data:</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">      displaymatrix: rotation of -90.00 degrees</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">Output #0, adts, to &#x27;out2.aac&#x27;:</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  Metadata:</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    major_brand     : isom</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    minor_version   : 512</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    compatible_brands: isomiso2avc1mp41</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    encoder         : Lavf58.76.100</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  Stream #0:0(und): Audio: aac (LC) (mp4a / 0x6134706D), 44100 Hz, mono, fltp, 64 kb/s (default)</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    Metadata:</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">      rotate          : 90</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">      handler_name    : SoundHandler</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">      vendor_id       : [0][0][0][0]</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">Stream mapping:</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  Stream #0:0 -&gt; #0:0 (copy)</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">Press [q] to stop, [?] for help</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">size=      30kB time=00:00:03.64 bitrate=  67.3kbits/s speed=1.32e+03x</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">video:0kB audio:29kB subtitle:0kB other streams:0kB global headers:0kB muxing overhead: 3.743569%</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">âœ  /Users/Ding/Documents/ff/cli ffplay out2.aac</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">...</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">[aac @ 0x7fa295027a00] Estimating duration from bitrate, this may be inaccurate</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">Input #0, aac, from &#x27;out2.aac&#x27;:</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  Duration: 00:00:03.62, bitrate: 67 kb/s</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  Stream #0:0: Audio: aac (LC), 44100 Hz, mono, fltp, 67 kb/s</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">   5.77 M-A:  0.000 fd=   0 aq=    0KB vq=    0KB sq=    0B f=0/0</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">âœ  /Users/Ding/Documents/ff/cli ffmpeg -i 1.mp4 -acodec copy -vn out2.123</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">...</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">[NULL @ 0x7fe3d4008200] Unable to find a suitable output format for &#x27;out2.123&#x27;</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">out2.123: Invalid argument</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">âœ  /Users/Ding/Documents/ff/cli ll</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">total 2533232</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">-rw-r--r--@ 1 Ding  staff   615K  8 22  2017 1.mp4</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">-rw-r--r--@ 1 Ding  staff   764K 10  6 15:07 out.wav</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">-rw-r--r--  1 Ding  staff   1.2G 10  6 14:19 out.yuv</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">-rw-r--r--@ 1 Ding  staff   616K 10  6 15:38 out1.flv</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">-rw-r--r--  1 Ding  staff   582K 10  6 15:43 out2.264</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">-rw-r--r--@ 1 Ding  staff    30K 10  6 15:45 out2.aac</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">âœ  /Users/Ding/Documents/ff/cli</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_2GIj">Copy</button></div></div><div class="mdxCodeBlock_1zKU"><div class="codeBlockContent_actS"><div tabindex="0" class="prism-code language-undefined codeBlock_tuNs thin-scrollbar"><div class="codeBlockLines_3uvA" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">-acodec copy -vn</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">æ³¨æ„ï¼šæ–‡ä»¶æ‰©å±•åä¸èƒ½éšæ„out2.aacå¯ä»¥å¯¼å‡ºæˆåŠŸï¼Œå‘½åä¸ºout2.123åˆ™ä¸èƒ½æˆåŠŸ</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_2GIj">Copy</button></div></div><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_prK2" id="å¤„ç†åŸå§‹æ•°æ®å‘½ä»¤"></a>å¤„ç†åŸå§‹æ•°æ®å‘½ä»¤<a class="hash-link" href="#å¤„ç†åŸå§‹æ•°æ®å‘½ä»¤" title="Direct link to heading">#</a></h3><h4><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_prK2" id="æå–yuvæ•°æ®"></a>æå–YUVæ•°æ®<a class="hash-link" href="#æå–yuvæ•°æ®" title="Direct link to heading">#</a></h4><div class="mdxCodeBlock_1zKU"><div class="codeBlockContent_actS"><div tabindex="0" class="prism-code language-undefined codeBlock_tuNs thin-scrollbar"><div class="codeBlockLines_3uvA" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">âœ  /Users/Ding/Documents/ff/cli ffmpeg -i 1.mp4 -an -c:v rawvideo -pixel_format yuv420p out1.yuv</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">...</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">Input #0, mov,mp4,m4a,3gp,3g2,mj2, from &#x27;1.mp4&#x27;:</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  Metadata:</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    major_brand     : isom</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    minor_version   : 512</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    compatible_brands: isomiso2avc1mp41</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    encoder         : Lavf55.33.100</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  Duration: 00:00:03.86, start: 0.000000, bitrate: 1306 kb/s</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  Stream #0:0(und): Audio: aac (LC) (mp4a / 0x6134706D), 44100 Hz, mono, fltp, 64 kb/s (default)</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    Metadata:</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">      rotate          : 90</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">      handler_name    : SoundHandler</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">      vendor_id       : [0][0][0][0]</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  Stream #0:1(und): Video: h264 (Constrained Baseline) (avc1 / 0x31637661), yuv420p, 960x544, 1234 kb/s, 30.59 fps, 31 tbr, 15360 tbn, 60 tbc (default)</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    Metadata:</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">      rotate          : 90</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">      handler_name    : VideoHandler</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">      vendor_id       : [0][0][0][0]</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    Side data:</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">      displaymatrix: rotation of -90.00 degrees</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">File &#x27;out1.yuv&#x27; already exists. Overwrite? [y/N] y</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">Stream mapping:</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  Stream #0:1 -&gt; #0:0 (h264 (native) -&gt; rawvideo (native))</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">Press [q] to stop, [?] for help</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">Output #0, rawvideo, to &#x27;out1.yuv&#x27;:</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  Metadata:</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    major_brand     : isom</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    minor_version   : 512</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    compatible_brands: isomiso2avc1mp41</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    encoder         : Lavf58.76.100</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  Stream #0:0(und): Video: rawvideo (I420 / 0x30323449), yuv420p(progressive), 544x960, q=2-31, 194273 kb/s, 31 fps, 31 tbn (default)</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    Metadata:</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">      encoder         : Lavc58.134.100 rawvideo</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">      handler_name    : VideoHandler</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">      vendor_id       : [0][0][0][0]</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    Side data:</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">      displaymatrix: rotation of -0.00 degrees</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">frame=  120 fps=0.0 q=-0.0 Lsize=   91800kB time=00:00:03.87 bitrate=194273.3kbits/s dup=2 drop=0 speed=7.96x</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">video:91800kB audio:0kB subtitle:0kB other streams:0kB global headers:0kB muxing overhead: 0.000000%</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_2GIj">Copy</button></div></div><h4><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_prK2" id="ffplayæ’­æ”¾yuvæ–‡ä»¶"></a>ffplayæ’­æ”¾yuvæ–‡ä»¶<a class="hash-link" href="#ffplayæ’­æ”¾yuvæ–‡ä»¶" title="Direct link to heading">#</a></h4><p>é»˜è®¤åƒç´ æ ¼å¼ pixel_format = yuv420p</p><div class="mdxCodeBlock_1zKU"><div class="codeBlockContent_actS"><div tabindex="0" class="prism-code language-undefined codeBlock_tuNs thin-scrollbar"><div class="codeBlockLines_3uvA" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">âœ  /Users/Ding/Documents/ff/cli ffplay -video_size 544x960 out1.yuv</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">...</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">[rawvideo @ 0x7fa783014a00] Estimating duration from bitrate, this may be inaccurate</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">Input #0, rawvideo, from &#x27;out1.yuv&#x27;:</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  Duration: 00:00:04.80, start: 0.000000, bitrate: 156672 kb/s</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  Stream #0:0: Video: rawvideo (I420 / 0x30323449), yuv420p, 544x960, 156672 kb/s, 25 tbr, 25 tbn, 25 tbc</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">   6.67 M-V:  0.001 fd=   0 aq=    0KB vq=    0KB sq=    0B f=0/0</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_2GIj">Copy</button></div></div><h4><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_prK2" id="æå–pcmæ•°æ®"></a>æå–PCMæ•°æ®<a class="hash-link" href="#æå–pcmæ•°æ®" title="Direct link to heading">#</a></h4><div class="mdxCodeBlock_1zKU"><div class="codeBlockContent_actS"><div tabindex="0" class="prism-code language-undefined codeBlock_tuNs thin-scrollbar"><div class="codeBlockLines_3uvA" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">ffmpeg -i 1.mp4 -vn -ar 44100 -ac 2 -f s16le out1.pcm</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">-vn:ä¸è¦è§†é¢‘</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">è®¾ç½®éŸ³é¢‘ä¸‰å…ƒç»„ï¼šï¼ˆé‡‡æ ·ç‡ï¼Œé‡‡æ ·å¤§å°ï¼Œé€šé“æ•°ï¼‰</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">-ar: é‡‡æ ·ç‡</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">-ac: é€šé“æ•°</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">-f: é‡‡æ ·å¤§å°ï¼ˆs16leï¼Œæœ‰ç¬¦å·ï¼Œ16ä½ï¼Œå°ç«¯ï¼‰</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_2GIj">Copy</button></div></div><div class="mdxCodeBlock_1zKU"><div class="codeBlockContent_actS"><div tabindex="0" class="prism-code language-undefined codeBlock_tuNs thin-scrollbar"><div class="codeBlockLines_3uvA" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">âœ  /Users/Ding/Documents/ff/cli ffmpeg -i 1.mp4 -vn -ar 44100 -ac 2 -f s16le out1.pcm</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">...</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">âœ  /Users/Ding/Documents/ff/cli ffplay out1.pcm</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">...</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">[adp @ 0x7ffb8701e000] Format adp detected only with low score of 25, misdetection possible!</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">Input #0, adp, from &#x27;out1.pcm&#x27;:</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  Duration: 00:00:11.80, start: 0.000000, bitrate: 438 kb/s</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  Stream #0:0: Audio: adpcm_dtk, 48000 Hz, stereo, s16p</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  12.95 M-A:  0.000 fd=   0 aq=    0KB vq=    0KB sq=    0B f=0/0</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">âœ  /Users/Ding/Documents/ff/cli</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_2GIj">Copy</button></div></div><h4><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_prK2" id="ffplayæ’­æ”¾pcmæ–‡ä»¶"></a>ffplayæ’­æ”¾pcmæ–‡ä»¶<a class="hash-link" href="#ffplayæ’­æ”¾pcmæ–‡ä»¶" title="Direct link to heading">#</a></h4><p>éœ€è¦æŒ‡å®šéŸ³é¢‘ä¸‰è¦ç´ </p><div class="mdxCodeBlock_1zKU"><div class="codeBlockContent_actS"><div tabindex="0" class="prism-code language-undefined codeBlock_tuNs thin-scrollbar"><div class="codeBlockLines_3uvA" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">âœ  /Users/Ding/Documents/ff/cli ffplay out1.pcm</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">...</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  libpostproc    55.  9.100 / 55.  9.100</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">[adp @ 0x7fb17d06ac00] Format adp detected only with low score of 25, misdetection possible!</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">Input #0, adp, from &#x27;out1.pcm&#x27;:</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  Duration: 00:00:11.80, start: 0.000000, bitrate: 438 kb/s</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  Stream #0:0: Audio: adpcm_dtk, 48000 Hz, stereo, s16p</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  10.23 M-A:  0.000 fd=   0 aq=   54KB vq=    0KB sq=    0B f=0/0</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">âœ  /Users/Ding/Documents/ff/cli ffplay -ar 44100 -ac 2 -f s16le out1.pcm</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">...</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">[s16le @ 0x7fb9250a4000] Estimating duration from bitrate, this may be inaccurate</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">Input #0, s16le, from &#x27;out1.pcm&#x27;:</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  Duration: 00:00:03.67, bitrate: 1411 kb/s</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  Stream #0:0: Audio: pcm_s16le, 44100 Hz, 2 channels, s16, 1411 kb/s</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">   9.91 M-A:  0.000 fd=   0 aq=    0KB vq=    0KB sq=    0B f=0/0</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">âœ  /Users/Ding/Documents/ff/cli</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_2GIj">Copy</button></div></div><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_prK2" id="è£å‰ªä¸åˆå¹¶å‘½ä»¤"></a>è£å‰ªä¸åˆå¹¶å‘½ä»¤<a class="hash-link" href="#è£å‰ªä¸åˆå¹¶å‘½ä»¤" title="Direct link to heading">#</a></h3><h4><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_prK2" id="è§†é¢‘æ—¶é—´è£å‰ª"></a>è§†é¢‘æ—¶é—´è£å‰ª<a class="hash-link" href="#è§†é¢‘æ—¶é—´è£å‰ª" title="Direct link to heading">#</a></h4><div class="mdxCodeBlock_1zKU"><div class="codeBlockContent_actS"><div tabindex="0" class="prism-code language-undefined codeBlock_tuNs thin-scrollbar"><div class="codeBlockLines_3uvA" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">âœ  /Users/Ding/Documents/ff/cli ffmpeg -i 1.mp4 -ss 00:00:00 -t 5 out3.ts</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">-ss 00:00:00: ä»å¤´å¼€å§‹</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">-t 5ï¼šæˆªå–5ç§’</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_2GIj">Copy</button></div></div><h4><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_prK2" id="è§†é¢‘æ—¶é—´æ‹¼æ¥"></a>è§†é¢‘æ—¶é—´æ‹¼æ¥<a class="hash-link" href="#è§†é¢‘æ—¶é—´æ‹¼æ¥" title="Direct link to heading">#</a></h4><div class="mdxCodeBlock_1zKU"><div class="codeBlockContent_actS"><div tabindex="0" class="prism-code language-undefined codeBlock_tuNs thin-scrollbar"><div class="codeBlockLines_3uvA" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">âœ  /Users/Ding/Documents/ff/cli vi input.txt</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">âœ  /Users/Ding/Documents/ff/cli cat input.txt</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">file &#x27;out3.ts&#x27;</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">file &#x27;out4.ts&#x27;</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">âœ  /Users/Ding/Documents/ff/cli ffmpeg -f concat -i input.txt con-out.mp4</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">âœ  /Users/Ding/Documents/ff/cli ffplay con-out.mp4</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">-i input.txt: æ–‡ä»¶åˆ—è¡¨ï¼šæ ¼å¼ä¸ºfile &#x27;filename&#x27;</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_2GIj">Copy</button></div></div><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_prK2" id="å›¾ç‰‡è§†é¢‘äº’è½¬å‘½ä»¤"></a>å›¾ç‰‡/è§†é¢‘äº’è½¬å‘½ä»¤<a class="hash-link" href="#å›¾ç‰‡è§†é¢‘äº’è½¬å‘½ä»¤" title="Direct link to heading">#</a></h3><h4><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_prK2" id="è§†é¢‘è½¬å›¾ç‰‡"></a>è§†é¢‘è½¬å›¾ç‰‡<a class="hash-link" href="#è§†é¢‘è½¬å›¾ç‰‡" title="Direct link to heading">#</a></h4><div class="mdxCodeBlock_1zKU"><div class="codeBlockContent_actS"><div tabindex="0" class="prism-code language-undefined codeBlock_tuNs thin-scrollbar"><div class="codeBlockLines_3uvA" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">âœ  /Users/Ding/Documents/ff/cli ffmpeg -i 1.mp4 -r 1 -f image2 image-%3d.jpeg</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">...</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">âœ  /Users/Ding/Documents/ff/cli ll</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">total 2727312</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">-rw-r--r--@ 1 Ding  staff   615K  8 22  2017 1.mp4</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">-rw-r--r--@ 1 Ding  staff   1.6M 10  6 16:50 con-out.mp4</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">-rw-r--r--@ 1 Ding  staff    53K 10  6 16:53 image-001.jpeg</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">-rw-r--r--@ 1 Ding  staff    62K 10  6 16:53 image-002.jpeg</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">-rw-r--r--@ 1 Ding  staff    56K 10  6 16:53 image-003.jpeg</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">-rw-r--r--@ 1 Ding  staff    77K 10  6 16:53 image-004.jpeg</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">-rw-r--r--@ 1 Ding  staff    63K 10  6 16:53 image-005.jpeg</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">-rw-r--r--  1 Ding  staff    30B 10  6 16:49 input.txt</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">...</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">âœ  /Users/Ding/Documents/ff/cli open image-001.jpeg</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">âœ  /Users/Ding/Documents/ff/cli open image-004.jpeg</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">âœ  /Users/Ding/Documents/ff/cli</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">-r 1: è½¬å›¾ç‰‡çš„é¢‘ç‡æ˜¯1ç§’ä¸€å¼ </span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">-f image2: æ ¼å¼æ˜¯image2</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">image-%3d.jpeg : å‘½åæ˜¯3ä½æ•´æ•°æ ¼å¼</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_2GIj">Copy</button></div></div><h4><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_prK2" id="å›¾ç‰‡è½¬è§†é¢‘"></a>å›¾ç‰‡è½¬è§†é¢‘<a class="hash-link" href="#å›¾ç‰‡è½¬è§†é¢‘" title="Direct link to heading">#</a></h4><div class="mdxCodeBlock_1zKU"><div class="codeBlockContent_actS"><div tabindex="0" class="prism-code language-undefined codeBlock_tuNs thin-scrollbar"><div class="codeBlockLines_3uvA" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">âœ  /Users/Ding/Documents/ff/cli ffmpeg -i image-%3d.jpeg con-img-out.mp4</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">âœ  /Users/Ding/Documents/ff/cli ffplay con-img-out.mp4</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">-i image-%3d.jpeg: è¾“å…¥çš„å›¾ç‰‡ï¼ŒæŒ‰ç…§è¿™ç§æ ¼å¼æ¥</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_2GIj">Copy</button></div></div><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_prK2" id="ç›´æ’­ç›¸å…³å‘½ä»¤"></a>ç›´æ’­ç›¸å…³å‘½ä»¤<a class="hash-link" href="#ç›´æ’­ç›¸å…³å‘½ä»¤" title="Direct link to heading">#</a></h3><p>ç™¾åº¦æœç´¢: rtmp ç›´æ’­æµåœ°å€ã€‚æœ‰å¾ˆå¤šå¯ç”¨çš„è§†é¢‘æºã€‚</p><p>ffplay æ’­æ”¾æµ‹è¯•ä¸€ä¸‹</p><div class="mdxCodeBlock_1zKU"><div class="codeBlockContent_actS"><div tabindex="0" class="prism-code language-undefined codeBlock_tuNs thin-scrollbar"><div class="codeBlockLines_3uvA" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">âœ  /Users/Ding/Documents/ff/cli ffplay rtmp://ns8.indexforce.com/home/mystream</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_2GIj">Copy</button></div></div><p>è‹¹æœæä¾›çš„æµ‹è¯•æºï¼ˆç‚¹æ’­ï¼‰ï¼š<a href="http://devimages.apple.com.edgekey.net/streaming/examples/bipbop_4x3/gear2/prog_index.m3u8" target="_blank" rel="noopener noreferrer">http://devimages.apple.com.edgekey.net/streaming/examples/bipbop_4x3/gear2/prog_index.m3u8</a></p><h4><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_prK2" id="ç›´æ’­æ¨æµ"></a>ç›´æ’­æ¨æµ<a class="hash-link" href="#ç›´æ’­æ¨æµ" title="Direct link to heading">#</a></h4><div class="mdxCodeBlock_1zKU"><div class="codeBlockContent_actS"><div tabindex="0" class="prism-code language-undefined codeBlock_tuNs thin-scrollbar"><div class="codeBlockLines_3uvA" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">ffmpeg -re -i out.mp4 -c copy -f flv rtmp://server/live/streamname</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_2GIj">Copy</button></div></div><h4><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_prK2" id="ç›´æ’­æ‹‰æµ"></a>ç›´æ’­æ‹‰æµ<a class="hash-link" href="#ç›´æ’­æ‹‰æµ" title="Direct link to heading">#</a></h4><div class="mdxCodeBlock_1zKU"><div class="codeBlockContent_actS"><div tabindex="0" class="prism-code language-undefined codeBlock_tuNs thin-scrollbar"><div class="codeBlockLines_3uvA" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">âœ  /Users/Ding/Documents/ff/cli ffmpeg -i rtmp://ns8.indexforce.com/home/mystream -c copy demp.flv</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">âœ  /Users/Ding/Documents/ff/cli ffplay demp.flv</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_2GIj">Copy</button></div></div><div class="mdxCodeBlock_1zKU"><div class="codeBlockContent_actS"><div tabindex="0" class="prism-code language-undefined codeBlock_tuNs thin-scrollbar"><div class="codeBlockLines_3uvA" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">âœ  /Users/Ding/Documents/ff/cli ffmpeg -i http://devimages.apple.com.edgekey.net/streaming/examples/bipbop_4x3/gear2/prog_index.m3u8  -c copy demp.m3u8</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">âœ  /Users/Ding/Documents/ff/cli ffplay demp.m3u8</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_2GIj">Copy</button></div></div><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_prK2" id="æ»¤é•œå‘½ä»¤"></a>æ»¤é•œå‘½ä»¤<a class="hash-link" href="#æ»¤é•œå‘½ä»¤" title="Direct link to heading">#</a></h3><p><img alt="image-20211006163024337" src="/assets/images/image-20211006163024337-c9414919f1fbf2c2c94faa4868924863.png"></p><p>æ•°æ®è§£ç åå¤„ç†ï¼Œç„¶åå†ç¼–ç </p><h4><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_prK2" id="è§†é¢‘å¤§å°è£å‰ª"></a>è§†é¢‘å¤§å°è£å‰ª<a class="hash-link" href="#è§†é¢‘å¤§å°è£å‰ª" title="Direct link to heading">#</a></h4><div class="mdxCodeBlock_1zKU"><div class="codeBlockContent_actS"><div tabindex="0" class="prism-code language-undefined codeBlock_tuNs thin-scrollbar"><div class="codeBlockLines_3uvA" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">âœ  /Users/Ding/Documents/ff/cli ffmpeg -i 1.mp4 -vf crop=in_w-200:in_h-200 -c:v libx264 -c:a copy  out2.mp4</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">-c:v libx264 -c:a copy : å¤„ç†ä¹‹åå†ç¼–ç </span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">âœ  /Users/Ding/Documents/ff/cli ffplay out2.mp4</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_2GIj">Copy</button></div></div><h4><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_prK2" id="åŸºæœ¬æ¦‚å¿µ"></a>åŸºæœ¬æ¦‚å¿µ<a class="hash-link" href="#åŸºæœ¬æ¦‚å¿µ" title="Direct link to heading">#</a></h4><h5><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_prK2" id="å®¹å™¨"></a>å®¹å™¨<a class="hash-link" href="#å®¹å™¨" title="Direct link to heading">#</a></h5><p>å¸¸è§çš„è§†é¢‘æ–‡ä»¶æœ¬èº«æ˜¯ä¸€ä¸ªå®¹å™¨ï¼ˆcontainerï¼‰ï¼Œé‡Œé¢åŒ…æ‹¬äº†è§†é¢‘å’ŒéŸ³é¢‘ï¼Œä¹Ÿæœ‰å¯èƒ½æœ‰å­—å¹•ç­‰ã€‚</p><p>é€šå¸¸å¤§å®¶æ‰€è¯´çš„è§†é¢‘æ ¼å¼ï¼ˆformatï¼‰å°±å¯ä»¥ç†è§£ä¸ºå‹ç¼©æ ¼å¼ï¼ˆcontainerï¼‰æˆ–è€…æ··æµæ ¼å¼ï¼ˆMuxingï¼‰ï¼Œä¾‹å¦‚<code>avi</code>ã€<code>mp4</code>ã€<code>mkv</code>ç­‰ï¼Œå®ƒä»¬ç›¸å½“äºæ˜¯ä¸€ä¸ªå®¹å™¨ï¼Œå¯ä»¥å°†è§†é¢‘ä¸éŸ³é¢‘æ•°æ®åŒ…è£…åœ¨ä¸€èµ·ï¼Œå¹¶è®©å®ƒä»¬èƒ½å¤ŸæŒ‰ç…§æŒ‡å®šçš„åŒæ­¥æ–¹å¼è¾“å‡ºã€‚</p><p>å¸¸è§å®¹å™¨æœ‰ä»¥ä¸‹å‡ ç§ã€‚ä¸€èˆ¬æ¥è¯´è§†é¢‘æ–‡ä»¶çš„åç¼€ååæ˜ äº†ä»–çš„å®¹å™¨æ ¼å¼ã€‚</p><div class="mdxCodeBlock_1zKU"><div class="codeBlockContent_actS"><div tabindex="0" class="prism-code language-undefined codeBlock_tuNs thin-scrollbar"><div class="codeBlockLines_3uvA" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">MP4</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">MKV</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">WebM</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">AVI</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_2GIj">Copy</button></div></div><p>å¯ä»¥é€šè¿‡ä»¥ä¸‹å‘½ä»¤æŸ¥çœ‹ffmpegæ”¯æŒçš„å®¹å™¨ã€‚</p><div class="mdxCodeBlock_1zKU"><div class="codeBlockContent_actS"><div tabindex="0" class="prism-code language-undefined codeBlock_tuNs thin-scrollbar"><div class="codeBlockLines_3uvA" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">ffmpeg -formats</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_2GIj">Copy</button></div></div><p>è¾“å‡ºçš„æ ¼å¼å¾ˆå¤šï¼Œåœ¨æ ¼å¼çš„å‰é¢ä¼šæ ‡æœ‰<code>E</code>ã€<code>D</code>å’Œ<code>DE</code>å­—æ ·ï¼Œå¹¶ä¸”æœ€å‰é¢çš„2è¡Œå†…å®¹ä¸ºï¼š</p><div class="mdxCodeBlock_1zKU"><div class="codeBlockContent_actS"><div tabindex="0" class="prism-code language-undefined codeBlock_tuNs thin-scrollbar"><div class="codeBlockLines_3uvA" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">File formats:</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"> D. = Demuxing supported</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"> .E = Muxing supported</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_2GIj">Copy</button></div></div><p>è¡¨ç¤ºffmpegæ‰€æ”¯æŒçš„ç›¸åº”è§£ææ ¼å¼çš„ç¼–ç è¿˜æ˜¯è§£ç ï¼Œæ³¨æ„è¿™é‡Œæ‰€è¯´çš„ç¼–ç å’Œè§£ç åˆ†åˆ«æ˜¯æŒ‡<strong>æ··æµå’Œè§£ææ··æµ</strong>ã€‚å› ä¸ºè§†é¢‘ä¸­å¯ä»¥åŒ…å«å¤šç§æµï¼ˆsteamï¼‰ç±»å‹ï¼Œä¾‹å¦‚è§†é¢‘ã€éŸ³é¢‘ã€å­—å¹•ç­‰ã€‚</p><p>muxerï¼ˆå°è£…å™¨ï¼‰ å’Œ demuxerï¼ˆè§£å°è£…å™¨ï¼‰å­˜æ”¾åœ¨ libavformat ç›®å½•ä¸‹çš„mux.c æ–‡ä»¶ä¸­ï¼›</p><p>å‚è€ƒï¼šFFmpegæ”¯æŒçš„å‹ç¼©æ ¼å¼å’Œç¼–è§£ç æ ¼å¼ï¼š<a href="http://notes.maxwi.com/2017/04/05/ffmpeg-codecs-formats/" target="_blank" rel="noopener noreferrer">http://notes.maxwi.com/2017/04/05/ffmpeg-codecs-formats/</a></p><p>éŸ³è§†é¢‘æ··æµåŸºæœ¬åŸç†ï¼š<a href="https://cloud.tencent.com/developer/article/1494869" target="_blank" rel="noopener noreferrer">https://cloud.tencent.com/developer/article/1494869</a></p><p>èŠä¸€èŠç›´æ’­åˆ©å™¨ï¼Œè¿éº¦äº’åŠ¨èƒŒåçš„æ··æµæ–¹æ¡ˆï¼šåˆ°åº•è¯¥æ€ä¹ˆæ··ï¼Ÿï¼š <a href="https://www2.zego.im/media/how-to-mix" target="_blank" rel="noopener noreferrer">https://www2.zego.im/media/how-to-mix</a></p><p>æ·»åŠ <code>-hide_banner</code>ä¼šæ‹¼æ¯”å…ƒä¿¡æ¯ã€‚</p><h4><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_prK2" id="ç¼–ç æ ¼å¼"></a>ç¼–ç æ ¼å¼<a class="hash-link" href="#ç¼–ç æ ¼å¼" title="Direct link to heading">#</a></h4><p>éŸ³é¢‘å’Œè§†é¢‘éƒ½éœ€è¦è¿›è¡Œç¼–ç ã€‚ï¼ˆä¸ºä»€ä¹ˆè¦ç¼–ç ï¼Œå› ä¸ºä¸ç¼–ç çš„åŸå§‹æ–‡ä»¶å¤§çš„å“äººã€‚ä½¿ç”¨ffmpegå¯¹ä¸€ä¸ª42.3mçš„MP4æ–‡ä»¶ï¼Œè§£ç å¾—åˆ°çš„åŸå§‹yuvæ–‡ä»¶å¤§å°ä¸º17.58Gï¼‰ä¸åŒçš„ç¼–ç æ ¼å¼ä¼šæœ‰ä¸åŒçš„å‹ç¼©ç‡ï¼Œä¼šå¯¼è‡´ç¼–ç å‡ºæ¥çš„æ–‡ä»¶å¤§å°å’Œæ¸…æ™°åº¦çš„å·®å¼‚ã€‚ï¼ˆæ‰€ä»¥ è¿½æ±‚æ–‡ä»¶å¤§å°æ¯”è¾ƒå°ï¼Œä¸”æ¸…æ™°åº¦æçš„ï¼ŒéŸ³é¢‘å’Œè§†é¢‘ç¼–ç è¿™å—æ˜¯ç®—æ³•å¤§ç¥çš„ç”¨æ­¦ä¹‹åœ°ï¼‰</p><p>å¸¸ç”¨çš„è§†é¢‘ç¼–ç æ ¼å¼å¦‚ä¸‹ã€‚</p><blockquote><ul><li>H.262</li><li>H.264</li><li>H.265</li></ul></blockquote><p>ä¸Šé¢çš„ç¼–ç æ ¼å¼éƒ½æ˜¯æœ‰ç‰ˆæƒçš„ï¼Œä½†æ˜¯å¯ä»¥å…è´¹ä½¿ç”¨ã€‚æ­¤å¤–ï¼Œè¿˜æœ‰å‡ ç§æ— ç‰ˆæƒçš„è§†é¢‘ç¼–ç æ ¼å¼ã€‚</p><blockquote><ul><li>VP8</li><li>VP9</li><li>AV1</li></ul></blockquote><p>å¸¸ç”¨çš„éŸ³é¢‘ç¼–ç æ ¼å¼å¦‚ä¸‹ã€‚</p><blockquote><ul><li>MP3</li><li>AAC</li></ul></blockquote><p>ä¸Šé¢æ‰€æœ‰è¿™äº›éƒ½æ˜¯æœ‰æŸçš„ç¼–ç æ ¼å¼ï¼Œç¼–ç åä¼šæŸå¤±ä¸€äº›ç»†èŠ‚ï¼Œä»¥æ¢å–å‹ç¼©åè¾ƒå°çš„æ–‡ä»¶ä½“ç§¯ã€‚æ— æŸçš„ç¼–ç æ ¼å¼å‹ç¼©å‡ºæ¥çš„æ–‡ä»¶ä½“ç§¯è¾ƒå¤§ï¼Œè¿™é‡Œå°±ä¸ä»‹ç»äº†ã€‚</p><p>æŸ¥çœ‹ffmpegæ”¯æŒçš„æ‰€æœ‰çš„ç¼–è§£ç æ ¼å¼ï¼šè§†é¢‘ç¼–ç å’ŒéŸ³é¢‘ç¼–ç éƒ½åœ¨å†…ã€‚</p><div class="mdxCodeBlock_1zKU"><div class="codeBlockContent_actS"><div tabindex="0" class="prism-code language-undefined codeBlock_tuNs thin-scrollbar"><div class="codeBlockLines_3uvA" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">ffmpeg -codecs</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_2GIj">Copy</button></div></div><p>åŒæ ·æ‰€æœ‰æ ¼å¼å‰é¢éƒ½ä¼šæœ‰ç›¸åº”çš„å­—æ¯æ¥è¡¨ç¤ºå®ƒçš„ä½œç”¨ï¼Œå¦‚ä¸‹ï¼š</p><div class="mdxCodeBlock_1zKU"><div class="codeBlockContent_actS"><div tabindex="0" class="prism-code language-undefined codeBlock_tuNs thin-scrollbar"><div class="codeBlockLines_3uvA" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">Codecs:</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"> D..... = Decoding supported</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"> .E.... = Encoding supported</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"> ..V... = Video codec</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"> ..A... = Audio codec</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"> ..S... = Subtitle codec</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"> ...I.. = Intra frame-only codec</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"> ....L. = Lossy compression</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"> .....S = Lossless compression</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_2GIj">Copy</button></div></div><p><strong>åˆ—å‡ºæ‰€æœ‰æ”¯æŒç¼–ç æ ¼å¼</strong></p><div class="mdxCodeBlock_1zKU"><div class="codeBlockContent_actS"><div tabindex="0" class="prism-code language-undefined codeBlock_tuNs thin-scrollbar"><div class="codeBlockLines_3uvA" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">ffmpeg -encoders</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_2GIj">Copy</button></div></div><p><strong>åˆ—å‡ºæ‰€æœ‰æ”¯æŒè§£ç æ ¼å¼</strong></p><div class="mdxCodeBlock_1zKU"><div class="codeBlockContent_actS"><div tabindex="0" class="prism-code language-undefined codeBlock_tuNs thin-scrollbar"><div class="codeBlockLines_3uvA" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">ffmpeg -decoders</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_2GIj">Copy</button></div></div><p><strong>æ˜¾ç¤ºæŒ‡å®šç¼–ç æ ¼å¼çš„è¯¦ç»†ä¿¡æ¯</strong></p><div class="mdxCodeBlock_1zKU"><div class="codeBlockContent_actS"><div tabindex="0" class="prism-code language-undefined codeBlock_tuNs thin-scrollbar"><div class="codeBlockLines_3uvA" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">ffmpeg -h encoder=mpeg4</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_2GIj">Copy</button></div></div><p><strong>æ˜¾ç¤ºæŒ‡å®šè§£ç æ ¼å¼çš„è¯¦ç»†ä¿¡æ¯</strong></p><div class="mdxCodeBlock_1zKU"><div class="codeBlockContent_actS"><div tabindex="0" class="prism-code language-undefined codeBlock_tuNs thin-scrollbar"><div class="codeBlockLines_3uvA" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">ffmpeg -h decoder=aac</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_2GIj">Copy</button></div></div><p>æŸ¥çœ‹å¸®åŠ©æ–‡æ¡£</p><div class="mdxCodeBlock_1zKU"><div class="codeBlockContent_actS"><div tabindex="0" class="prism-code language-undefined codeBlock_tuNs thin-scrollbar"><div class="codeBlockLines_3uvA" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">./configure --help</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_2GIj">Copy</button></div></div><h4><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_prK2" id="ffmpeg-å‘½ä»¤è¡Œçš„ä½¿ç”¨"></a>ffmpeg å‘½ä»¤è¡Œçš„ä½¿ç”¨<a class="hash-link" href="#ffmpeg-å‘½ä»¤è¡Œçš„ä½¿ç”¨" title="Direct link to heading">#</a></h4><p>ffmpeg --help</p><p>æˆ–è€…åœ¨dashä¸­æŸ¥çœ‹æ–‡æ¡£ã€‚</p><p>FFmpeg çš„å‘½ä»¤è¡Œå‚æ•°éå¸¸å¤šï¼Œå¯ä»¥åˆ†æˆäº”ä¸ªéƒ¨åˆ†ã€‚</p><div class="mdxCodeBlock_1zKU"><div class="codeBlockContent_actS"><div tabindex="0" class="prism-code language-bash codeBlock_tuNs thin-scrollbar"><div class="codeBlockLines_3uvA" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">$ ffmpeg </span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token number" style="color:rgb(247, 140, 108)">1</span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token number" style="color:rgb(247, 140, 108)">2</span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span><span class="token plain"> -i </span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token number" style="color:rgb(247, 140, 108)">3</span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token number" style="color:rgb(247, 140, 108)">4</span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token number" style="color:rgb(247, 140, 108)">5</span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_2GIj">Copy</button></div></div><p>ä¸Šé¢å‘½ä»¤ä¸­ï¼Œäº”ä¸ªéƒ¨åˆ†çš„å‚æ•°ä¾æ¬¡å¦‚ä¸‹ã€‚</p><blockquote><ol><li>å…¨å±€å‚æ•°</li><li>è¾“å…¥æ–‡ä»¶å‚æ•°</li><li>è¾“å…¥æ–‡ä»¶</li><li>è¾“å‡ºæ–‡ä»¶å‚æ•°</li><li>è¾“å‡ºæ–‡ä»¶</li></ol></blockquote><p>å‚æ•°å¤ªå¤šçš„æ—¶å€™ï¼Œä¸ºäº†ä¾¿äºæŸ¥çœ‹ï¼Œffmpeg å‘½ä»¤å¯ä»¥å†™æˆå¤šè¡Œã€‚</p><blockquote><div class="mdxCodeBlock_1zKU"><div class="codeBlockContent_actS"><div tabindex="0" class="prism-code language-bash codeBlock_tuNs thin-scrollbar"><div class="codeBlockLines_3uvA" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">$ ffmpeg </span><span class="token punctuation" style="color:rgb(199, 146, 234)">\</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token punctuation" style="color:rgb(199, 146, 234)">[</span><span class="token plain">å…¨å±€å‚æ•°</span><span class="token punctuation" style="color:rgb(199, 146, 234)">]</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">\</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token punctuation" style="color:rgb(199, 146, 234)">[</span><span class="token plain">è¾“å…¥æ–‡ä»¶å‚æ•°</span><span class="token punctuation" style="color:rgb(199, 146, 234)">]</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">\</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">-i </span><span class="token punctuation" style="color:rgb(199, 146, 234)">[</span><span class="token plain">è¾“å…¥æ–‡ä»¶</span><span class="token punctuation" style="color:rgb(199, 146, 234)">]</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">\</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token punctuation" style="color:rgb(199, 146, 234)">[</span><span class="token plain">è¾“å‡ºæ–‡ä»¶å‚æ•°</span><span class="token punctuation" style="color:rgb(199, 146, 234)">]</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">\</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token punctuation" style="color:rgb(199, 146, 234)">[</span><span class="token plain">è¾“å‡ºæ–‡ä»¶</span><span class="token punctuation" style="color:rgb(199, 146, 234)">]</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_2GIj">Copy</button></div></div></blockquote><p>ä¸‹é¢æ˜¯ä¸€ä¸ªä¾‹å­ã€‚</p><blockquote><div class="mdxCodeBlock_1zKU"><div class="codeBlockContent_actS"><div tabindex="0" class="prism-code language-bash codeBlock_tuNs thin-scrollbar"><div class="codeBlockLines_3uvA" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">$ ffmpeg </span><span class="token punctuation" style="color:rgb(199, 146, 234)">\</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">-y </span><span class="token punctuation" style="color:rgb(199, 146, 234)">\</span><span class="token plain"> </span><span class="token comment" style="color:rgb(105, 112, 152);font-style:italic"># å…¨å±€å‚æ•°</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">-c:a libfdk_aac -c:v libx264 </span><span class="token punctuation" style="color:rgb(199, 146, 234)">\</span><span class="token plain"> </span><span class="token comment" style="color:rgb(105, 112, 152);font-style:italic"># è¾“å…¥æ–‡ä»¶å‚æ•°</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">-i input.mp4 </span><span class="token punctuation" style="color:rgb(199, 146, 234)">\</span><span class="token plain"> </span><span class="token comment" style="color:rgb(105, 112, 152);font-style:italic"># è¾“å…¥æ–‡ä»¶</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">-c:v libvpx-vp9 -c:a libvorbis </span><span class="token punctuation" style="color:rgb(199, 146, 234)">\</span><span class="token plain"> </span><span class="token comment" style="color:rgb(105, 112, 152);font-style:italic"># è¾“å‡ºæ–‡ä»¶å‚æ•°</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">output.webm </span><span class="token comment" style="color:rgb(105, 112, 152);font-style:italic"># è¾“å‡ºæ–‡ä»¶</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_2GIj">Copy</button></div></div></blockquote><p>ä¸Šé¢çš„å‘½ä»¤å°† mp4 æ–‡ä»¶è½¬æˆ webm æ–‡ä»¶ï¼Œè¿™ä¸¤ä¸ªéƒ½æ˜¯å®¹å™¨æ ¼å¼ã€‚è¾“å…¥çš„ mp4 æ–‡ä»¶çš„éŸ³é¢‘ç¼–ç æ ¼å¼æ˜¯ aacï¼Œè§†é¢‘ç¼–ç æ ¼å¼æ˜¯ H.264ï¼›è¾“å‡ºçš„ webm æ–‡ä»¶çš„è§†é¢‘ç¼–ç æ ¼å¼æ˜¯ VP9ï¼ŒéŸ³é¢‘æ ¼å¼æ˜¯ Vorbisã€‚</p><p>å¦‚æœä¸æŒ‡æ˜ç¼–ç æ ¼å¼ï¼ŒFFmpeg ä¼šè‡ªå·±åˆ¤æ–­è¾“å…¥æ–‡ä»¶çš„ç¼–ç ã€‚å› æ­¤ï¼Œä¸Šé¢çš„å‘½ä»¤å¯ä»¥ç®€å•å†™æˆä¸‹é¢çš„æ ·å­ã€‚</p><blockquote><div class="mdxCodeBlock_1zKU"><div class="codeBlockContent_actS"><div tabindex="0" class="prism-code language-bash codeBlock_tuNs thin-scrollbar"><div class="codeBlockLines_3uvA" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">$ ffmpeg -i input.avi output.mp4</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_2GIj">Copy</button></div></div></blockquote><p>options</p><div class="mdxCodeBlock_1zKU"><div class="codeBlockContent_actS"><div tabindex="0" class="prism-code language-undefined codeBlock_tuNs thin-scrollbar"><div class="codeBlockLines_3uvA" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">-devices            show available devices</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">-codecs             show available codecs</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">-decoders           show available decoders</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">-encoders           show available encoders</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">-pix_fmts           show available pixel formats</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">-layouts            show standard channel layouts</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">-sample_fmts        show available audio sample formats</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">-colors             show available color names</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">-sources device     list sources of the input device</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">-sinks device       list sinks of the output device</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">-y                  overwrite output files</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">-n                  never overwrite output files</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_2GIj">Copy</button></div></div><p>å‚è€ƒï¼š <a href="https://gist.github.com/yxibng/8e9fd37081519b98012c7d56be98d14a#file-ffmpeg-md" target="_blank" rel="noopener noreferrer">https://gist.github.com/yxibng/8e9fd37081519b98012c7d56be98d14a#file-ffmpeg-md</a></p><h5><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_prK2" id="éŸ³é¢‘è½¬ç "></a>éŸ³é¢‘è½¬ç <a class="hash-link" href="#éŸ³é¢‘è½¬ç " title="Direct link to heading">#</a></h5><div class="mdxCodeBlock_1zKU"><div class="codeBlockContent_actS"><div tabindex="0" class="prism-code language-undefined codeBlock_tuNs thin-scrollbar"><div class="codeBlockLines_3uvA" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">Audio options:</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">-ab bitrate         audio bitrate (please use -b:a)</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">-ar rate            set audio sampling rate (in Hz)</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">-ac channels        set number of audio channels</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">-acodec codec       force audio codec (&#x27;copy&#x27; to copy stream)</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_2GIj">Copy</button></div></div><p>æ“ä½œpcm çš„å‚æ•°</p><div class="mdxCodeBlock_1zKU"><div class="codeBlockContent_actS"><div tabindex="0" class="prism-code language-undefined codeBlock_tuNs thin-scrollbar"><div class="codeBlockLines_3uvA" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain"> # formats</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"> -f</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"> DE s16be           PCM signed 16-bit big-endian</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"> DE s16le           PCM signed 16-bit little-endian</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"> DE s24be           PCM signed 24-bit big-endian</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"> DE s24le           PCM signed 24-bit little-endian</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"> DE s32be           PCM signed 32-bit big-endian</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"> DE s32le           PCM signed 32-bit little-endian</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"> D  s337m           SMPTE 337M</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"> DE s8              PCM signed 8-bit</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"> </span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"> # codec</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"> -acodec</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"> </span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"> DEAI.S pcm_s16be            PCM signed 16-bit big-endian</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"> DEAI.S pcm_s16be_planar     PCM signed 16-bit big-endian planar</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"> DEAI.S pcm_s16le            PCM signed 16-bit little-endian</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"> DEAI.S pcm_s16le_planar     PCM signed 16-bit little-endian planar</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_2GIj">Copy</button></div></div><p>ç¤ºä¾‹ï¼š</p><div class="mdxCodeBlock_1zKU"><div class="codeBlockContent_actS"><div tabindex="0" class="prism-code language-undefined codeBlock_tuNs thin-scrollbar"><div class="codeBlockLines_3uvA" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">#è½¬ç ç”Ÿæˆæ–°çš„æ–‡ä»¶ï¼Œç›®æ ‡ä¸º </span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">- ar é‡‡æ ·ç‡ 44100ï¼Œ</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">- ac åŒå£°é“ï¼Œç¼–ç æ ¼å¼ aac</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">- acodec ç¼–ç å™¨ aac</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">ffmpeg -i source.mp3 -ar 44100 -ac 2 -acodec aac -y output.m4a</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"># è½¬æ¢ä¸º pcm</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">ffmpeg -i source.mp3 -f s16le -acodec pcm_s16le output.raw</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_2GIj">Copy</button></div></div><h5><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_prK2" id="ä»mp4ä¸­æå–"></a>ä»MP4ä¸­æå–<a class="hash-link" href="#ä»mp4ä¸­æå–" title="Direct link to heading">#</a></h5><ul><li>MP4æå–H264</li></ul><p>To extract a raw video from an MP4 or FLV container you should specify the -bsf:v h264_mp4toannexb or -vbfs h264_mp4toannexb option.</p><p>ä»MP4æ–‡ä»¶æˆ–è€…flvæ–‡ä»¶ä¸­æå–H264æ–‡ä»¶</p><div class="mdxCodeBlock_1zKU"><div class="codeBlockContent_actS"><div tabindex="0" class="prism-code language-undefined codeBlock_tuNs thin-scrollbar"><div class="codeBlockLines_3uvA" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">ffmpeg -i test.flv -vcodec copy -an -bsf:v h264_mp4toannexb test.h264</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_2GIj">Copy</button></div></div><ul><li>MP4 æå– yuv</li></ul><div class="mdxCodeBlock_1zKU"><div class="codeBlockContent_actS"><div tabindex="0" class="prism-code language-undefined codeBlock_tuNs thin-scrollbar"><div class="codeBlockLines_3uvA" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">For example if you want to save the 1st video track of an mp4 file as a yuv420p (p means planar) file:</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">ffmpeg -i video.mp4 -c:v rawvideo -pix_fmt yuv420p out.yuv</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_2GIj">Copy</button></div></div><ul><li><p>MP4ä¸­æå–aac</p><p>extract aac from mp4</p></li></ul><div class="mdxCodeBlock_1zKU"><div class="codeBlockContent_actS"><div tabindex="0" class="prism-code language-undefined codeBlock_tuNs thin-scrollbar"><div class="codeBlockLines_3uvA" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">ffmpeg -i input.mp4 -vn -c:a copy output.m4a</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_2GIj">Copy</button></div></div><ul><li>Mp4 ä¸­æå–flv</li></ul><div class="mdxCodeBlock_1zKU"><div class="codeBlockContent_actS"><div tabindex="0" class="prism-code language-undefined codeBlock_tuNs thin-scrollbar"><div class="codeBlockLines_3uvA" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">ffmpeg -i source.mp4 -c:v libx264 -crf 19 destinationfile.flv</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_2GIj">Copy</button></div></div><p>å‚è€ƒï¼š<a href="https://stackoverflow.com/questions/8504923/how-to-convert-mp4-video-file-into-flv-format-using-ffmpeg" target="_blank" rel="noopener noreferrer">https://stackoverflow.com/questions/8504923/how-to-convert-mp4-video-file-into-flv-format-using-ffmpeg</a></p><h5><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_prK2" id="è§£ç "></a>è§£ç <a class="hash-link" href="#è§£ç " title="Direct link to heading">#</a></h5><ul><li>h264 è§£ç ä¸ºyuv</li></ul><div class="mdxCodeBlock_1zKU"><div class="codeBlockContent_actS"><div tabindex="0" class="prism-code language-undefined codeBlock_tuNs thin-scrollbar"><div class="codeBlockLines_3uvA" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">ffmpeg -i file.h264 file.yuv</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_2GIj">Copy</button></div></div><p>å±•ç¤ºç¼–ç å™¨çš„å¯ç”¨å‚æ•°</p><div class="mdxCodeBlock_1zKU"><div class="codeBlockContent_actS"><div tabindex="0" class="prism-code language-undefined codeBlock_tuNs thin-scrollbar"><div class="codeBlockLines_3uvA" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">ffmpeg -h encoder=libx264</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">ffmpeg -h encoder=h264_videotoolbox</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_2GIj">Copy</button></div></div><h5><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_prK2" id="å®¹å™¨è½¬æ¢"></a>å®¹å™¨è½¬æ¢<a class="hash-link" href="#å®¹å™¨è½¬æ¢" title="Direct link to heading">#</a></h5><ul><li>mov to mp4</li></ul><p>The command to just stream it to a new container (mp4) needed by some applications like Adobe Premiere Pro <strong>without encoding</strong> (fast) is:</p><div class="mdxCodeBlock_1zKU"><div class="codeBlockContent_actS"><div tabindex="0" class="prism-code language-undefined codeBlock_tuNs thin-scrollbar"><div class="codeBlockLines_3uvA" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">ffmpeg -i input.mov -qscale 0 output.mp4</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_2GIj">Copy</button></div></div><p><strong>Alternative</strong> as mentioned in the comments, which re-encodes with best quaility (<code>-qscale 0</code>):</p><div class="mdxCodeBlock_1zKU"><div class="codeBlockContent_actS"><div tabindex="0" class="prism-code language-undefined codeBlock_tuNs thin-scrollbar"><div class="codeBlockLines_3uvA" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">ffmpeg -i input.mov -q:v 0 output.mp4</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_2GIj">Copy</button></div></div><p><a href="https://stackoverflow.com/questions/12026381/ffmpeg-converting-mov-files-to-mp4" target="_blank" rel="noopener noreferrer">https://stackoverflow.com/questions/12026381/ffmpeg-converting-mov-files-to-mp4</a></p><hr><ul><li>264-&gt;mp4</li></ul><p><a href="https://askubuntu.com/questions/690015/how-can-i-convert-264-file-to-mp4" target="_blank" rel="noopener noreferrer">https://askubuntu.com/questions/690015/how-can-i-convert-264-file-to-mp4</a></p><div class="mdxCodeBlock_1zKU"><div class="codeBlockContent_actS"><div tabindex="0" class="prism-code language-undefined codeBlock_tuNs thin-scrollbar"><div class="codeBlockLines_3uvA" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">fmpeg -framerate 24 -i input.264 -c copy output.mp4</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_2GIj">Copy</button></div></div><h4><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_prK2" id="ffprobe"></a>ffprobe<a class="hash-link" href="#ffprobe" title="Direct link to heading">#</a></h4><div class="mdxCodeBlock_1zKU"><div class="codeBlockContent_actS"><div tabindex="0" class="prism-code language-undefined codeBlock_tuNs thin-scrollbar"><div class="codeBlockLines_3uvA" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">âœ  /Users/dingyusong/Downloads/fftest ffprobe -i out_0021.mp4 </span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_2GIj">Copy</button></div></div><h4><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_prK2" id="è½¬å°è£…"></a>è½¬å°è£…<a class="hash-link" href="#è½¬å°è£…" title="Direct link to heading">#</a></h4><ul><li>muxerå’Œdemuxer</li></ul><p>muxeræ˜¯åˆå¹¶å°†è§†é¢‘æ–‡ä»¶ã€éŸ³é¢‘æ–‡ä»¶å’Œå­—å¹•æ–‡ä»¶åˆå¹¶ä¸ºæŸä¸€ä¸ªè§†é¢‘æ ¼å¼ã€‚å¦‚ï¼Œå¯å°†a.avi, a.mp3, a.srtç”¨muxeråˆå¹¶ä¸ºmkvæ ¼å¼çš„è§†é¢‘æ–‡ä»¶ã€‚demuxeræ˜¯æ‹†åˆ†è¿™äº›æ–‡ä»¶çš„ã€‚</p><h4><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_prK2" id="é‡‡é›†è®¾å¤‡"></a>é‡‡é›†è®¾å¤‡<a class="hash-link" href="#é‡‡é›†è®¾å¤‡" title="Direct link to heading">#</a></h4><p>è®¾å¤‡æšä¸¾
æŸ¥çœ‹è®¾å¤‡åˆ—è¡¨</p><div class="mdxCodeBlock_1zKU"><div class="codeBlockContent_actS"><div tabindex="0" class="prism-code language-undefined codeBlock_tuNs thin-scrollbar"><div class="codeBlockLines_3uvA" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">$ ffmpeg -hide_banner -devices</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">Devices:</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">D. = Demuxing supported</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">.E = Muxing supported</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"> --</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">D avfoundation AVFoundation input device</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">D lavfi  Libavfilter virtual input device</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"> E sdl,sdl2 SDL2 output device</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_2GIj">Copy</button></div></div><p>å¯ä»¥çœ‹åˆ°è¾“å…¥è®¾å¤‡æœ‰ï¼šavfoundationï¼Œlavfi
è¾“å‡ºè®¾å¤‡æœ‰ï¼šsdl</p><p>è®¾å¤‡é‡‡é›†ä¸¾ä¾‹ï¼š</p><div class="mdxCodeBlock_1zKU"><div class="codeBlockContent_actS"><div tabindex="0" class="prism-code language-undefined codeBlock_tuNs thin-scrollbar"><div class="codeBlockLines_3uvA" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">$  ffmpeg -f avfoundation -list_devices true -i &quot; &quot;</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">çœ‹åˆ°äº† å¦‚ä¸‹è®¾å¤‡</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_2GIj">Copy</button></div></div><div class="mdxCodeBlock_1zKU"><div class="codeBlockContent_actS"><div tabindex="0" class="prism-code language-undefined codeBlock_tuNs thin-scrollbar"><div class="codeBlockLines_3uvA" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">[AVFoundation input device @ 0x7fac75c048c0] AVFoundation video devices:</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">[AVFoundation input device @ 0x7fac75c048c0] [0] FaceTimeé«˜æ¸…æ‘„åƒå¤´ï¼ˆå†…å»ºï¼‰</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">[AVFoundation input device @ 0x7fac75c048c0] [1] Capture screen 0</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">[AVFoundation input device @ 0x7fac75c048c0] AVFoundation audio devices:</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">[AVFoundation input device @ 0x7fac75c048c0] [0] Built-in Microphone</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_2GIj">Copy</button></div></div><p>mac è®¾å¤‡é‡‡é›†</p><p><a href="https://blog.csdn.net/qq_39503880/article/details/108297091" target="_blank" rel="noopener noreferrer">https://blog.csdn.net/qq_39503880/article/details/108297091</a></p><p>é‡‡é›†ï¼š</p><div class="mdxCodeBlock_1zKU"><div class="codeBlockContent_actS"><div tabindex="0" class="prism-code language-undefined codeBlock_tuNs thin-scrollbar"><div class="codeBlockLines_3uvA" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">ffmpeg -f avfoundation -video_size 640x480 -framerate 30 -i 1 out_came1.mp4  </span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_2GIj">Copy</button></div></div><p>æ’­æ”¾ï¼š</p><p><code>ffplay out_came1.mp4 </code></p><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_prK2" id="apiä½¿ç”¨ç¯‡"></a>APIä½¿ç”¨ç¯‡<a class="hash-link" href="#apiä½¿ç”¨ç¯‡" title="Direct link to heading">#</a></h2><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_prK2" id="å·¥å…·-libavutil"></a>å·¥å…·-libavutil<a class="hash-link" href="#å·¥å…·-libavutil" title="Direct link to heading">#</a></h3><p>åŒ…æ‹¬hashå™¨ï¼Œè§£ç å™¨ï¼Œå„ç§å·¥å…·å‡½æ•°ã€‚</p><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_prK2" id="å°è£…-libavformat"></a>å°è£…-libavformat<a class="hash-link" href="#å°è£…-libavformat" title="Direct link to heading">#</a></h3><p>æµåè®®ï¼Œå®¹å™¨æ ¼å¼ï¼ŒåŸºæœ¬IOè®¿é—®ã€‚</p><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_prK2" id="ç¼–è§£ç -libavcodec"></a>ç¼–è§£ç -libavcodec<a class="hash-link" href="#ç¼–è§£ç -libavcodec" title="Direct link to heading">#</a></h3><p>ä¸€ç³»åˆ—ç¼–ç å™¨çš„å®ç°ã€‚</p><p>ä¸åšå…·ä½“çš„å·¥ä½œï¼Œåªæ˜¯å°†ç¼–è§£ç çš„æ¨¡å—è½½å…¥è¿›æ¥ã€‚ </p><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_prK2" id="æ»¤é•œ-libavfilter"></a>æ»¤é•œ-libavfilter<a class="hash-link" href="#æ»¤é•œ-libavfilter" title="Direct link to heading">#</a></h3><p>å„ç§éŸ³è§†é¢‘è¿‡æ»¤å™¨ã€‚</p><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_prK2" id="è®¾å¤‡ç›¸å…³-libavdevice"></a>è®¾å¤‡ç›¸å…³-libavdevice<a class="hash-link" href="#è®¾å¤‡ç›¸å…³-libavdevice" title="Direct link to heading">#</a></h3><p>æä¾›äº†è®¿é—®æ•è·è®¾å¤‡å’Œå›æ”¾è®¾å¤‡çš„æ¥å£ã€‚</p><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_prK2" id="é‡é‡‡æ ·-libavresample"></a>é‡é‡‡æ ·-libavresample<a class="hash-link" href="#é‡é‡‡æ ·-libavresample" title="Direct link to heading">#</a></h3><p>ä¸å¸¸ç”¨ï¼Œå¸¸ç”¨çš„æ˜¯ä¸‹é¢è¿™ä¿©</p><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_prK2" id="libavswresample"></a>libavswresample<a class="hash-link" href="#libavswresample" title="Direct link to heading">#</a></h3><p>æä¾›æ··éŸ³å’Œé‡é‡‡æ ·ã€‚</p><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_prK2" id="libavswrescale"></a>libavswrescale<a class="hash-link" href="#libavswrescale" title="Direct link to heading">#</a></h3><p>æä¾›è‰²å½©è½¬æ¢å’Œç¼©æ”¾åŠŸèƒ½ã€‚</p><h4><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_prK2" id="å®æˆ˜"></a>å®æˆ˜<a class="hash-link" href="#å®æˆ˜" title="Direct link to heading">#</a></h4><p>TODOï¼šå®ç°MP4è§†é¢‘æ’­æ”¾</p><p>TODOï¼šå®ç°MP4éŸ³é¢‘æ’­æ”¾</p><p>TODOï¼šå®ç°ä¸€ä¸ªåˆçº§æ’­æ”¾å™¨</p><p>TODOï¼šå®ç°éŸ³è§†é¢‘åŒæ­¥</p><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_prK2" id="ffplay"></a>ffplay<a class="hash-link" href="#ffplay" title="Direct link to heading">#</a></h2><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_prK2" id="ffplay-æ’­æ”¾yuv"></a>ffplay æ’­æ”¾yuv<a class="hash-link" href="#ffplay-æ’­æ”¾yuv" title="Direct link to heading">#</a></h3><div class="mdxCodeBlock_1zKU"><div class="codeBlockContent_actS"><div tabindex="0" class="prism-code language-undefined codeBlock_tuNs thin-scrollbar"><div class="codeBlockLines_3uvA" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">âœ  /Users/dingyusong/Downloads ffplay -f rawvideo -video_size 640x360 -pix_fmt yuv420p  demo.yuv</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_2GIj">Copy</button></div></div><div class="mdxCodeBlock_1zKU"><div class="codeBlockContent_actS"><div tabindex="0" class="prism-code language-css codeBlock_tuNs thin-scrollbar"><div class="codeBlockLines_3uvA" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token property">éœ€è¦æŒ‡å®šçš„å‚æ•°</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token number" style="color:rgb(247, 140, 108)">1.</span><span class="token plain"> -video_size æŒ‡å®šyuvçš„å®½é«˜</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token number" style="color:rgb(247, 140, 108)">2.</span><span class="token plain"> -pix_fmt æŒ‡å®šyuvçš„æ ¼å¼</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">yuvçš„æ ¼å¼åå¯ä»¥é€šè¿‡ ffplay -pix_fmtsæ¥æŸ¥è¯¢</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_2GIj">Copy</button></div></div><p>å•ç‹¬æŠ½å‡ºyåˆ†é‡</p><div class="mdxCodeBlock_1zKU"><div class="codeBlockContent_actS"><div tabindex="0" class="prism-code language-undefined codeBlock_tuNs thin-scrollbar"><div class="codeBlockLines_3uvA" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">âœ  /Users/dingyusong/Downloads ffplay -s 640x360 -vf extractplanes=&#x27;y&#x27; demo.yuv </span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_2GIj">Copy</button></div></div><p>Option -s is deprecated, use -video_size.</p><div class="mdxCodeBlock_1zKU"><div class="codeBlockContent_actS"><div tabindex="0" class="prism-code language-undefined codeBlock_tuNs thin-scrollbar"><div class="codeBlockLines_3uvA" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">âœ  /Users/dingyusong/Downloads ffplay -video_size 640x360 -vf extractplanes=&#x27;y&#x27; demo.yuv </span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_2GIj">Copy</button></div></div><div class="mdxCodeBlock_1zKU"><div class="codeBlockContent_actS"><div tabindex="0" class="prism-code language-undefined codeBlock_tuNs thin-scrollbar"><div class="codeBlockLines_3uvA" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">   -vf filtergraph</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">           Create the filtergraph specified by filtergraph and use it to filter the video stream.</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">           filtergraph is a description of the filtergraph to apply to the stream, and must have a single video input and</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">           a single video output. In the filtergraph, the input is associated to the label &quot;in&quot;, and the output to the</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">           label &quot;out&quot;. See the ffmpeg-filters manual for more information about the filtergraph syntax.</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">           You can specify this parameter multiple times and cycle through the specified filtergraphs along with the show</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">           modes by pressing the key w.</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_2GIj">Copy</button></div></div><p>å‚è€ƒï¼š ffplayæ’­æ”¾rtsp,rtmp,yuvå’Œpcm:<a href="https://www.jianshu.com/p/79b31906cdcb" target="_blank" rel="noopener noreferrer">https://www.jianshu.com/p/79b31906cdcb</a></p><p>x264ï¼Œx265æ˜¯å¯¹H264çš„å®ç°ï¼Œéœ€è¦è‡ªå·±å®‰è£…ï¼ŒFFmpegè´Ÿè´£è°ƒç”¨ã€‚</p><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_prK2" id="åˆçº§å¼€å‘"></a>åˆçº§å¼€å‘<a class="hash-link" href="#åˆçº§å¼€å‘" title="Direct link to heading">#</a></h2><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_prK2" id="ffmpegæ—¥å¿—åŠç›®å½•æ“ä½œ"></a>FFmpegæ—¥å¿—åŠç›®å½•æ“ä½œ<a class="hash-link" href="#ffmpegæ—¥å¿—åŠç›®å½•æ“ä½œ" title="Direct link to heading">#</a></h3><p>æ—¥å¿—ç³»ç»Ÿ</p><div class="mdxCodeBlock_1zKU"><div class="codeBlockContent_actS"><div tabindex="0" class="prism-code language-undefined codeBlock_tuNs thin-scrollbar"><div class="codeBlockLines_3uvA" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">#include&lt;libavutil/log.h&gt;</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">av_log_set_level(NULL,AV_LOG_INFO);</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">av_log(NULL,AV_LOG_ERROR,&quot;open %s failure&quot;,filename);</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_2GIj">Copy</button></div></div><p>å¸¸ç”¨æ—¥å¿—çº§åˆ«</p><div class="mdxCodeBlock_1zKU"><div class="codeBlockContent_actS"><div tabindex="0" class="prism-code language-undefined codeBlock_tuNs thin-scrollbar"><div class="codeBlockLines_3uvA" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">AV_LOG_ERROR</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">AV_LOG_WARNING</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">AV_LOG_INFO</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_2GIj">Copy</button></div></div><div class="mdxCodeBlock_1zKU"><div class="codeBlockContent_actS"><div tabindex="0" class="prism-code language-undefined codeBlock_tuNs thin-scrollbar"><div class="codeBlockLines_3uvA" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">DO:clab/09-ffmpeg/01-log </span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">ç¼–è¯‘ï¼šclang -g -o log1 log1.c `pkg-config --libs libavutil`</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_2GIj">Copy</button></div></div><hr><p>æ–‡ä»¶çš„åˆ é™¤å’Œé‡å‘½å</p><div class="mdxCodeBlock_1zKU"><div class="codeBlockContent_actS"><div tabindex="0" class="prism-code language-undefined codeBlock_tuNs thin-scrollbar"><div class="codeBlockLines_3uvA" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">avpriv_io_delete()</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">avpriv_io_move()</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_2GIj">Copy</button></div></div><blockquote><p>DO:åˆ é™¤æ–‡ä»¶å’Œé‡å‘½åæ–‡ä»¶(clab/09-ffmpeg/02-file/01_file_delete_rename.c)</p></blockquote><hr><p>ç›®å½•æ“ä½œé‡è¦å‡½æ•°</p><div class="mdxCodeBlock_1zKU"><div class="codeBlockContent_actS"><div tabindex="0" class="prism-code language-undefined codeBlock_tuNs thin-scrollbar"><div class="codeBlockLines_3uvA" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">avio_open_dir()</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">avio_read_dir()</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">avio_close_dir()</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_2GIj">Copy</button></div></div><p>ç›®å½•æ“ä½œé‡è¦ç»“æ„ä½“</p><div class="mdxCodeBlock_1zKU"><div class="codeBlockContent_actS"><div tabindex="0" class="prism-code language-undefined codeBlock_tuNs thin-scrollbar"><div class="codeBlockLines_3uvA" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">AVIODirContext</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">æ“ä½œç›®å½•ä¸Šä¸‹æ–‡</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">AVIODirEntry</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">ç›®å½•é¡¹ï¼Œå­˜æ”¾æ–‡ä»¶åï¼Œæ–‡ä»¶å¤§å°ç­‰ä¿¡æ¯</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_2GIj">Copy</button></div></div><blockquote><p>DO:æœ€ç®€ç­”çš„list(clab/09-ffmpeg/02-file/02-ffmpeg-list.c)</p></blockquote><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_prK2" id="ffmpegåŸºæœ¬æ¦‚å¿µå’Œå¸¸ç”¨ç»“æ„ä½“"></a>FFmpegåŸºæœ¬æ¦‚å¿µå’Œå¸¸ç”¨ç»“æ„ä½“<a class="hash-link" href="#ffmpegåŸºæœ¬æ¦‚å¿µå’Œå¸¸ç”¨ç»“æ„ä½“" title="Direct link to heading">#</a></h3><ul><li>å¤šåª’ä½“æ–‡ä»¶å…¶å®æ˜¯ä¸ªå®¹å™¨</li><li>å®¹å™¨å†…æœ‰å¾ˆå¤šæµï¼ˆStream/Trackï¼‰ï¼ˆéŸ³é¢‘ï¼Œè§†é¢‘ï¼Œå­—å¹•ç­‰ï¼‰</li><li>è¿™äº›æµæ˜¯ç›¸äº’ç‹¬ç«‹çš„ï¼Œå¹³è¡Œçš„ï¼Œå°±åƒé“è½¨ä¸€æ ·ã€‚</li><li>æ¯ç§æµæ˜¯ç”±ä¸åŒçš„ç¼–ç å™¨ç¼–ç çš„ã€‚</li><li>ä»æµä¸­è¯»å–çš„æ•°æ®ç§°ä¸ºåŒ…ã€‚</li><li>ä¸€ä¸ªåŒ…ä¸­åŒ…å«ä¸€ä¸ªæˆ–å¤šä¸ªå¸§ã€‚</li></ul><hr><p>å‡ ä¸ªé‡è¦çš„ç»“æ„ä½“</p><ul><li>AVFromatContext</li><li>AVStream</li><li>AVPacket</li></ul><hr><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_prK2" id="å¤ç”¨è§£å¤ç”¨æµæ“ä½œ"></a>å¤ç”¨/è§£å¤ç”¨,æµæ“ä½œ<a class="hash-link" href="#å¤ç”¨è§£å¤ç”¨æµæ“ä½œ" title="Direct link to heading">#</a></h3><p>æ“ä½œæµæ•°æ®çš„åŸºæœ¬æ­¥éª¤</p><p><img alt="image-20211007082637184" src="/assets/images/image-20211007082637184-9eceabb291377268277e5fa9b8d99bef.png"></p><ul><li>è§£å¤ç”¨ ï¼š avformat_open_input</li><li>è·å–æµï¼ˆä¸€ä¸ªå¤šåª’ä½“æ–‡ä»¶åŒ…å«å¤šè·¯æµï¼‰</li><li>è¯»æ•°æ®åŒ…ï¼ˆä¸€ä¸ªæ•°æ®åŒ…ä¸­åŒ…å«ä¸€ä¸ªæˆ–å¤šä¸ªæ•°æ®å¸§ï¼Œè¯»å‡ºæ•°æ®åŒ…æ‰èƒ½è¿›è¡Œå„ç§å¤„ç†ï¼Œå˜å£°ï¼Œå€é€Ÿç­‰ï¼‰</li><li>æ“ä½œä¹‹åé‡Šæ”¾èµ„æºã€‚</li></ul><p>DOï¼šæ‰“å°å¤šåª’ä½“ä¿¡æ¯</p><div class="mdxCodeBlock_1zKU"><div class="codeBlockContent_actS"><div tabindex="0" class="prism-code language-undefined codeBlock_tuNs thin-scrollbar"><div class="codeBlockLines_3uvA" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">1. æ³¨å†Œç±»</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">av_register_all</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">2. æ‰“å¼€å…³é—­</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">avformat_open_input()/avformat_close_input()</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">3. æå–ä¿¡æ¯</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">av_dump_format()</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_2GIj">Copy</button></div></div><p><img alt="image-20211007224936067" src="/assets/images/image-20211007224936067-c31c9349bed1652b83c6d5b0bcb14ac2.png"></p><p><img alt="image-20211007225243547" src="/assets/images/image-20211007225243547-0c4784853f422e52238dd1cb5de26bb1.png"></p><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_prK2" id="å‚è€ƒæ–‡æ¡£"></a>å‚è€ƒæ–‡æ¡£<a class="hash-link" href="#å‚è€ƒæ–‡æ¡£" title="Direct link to heading">#</a></h2><ul><li><a href="https://ffmpeg.org/documentation.html" target="_blank" rel="noopener noreferrer">https://ffmpeg.org/documentation.html</a></li><li><a href="https://trac.ffmpeg.org/wiki" target="_blank" rel="noopener noreferrer">https://trac.ffmpeg.org/wiki</a></li><li><a href="https://blog.csdn.net/leixiaohua1020/article/details/15811977" target="_blank" rel="noopener noreferrer">[æ€»ç»“]FFMPEGè§†éŸ³é¢‘ç¼–è§£ç é›¶åŸºç¡€å­¦ä¹ æ–¹æ³•</a></li><li>FFmpegä»å…¥é—¨åˆ°ç²¾é€š.pdf</li><li><a href="https://coding.imooc.com/class/chapter/415.html#Anchor" target="_blank" rel="noopener noreferrer">ç¼–ç¨‹å¿…å¤‡åŸºç¡€-éŸ³è§†é¢‘å°ç™½ç³»ç»Ÿå…¥é—¨è¯¾</a></li><li><a href="https://coding.imooc.com/class/chapter/279.html#Anchor" target="_blank" rel="noopener noreferrer">ç»å…¸å†å‡çº§-FFmpegéŸ³è§†é¢‘æ ¸å¿ƒæŠ€æœ¯å…¨é¢ç²¾è®²+å®æˆ˜</a></li><li>è¡¥å……çŸ¥è¯†-ç§»åŠ¨ç«¯è§†é¢‘å…¥é—¨-æ…•è¯¾</li><li>å¤šè¯»ä¼˜ç§€å¼€æºä»£ç ijkplayerï¼Œffplayer</li></ul></div></article><div class="margin-vert--xl"><div class="row"><div class="col"><a href="dys-typora-open://mine/survival/docs/éŸ³è§†é¢‘/å­¦ä¹ èµ„æ–™/ä¸‰æ–¹æ¡†æ¶/FFMpeg/FFmpeg.md" target="_blank" rel="noreferrer noopener"><svg fill="currentColor" height="1.2em" width="1.2em" preserveAspectRatio="xMidYMid meet" role="img" viewBox="0 0 40 40" class="iconEdit_2LL7"><g><path d="m34.5 11.7l-3 3.1-6.3-6.3 3.1-3q0.5-0.5 1.2-0.5t1.1 0.5l3.9 3.9q0.5 0.4 0.5 1.1t-0.5 1.2z m-29.5 17.1l18.4-18.5 6.3 6.3-18.4 18.4h-6.3v-6.2z"></path></g></svg>Edit this page</a></div></div></div><div class="margin-vert--lg"><nav class="pagination-nav" aria-label="Blog list page navigation"><div class="pagination-nav__item"><a class="pagination-nav__link" href="/docs/éŸ³è§†é¢‘/æœåŠ¡ç«¯/æœåŠ¡å™¨"><div class="pagination-nav__sublabel">Previous</div><div class="pagination-nav__label">Â« æœåŠ¡å™¨</div></a></div><div class="pagination-nav__item pagination-nav__item--next"><a class="pagination-nav__link" href="/docs/éŸ³è§†é¢‘/å­¦ä¹ èµ„æ–™/ä¸‰æ–¹æ¡†æ¶/WebRTC/WebRTC"><div class="pagination-nav__sublabel">Next</div><div class="pagination-nav__label">WebRTC Â»</div></a></div></nav></div></div></div><div class="col col--3"><div class="tableOfContents_2xL- thin-scrollbar"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#èƒŒæ™¯å’Œå¸¸è¯†" class="table-of-contents__link">èƒŒæ™¯å’Œå¸¸è¯†</a></li><li><a href="#ç¼–è¯‘å’Œé›†æˆ" class="table-of-contents__link">ç¼–è¯‘å’Œé›†æˆ</a><ul><li><a href="#macçš„ç¼–è¯‘" class="table-of-contents__link">Macçš„ç¼–è¯‘</a></li><li><a href="#iosçš„ç¼–è¯‘" class="table-of-contents__link">iOSçš„ç¼–è¯‘</a></li><li><a href="#ç¼–è¯‘å®˜æ–¹demo" class="table-of-contents__link">ç¼–è¯‘å®˜æ–¹demo</a></li></ul></li><li><a href="#ä½¿ç”¨ffmpegåº“" class="table-of-contents__link">ä½¿ç”¨FFMpegåº“</a></li><li><a href="#å‘½ä»¤è¡Œä½¿ç”¨ç¯‡" class="table-of-contents__link">å‘½ä»¤è¡Œä½¿ç”¨ç¯‡</a><ul><li><a href="#åŸºæœ¬ä¿¡æ¯æŸ¥è¯¢å‘½ä»¤" class="table-of-contents__link">åŸºæœ¬ä¿¡æ¯æŸ¥è¯¢å‘½ä»¤</a></li><li><a href="#å½•åˆ¶å‘½ä»¤" class="table-of-contents__link">å½•åˆ¶å‘½ä»¤</a></li><li><a href="#åˆ†è§£å¤ç”¨å‘½ä»¤" class="table-of-contents__link">åˆ†è§£/å¤ç”¨å‘½ä»¤</a></li><li><a href="#å¤„ç†åŸå§‹æ•°æ®å‘½ä»¤" class="table-of-contents__link">å¤„ç†åŸå§‹æ•°æ®å‘½ä»¤</a></li><li><a href="#è£å‰ªä¸åˆå¹¶å‘½ä»¤" class="table-of-contents__link">è£å‰ªä¸åˆå¹¶å‘½ä»¤</a></li><li><a href="#å›¾ç‰‡è§†é¢‘äº’è½¬å‘½ä»¤" class="table-of-contents__link">å›¾ç‰‡/è§†é¢‘äº’è½¬å‘½ä»¤</a></li><li><a href="#ç›´æ’­ç›¸å…³å‘½ä»¤" class="table-of-contents__link">ç›´æ’­ç›¸å…³å‘½ä»¤</a></li><li><a href="#æ»¤é•œå‘½ä»¤" class="table-of-contents__link">æ»¤é•œå‘½ä»¤</a></li></ul></li><li><a href="#apiä½¿ç”¨ç¯‡" class="table-of-contents__link">APIä½¿ç”¨ç¯‡</a><ul><li><a href="#å·¥å…·-libavutil" class="table-of-contents__link">å·¥å…·-libavutil</a></li><li><a href="#å°è£…-libavformat" class="table-of-contents__link">å°è£…-libavformat</a></li><li><a href="#ç¼–è§£ç -libavcodec" class="table-of-contents__link">ç¼–è§£ç -libavcodec</a></li><li><a href="#æ»¤é•œ-libavfilter" class="table-of-contents__link">æ»¤é•œ-libavfilter</a></li><li><a href="#è®¾å¤‡ç›¸å…³-libavdevice" class="table-of-contents__link">è®¾å¤‡ç›¸å…³-libavdevice</a></li><li><a href="#é‡é‡‡æ ·-libavresample" class="table-of-contents__link">é‡é‡‡æ ·-libavresample</a></li><li><a href="#libavswresample" class="table-of-contents__link">libavswresample</a></li><li><a href="#libavswrescale" class="table-of-contents__link">libavswrescale</a></li></ul></li><li><a href="#ffplay" class="table-of-contents__link">ffplay</a><ul><li><a href="#ffplay-æ’­æ”¾yuv" class="table-of-contents__link">ffplay æ’­æ”¾yuv</a></li></ul></li><li><a href="#åˆçº§å¼€å‘" class="table-of-contents__link">åˆçº§å¼€å‘</a><ul><li><a href="#ffmpegæ—¥å¿—åŠç›®å½•æ“ä½œ" class="table-of-contents__link">FFmpegæ—¥å¿—åŠç›®å½•æ“ä½œ</a></li><li><a href="#ffmpegåŸºæœ¬æ¦‚å¿µå’Œå¸¸ç”¨ç»“æ„ä½“" class="table-of-contents__link">FFmpegåŸºæœ¬æ¦‚å¿µå’Œå¸¸ç”¨ç»“æ„ä½“</a></li><li><a href="#å¤ç”¨è§£å¤ç”¨æµæ“ä½œ" class="table-of-contents__link">å¤ç”¨/è§£å¤ç”¨,æµæ“ä½œ</a></li></ul></li><li><a href="#å‚è€ƒæ–‡æ¡£" class="table-of-contents__link">å‚è€ƒæ–‡æ¡£</a></li></ul></div></div></div></div></main></div></div><footer class="footer footer--dark"><div class="container"><div class="row footer__links"><div class="col footer__col"><h4 class="footer__title">Docs</h4><ul class="footer__items"><li class="footer__item"><a class="footer__link-item" href="/docs/">Style Guide</a></li><li class="footer__item"><a class="footer__link-item" href="/docs/">Second Doc</a></li></ul></div><div class="col footer__col"><h4 class="footer__title">Community</h4><ul class="footer__items"><li class="footer__item"><a href="https://stackoverflow.com/questions/tagged/docusaurus" target="_blank" rel="noopener noreferrer" class="footer__link-item">Stack Overflow</a></li><li class="footer__item"><a href="https://discordapp.com/invite/docusaurus" target="_blank" rel="noopener noreferrer" class="footer__link-item">Discord</a></li><li class="footer__item"><a href="https://twitter.com/docusaurus" target="_blank" rel="noopener noreferrer" class="footer__link-item">Twitter</a></li></ul></div><div class="col footer__col"><h4 class="footer__title">More</h4><ul class="footer__items"><li class="footer__item"><a class="footer__link-item" href="/blog">Blog</a></li><li class="footer__item"><a href="https://github.com/facebook/docusaurus" target="_blank" rel="noopener noreferrer" class="footer__link-item">GitHub</a></li></ul></div></div><div class="footer__bottom text--center"><div class="footer__copyright">Copyright Â© 2021 My Project, Inc. Built with Docusaurus.</div></div></div></footer></div>
<script src="/styles.65a50636.js"></script>
<script src="/runtime~main.b175e2de.js"></script>
<script src="/main.777b260c.js"></script>
<script src="/1.5f7a006f.js"></script>
<script src="/260.fc337f83.js"></script>
<script src="/261.cd474b1f.js"></script>
<script src="/935f2afb.42cf00cb.js"></script>
<script src="/259.fa9b4b3b.js"></script>
<script src="/ec34eea2.7ee08189.js"></script>
</body>
</html>