<!doctype html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width,initial-scale=1">
<meta name="generator" content="Docusaurus v2.0.0-alpha.70">
<link rel="alternate" type="application/rss+xml" href="/blog/rss.xml" title="My Site Blog RSS Feed">
<link rel="alternate" type="application/atom+xml" href="/blog/atom.xml" title="My Site Blog Atom Feed"><title data-react-helmet="true">C标准库 | My Site</title><meta data-react-helmet="true" name="twitter:card" content="summary_large_image"><meta data-react-helmet="true" name="docusaurus_locale" content="en"><meta data-react-helmet="true" name="docusaurus_version" content="current"><meta data-react-helmet="true" name="docusaurus_tag" content="docs-default-current"><meta data-react-helmet="true" property="og:title" content="C标准库 | My Site"><meta data-react-helmet="true" name="description" content="C标准库"><meta data-react-helmet="true" property="og:description" content="C标准库"><meta data-react-helmet="true" property="og:url" content="http://localhost:9999//docs/编程语言/C/C标准库"><link data-react-helmet="true" rel="shortcut icon" href="/img/favicon.ico"><link data-react-helmet="true" rel="canonical" href="http://localhost:9999//docs/编程语言/C/C标准库"><link rel="stylesheet" href="/styles.8cfbcdec.css">
<link rel="preload" href="/styles.aaa24a49.js" as="script">
<link rel="preload" href="/runtime~main.7eeb3d64.js" as="script">
<link rel="preload" href="/main.7a041c89.js" as="script">
<link rel="preload" href="/1.62b3ea65.js" as="script">
<link rel="preload" href="/257.bb7ed37e.js" as="script">
<link rel="preload" href="/258.ed1b30f8.js" as="script">
<link rel="preload" href="/935f2afb.55f5968c.js" as="script">
<link rel="preload" href="/256.a7530d90.js" as="script">
<link rel="preload" href="/d119319e.6a7a7001.js" as="script">
</head>
<body>
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){var t=null;try{t=localStorage.getItem("theme")}catch(t){}return t}();t(null!==e?e:"light")}()</script><div id="__docusaurus">
<nav aria-label="Skip navigation links"><button type="button" tabindex="0" class="skipToContent_11B0">Skip to main content</button></nav><nav class="navbar navbar--fixed-top"><div class="navbar__inner"><div class="navbar__items"><div aria-label="Navigation bar toggle" class="navbar__toggle" role="button" tabindex="0"><svg aria-label="Menu" width="30" height="30" viewBox="0 0 30 30" role="img" focusable="false"><title>Menu</title><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></div><a class="navbar__brand" href="/"><img src="/img/logo.svg" alt="My Site Logo" class="themedImage_YANc themedImage--light_3CMI navbar__logo"><img src="/img/logo.svg" alt="My Site Logo" class="themedImage_YANc themedImage--dark_3ARp navbar__logo"><strong class="navbar__title">My Site</strong></a><a class="navbar__item navbar__link" href="/docs/">编程基础</a><a aria-current="page" class="navbar__item navbar__link navbar__link--active" href="/docs/编程语言/编程语言">编程语言</a><a class="navbar__item navbar__link" href="/docs/工具/常用工具">工具</a><a class="navbar__item navbar__link" href="/docs/应用开发/应用开发">应用开发</a><a class="navbar__item navbar__link" href="/docs/Apple/iOS开发/iOS开发">Apple</a><a class="navbar__item navbar__link" href="/docs/音视频/音视频">音视频</a><a class="navbar__item navbar__link" href="/docs/项目/项目">项目</a></div><div class="navbar__items navbar__items--right"><div class="react-toggle react-toggle--disabled displayOnlyInLargeViewport_2N3Q"><div class="react-toggle-track"><div class="react-toggle-track-check"><span class="toggle_3NWk">🌜</span></div><div class="react-toggle-track-x"><span class="toggle_3NWk">🌞</span></div></div><div class="react-toggle-thumb"></div><input type="checkbox" disabled="" aria-label="Dark mode toggle" class="react-toggle-screenreader-only"></div><div class="navbar__search"><span aria-label="expand searchbar" role="button" class="search-icon" tabindex="0"></span><input type="search" id="search_input_react" placeholder="Search" aria-label="Search" class="navbar__search-input search-bar"></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div><div class="navbar-sidebar"><div class="navbar-sidebar__brand"><a class="navbar__brand" href="/"><img src="/img/logo.svg" alt="My Site Logo" class="themedImage_YANc themedImage--light_3CMI navbar__logo"><img src="/img/logo.svg" alt="My Site Logo" class="themedImage_YANc themedImage--dark_3ARp navbar__logo"><strong class="navbar__title">My Site</strong></a></div><div class="navbar-sidebar__items"><div class="menu"><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" href="/docs/">编程基础</a></li><li class="menu__list-item"><a aria-current="page" class="menu__link navbar__link--active" href="/docs/编程语言/编程语言">编程语言</a></li><li class="menu__list-item"><a class="menu__link" href="/docs/工具/常用工具">工具</a></li><li class="menu__list-item"><a class="menu__link" href="/docs/应用开发/应用开发">应用开发</a></li><li class="menu__list-item"><a class="menu__link" href="/docs/Apple/iOS开发/iOS开发">Apple</a></li><li class="menu__list-item"><a class="menu__link" href="/docs/音视频/音视频">音视频</a></li><li class="menu__list-item"><a class="menu__link" href="/docs/项目/项目">项目</a></li></ul></div></div></div></nav><div class="main-wrapper"><div class="docPage_vMrn"><main class="docMainContainer_2iGs"><div class="container padding-vert--lg docItemWrapper_1bxp"><div class="row"><div class="col docItemCol_U38p"><div class="docItemContainer_a7m4"><article><header><h1 class="docTitle_Oumm">C标准库</h1></header><div class="markdown"><h1><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_prK2" id="c标准库"></a>C标准库<a class="hash-link" href="#c标准库" title="Direct link to heading">#</a></h1><p>[toc]</p><p>dash  文档：</p><p><img alt="image-20210714143510972" src="/assets/images/image-20210714143510972-0a9e913d758ed5e3516a74237df3e0eb.png"></p><p>C95之前标准头文件包括：</p><div class="mdxCodeBlock_1zKU"><div class="codeBlockContent_actS"><div tabindex="0" class="prism-code language-javascript codeBlock_tuNs thin-scrollbar"><div class="codeBlockLines_3uvA" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">asset</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token property-access">h</span><span class="token plain">      ctype</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token property-access">h</span><span class="token plain">       errno</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token property-access">h</span><span class="token plain">       float</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token property-access">h</span><span class="token plain">  </span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">limits</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token property-access">h</span><span class="token plain">      locale</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token property-access">h</span><span class="token plain">       math</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token property-access">h</span><span class="token plain">        setjmp</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token property-access">h</span><span class="token plain"> </span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">signal</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token property-access">h</span><span class="token plain">     stdarg</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token property-access">h</span><span class="token plain">      stddef</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token property-access">h</span><span class="token plain">      stdlib</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token property-access">h</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">stdio</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token property-access">h</span><span class="token plain">      string</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token property-access">h</span><span class="token plain">        time</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token property-access">h</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_2GIj">Copy</button></div></div><p>这些标准头文件是久经考验，且最常用的15个头文件。</p><p>其中高频部分必须掌握。</p><p>论我们包含哪个标准头文件</p><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_prK2" id="一、标准定义（stddefh）"></a>一、标准定义（<em>stddef.h</em>）<a class="hash-link" href="#一、标准定义（stddefh）" title="Direct link to heading">#</a></h2><p>文件stddef.h里包含了标准库的一些常用定义，无论我们包含哪个标准头文件，stddef.h都会被自动包含进来。</p><p>这个文件里定义：</p><p><strong>类型size_t</strong>   （sizeof运算符的结果类型，是某个无符号整型）；</p><ol><li>标准库中大量使用size_t。特别是有关数组的部分。</li><li>可移植性问题，每一个标准C实现应该选择足够大的无符号整形来代表该平台上最大可能出现的对象大小。16位的机器用64位标识大小，降低性能，64位机器用16位标识大小，不够用。所以：具体平台应该具体实现。</li><li>根据定义，size_t是sizeof关键字（注：sizeof是关键字，并非运算符）运算结果的类型。所以，应当通过适当的方式声明n来完成赋值：</li></ol><p>注意：sizeof一个数组会返回数组的字节数。</p><p>参数中带有size_t的函数通常会含有局部变量用来对数组的大小或者索引进行计算，在这种情况下，size_t是个不错的选择。
　　适当地使用size_t还会使你的代码变得如同自带文档。<strong>当你看到一个对象声明为size_t类型，你马上就知道它代表字节大小或数组索引，</strong>而不是错误代码或者是一个普通的算术值。</p><p> 从名字size_t也能看出是大小的类型 size 的type。所以标识字节大小。</p><p>参考：</p><ul><li><a href="https://jeremybai.github.io/blog/2014/09/10/size-t" target="_blank" rel="noopener noreferrer">为什么size_t重要？（Why size_t matters）</a></li><li><a href="https://www.zhihu.com/question/24773728" target="_blank" rel="noopener noreferrer">size_t 这个类型的意义是什么？</a></li></ul><p><strong>类型ptrdiff_t</strong>（两个指针相减运算的结果类型，是某个有符号整型）；</p><p>ptrdiff_t是C/C++标准库中定义的一个与机器相关的<a href="http://baike.baidu.com/view/675645.htm" target="_blank" rel="noopener noreferrer">数据类型</a>。ptrdiff_t类型<a href="http://baike.baidu.com/view/296689.htm" target="_blank" rel="noopener noreferrer">变量</a>通常用来保存两个<a href="http://baike.baidu.com/view/159417.htm" target="_blank" rel="noopener noreferrer">指针</a>减法操作的结果。</p><p><code>ptrdiff_t</code> is used for pointer arithmetic and array indexing, if negative values are possible. </p><p>If an array is so large (greater than [PTRDIFF_MAX](dfile:///Users/dingyusong/Library/Application Support/Dash/DocSets/C/C.docset/Contents/Resources/Documents/en.cppreference.com/w/c/types/limits.html) elements, but less than [SIZE_MAX](dfile:///Users/dingyusong/Library/Application Support/Dash/DocSets/C/C.docset/Contents/Resources/Documents/en.cppreference.com/w/c/types/limits.html) bytes), that the difference between two pointers may not be representable as <code>ptrdiff_t</code>, the result of subtracting two such pointers is undefined.</p><p>For char arrays shorter than [PTRDIFF_MAX](dfile:///Users/dingyusong/Library/Application Support/Dash/DocSets/C/C.docset/Contents/Resources/Documents/en.cppreference.com/w/c/types/limits.html), <code>ptrdiff_t</code> acts as the signed counterpart of [size_t](dfile:///Users/dingyusong/Library/Application Support/Dash/DocSets/C/C.docset/Contents/Resources/Documents/en.cppreference.com/w/c/types/size_t.html): it can store the size of the array of any type and is, on most platforms, synonymous with <code>intptr_t</code>).</p><ul><li><p>如果数组特别大，超过了PTRDIFF_MAX。则不能用 <code>ptrdiff_t</code></p></li><li><p>在大部分平台类似intptr_t。</p></li></ul><p> 参考：</p><ul><li><a href="https://www.cnblogs.com/youxin/p/3281107.html" target="_blank" rel="noopener noreferrer">c++ ptrdiff_t 类型</a></li></ul><p><strong>类型wchar_t</strong>  （宽字符类型，是一个整型，其中足以存放本系统所支持的所有本地环境中的字符集的所有编码值。这里还保证空字符的编码值为0）；</p><p>wchar_t 是C/C++的字符类型，一种扩展的存储方式，主要用在国际化程序的实现中。</p><p>char是8位字符类型，最多能包含256种字符，许多的外文字符集所包含的字符数目超过256个，char型不能表示。</p><p>比如对于汉字，韩文以及日文这样的字符，它们的每一个文字都占据两个字节，所以C++提出了wchar_t类型，也称为双字节类型，或宽字符类型。</p><p>参考：<a href="https://blog.csdn.net/Doutd_y/article/details/81745901" target="_blank" rel="noopener noreferrer">https://blog.csdn.net/Doutd_y/article/details/81745901</a></p><p><strong>符号常量NULL</strong>  （空指针值）；</p><p><strong>宏offsetor</strong>   （这是一个带参数的宏，第一个参数应是一个结构类型，第二个参数应是结构成员名。</p><div class="mdxCodeBlock_1zKU"><div class="codeBlockContent_actS"><div tabindex="0" class="prism-code language-c codeBlock_tuNs thin-scrollbar"><div class="codeBlockLines_3uvA" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token function" style="color:rgb(130, 170, 255)">offsetor</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token plain">s</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain">m</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_2GIj">Copy</button></div></div><p>求出成员m在结构类型t的变量里的偏移量）。</p><p>  注：其中有些定义也出现在其他头文件里（如NULL）。</p><p>注意：offset是byte的偏移和大小，不是字节，size_t是字节的偏移和大小，ptrdiff_t是指针的偏移和大
小</p><ul><li>为什么stddef在glibc中找不到？</li></ul><p><a href="https://stackoverflow.com/questions/37158651/why-is-stddef-h-not-in-usr-include/37158767" target="_blank" rel="noopener noreferrer">https://stackoverflow.com/questions/37158651/why-is-stddef-h-not-in-usr-include/37158767</a></p><p>That&#x27;s because files under <code>/usr/include</code> are common headers that provided by the C library, for example, <code>glibc</code>, while the files at <code>/usr/lib/gcc</code> are specific for that particular compiler. It is common that each compiler has their own different implementation of <code>stddef.h</code>, but they will use the same <code>stdio.h</code> when links to the installed C library.</p><p>这个头文件和编译器相关，所以放在了编译器的源码里。</p><p>glibc：源码里面没有找到。</p><p>gcc ： gcc/ginclude/stddef.h</p><p>llvm：clang/lib/Headers/stddef.h</p><p>我们写一个程序，除了库之外，编译器也必不可少。所以这个头文件，无论如何不会少。</p><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_prK2" id="二、错误信息（errnoh）"></a>二、错误信息（<em>errno.h</em>）<a class="hash-link" href="#二、错误信息（errnoh）" title="Direct link to heading">#</a></h2><p>errno.h定义了一个<em>int</em>类型的表达式<em>errno</em>，可以看作一个变量，其初始值为<em>0</em>，一些标准库函数执行中出错时将它设为非<em>0</em>值，但任何标准库函数都设置它为<em>0</em>。</p><p> <em>errno.h</em>里还定义了两个宏<em>EDOM</em>和<em>ERANGE</em>，都是非<em>0</em>的整数值。数学函数执行中遇到参数错误，就会将<em>errno</em>置为<em>EDOM</em>，如出现值域错误就会将<em>errno</em>置为<em>ERANGE</em>。</p><p>errno 是记录系统的最后一次错误代码。代码是一个int型的值，在errno.h中定义。查看错误代码errno是调试程序的一个重要方法。当linux C api函数发生异常时,一般会将errno变量(需include errno.h)赋一个整数值,不同的值表示不同的含义,可以通过查看该值推测出错的原因。在实际编程中用这一招解决了不少原本看来莫名其妙的问题。</p><p> 参考：</p><ul><li><a href="https://www.cnblogs.com/Jimmy1988/p/7485133.html" target="_blank" rel="noopener noreferrer">Linux errno详解</a></li></ul><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_prK2" id="三、输入输出函数（stdioh）"></a>三、输入输出函数（<em>stdio.h</em>）<a class="hash-link" href="#三、输入输出函数（stdioh）" title="Direct link to heading">#</a></h2><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_prK2" id="文件打开和关闭"></a>文件打开和关闭<a class="hash-link" href="#文件打开和关闭" title="Direct link to heading">#</a></h3><div class="mdxCodeBlock_1zKU"><div class="codeBlockContent_actS"><div tabindex="0" class="prism-code language-c codeBlock_tuNs thin-scrollbar"><div class="codeBlockLines_3uvA" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">FILE </span><span class="token operator" style="color:rgb(137, 221, 255)">*</span><span class="token function" style="color:rgb(130, 170, 255)">fopen</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token keyword" style="font-style:italic">const</span><span class="token plain"> </span><span class="token keyword" style="font-style:italic">char</span><span class="token plain"> </span><span class="token operator" style="color:rgb(137, 221, 255)">*</span><span class="token plain">filename</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> </span><span class="token keyword" style="font-style:italic">const</span><span class="token plain"> </span><span class="token keyword" style="font-style:italic">char</span><span class="token plain"> </span><span class="token operator" style="color:rgb(137, 221, 255)">*</span><span class="token plain">mode</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token keyword" style="font-style:italic">int</span><span class="token plain"> </span><span class="token function" style="color:rgb(130, 170, 255)">fclose</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token plain">FILE </span><span class="token operator" style="color:rgb(137, 221, 255)">*</span><span class="token plain"> stream</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_2GIj">Copy</button></div></div><p>文件操作有标准的操作步骤：</p><ul><li>文件类型 FILE *file</li><li>打开文件 FILE *fopen(path,mode)</li><li>关闭文件 fclose(FILE *)</li></ul><p>注意重置指针的位置。</p><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_prK2" id="字符输入输出"></a>字符输入输出<a class="hash-link" href="#字符输入输出" title="Direct link to heading">#</a></h3><div class="mdxCodeBlock_1zKU"><div class="codeBlockContent_actS"><div tabindex="0" class="prism-code language-c codeBlock_tuNs thin-scrollbar"><div class="codeBlockLines_3uvA" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token keyword" style="font-style:italic">int</span><span class="token plain"> </span><span class="token function" style="color:rgb(130, 170, 255)">fgetc</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token plain">FILE </span><span class="token operator" style="color:rgb(137, 221, 255)">*</span><span class="token plain">fp</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token keyword" style="font-style:italic">int</span><span class="token plain"> </span><span class="token function" style="color:rgb(130, 170, 255)">fputc</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token keyword" style="font-style:italic">int</span><span class="token plain"> c</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> FILE </span><span class="token operator" style="color:rgb(137, 221, 255)">*</span><span class="token plain">fp</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_2GIj">Copy</button></div></div><p>   getc和putc与这两个函数类似，但通过宏定义实现。通常有下面定义：</p><div class="mdxCodeBlock_1zKU"><div class="codeBlockContent_actS"><div tabindex="0" class="prism-code language-c codeBlock_tuNs thin-scrollbar"><div class="codeBlockLines_3uvA" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token macro property">#</span><span class="token macro property directive keyword" style="font-style:italic">define</span><span class="token macro property"> getchar()  getc(stdin)</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token macro property">#</span><span class="token macro property directive keyword" style="font-style:italic">define</span><span class="token macro property"> putchar(c) putc(c, stdout)</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token keyword" style="font-style:italic">int</span><span class="token plain"> </span><span class="token function" style="color:rgb(130, 170, 255)">ungetc</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token keyword" style="font-style:italic">int</span><span class="token plain"> c</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> FILE</span><span class="token operator" style="color:rgb(137, 221, 255)">*</span><span class="token plain"> stream</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain">  </span><span class="token comment" style="color:rgb(105, 112, 152);font-style:italic">//把字符 c 退回流 stream</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_2GIj">Copy</button></div></div><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_prK2" id="格式化输入输出"></a>格式化输入输出<a class="hash-link" href="#格式化输入输出" title="Direct link to heading">#</a></h3><p>int scanf(const char *format, ...);</p><p>int printf(const char *format, ...);</p><p>int fscanf(FILE <em>stream, const char </em>format, ...);</p><p>int fprintf(FILE <em>stream, const char </em>format, ...);</p><p><a href="https://www.runoob.com/cprogramming/c-function-sscanf.html" target="_blank" rel="noopener noreferrer">int sscanf(char <em>s, const char </em>format, ...);</a></p><p>int sprintf(char <em>s, const char </em>format, ...);</p><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_prK2" id="行式输入输出"></a>行式输入输出<a class="hash-link" href="#行式输入输出" title="Direct link to heading">#</a></h3><div class="mdxCodeBlock_1zKU"><div class="codeBlockContent_actS"><div tabindex="0" class="prism-code language-c codeBlock_tuNs thin-scrollbar"><div class="codeBlockLines_3uvA" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token keyword" style="font-style:italic">char</span><span class="token plain"> </span><span class="token operator" style="color:rgb(137, 221, 255)">*</span><span class="token function" style="color:rgb(130, 170, 255)">fgets</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token keyword" style="font-style:italic">char</span><span class="token plain"> </span><span class="token operator" style="color:rgb(137, 221, 255)">*</span><span class="token plain">buffer</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> </span><span class="token keyword" style="font-style:italic">int</span><span class="token plain"> n</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> FILE </span><span class="token operator" style="color:rgb(137, 221, 255)">*</span><span class="token plain">stream</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token keyword" style="font-style:italic">int</span><span class="token plain"> </span><span class="token function" style="color:rgb(130, 170, 255)">fputs</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token keyword" style="font-style:italic">const</span><span class="token plain"> </span><span class="token keyword" style="font-style:italic">char</span><span class="token plain"> </span><span class="token operator" style="color:rgb(137, 221, 255)">*</span><span class="token plain">buffer</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> FILE </span><span class="token operator" style="color:rgb(137, 221, 255)">*</span><span class="token plain">stream</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token keyword" style="font-style:italic">char</span><span class="token plain"> </span><span class="token operator" style="color:rgb(137, 221, 255)">*</span><span class="token function" style="color:rgb(130, 170, 255)">gets</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token keyword" style="font-style:italic">char</span><span class="token plain"> </span><span class="token operator" style="color:rgb(137, 221, 255)">*</span><span class="token plain">s</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token keyword" style="font-style:italic">int</span><span class="token plain"> </span><span class="token function" style="color:rgb(130, 170, 255)">puts</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token keyword" style="font-style:italic">const</span><span class="token plain"> </span><span class="token keyword" style="font-style:italic">char</span><span class="token plain"> </span><span class="token operator" style="color:rgb(137, 221, 255)">*</span><span class="token plain">s</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_2GIj">Copy</button></div></div><ul><li><p>fputs</p><p>把字符串写入到指定的流 stream 中，但不包括空字符。</p></li></ul><div class="mdxCodeBlock_1zKU"><div class="codeBlockContent_actS"><div tabindex="0" class="prism-code language-c codeBlock_tuNs thin-scrollbar"><div class="codeBlockLines_3uvA" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token function" style="color:rgb(130, 170, 255)">fputs</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token string" style="color:rgb(195, 232, 141)">&quot;MATH_ERRNO is &quot;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> </span><span class="token constant" style="color:rgb(130, 170, 255)">stdout</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token comment" style="color:rgb(105, 112, 152);font-style:italic">//将 “MATH_ERRNO is ” 输出到stdout</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_2GIj">Copy</button></div></div><p><a href="https://www.runoob.com/cprogramming/c-function-fputs.html" target="_blank" rel="noopener noreferrer">https://www.runoob.com/cprogramming/c-function-fputs.html</a></p><ul><li><p>puts</p><p>是对fputs的封装。</p></li></ul><div class="mdxCodeBlock_1zKU"><div class="codeBlockContent_actS"><div tabindex="0" class="prism-code language-undefined codeBlock_tuNs thin-scrollbar"><div class="codeBlockLines_3uvA" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">Writes every character from the null-terminated string str and one additional newline character &#x27;\n&#x27; to the output stream stdout, as if by repeatedly executing fputc.</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">The terminating null character from str is not written.</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_2GIj">Copy</button></div></div><p>并且添加上了\n</p><p>直接输入输出：</p><div class="mdxCodeBlock_1zKU"><div class="codeBlockContent_actS"><div tabindex="0" class="prism-code language-c codeBlock_tuNs thin-scrollbar"><div class="codeBlockLines_3uvA" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">size_t </span><span class="token function" style="color:rgb(130, 170, 255)">fread</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token keyword" style="font-style:italic">void</span><span class="token plain"> </span><span class="token operator" style="color:rgb(137, 221, 255)">*</span><span class="token plain">pointer</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> size_t size</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> size_t num</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> FILE </span><span class="token operator" style="color:rgb(137, 221, 255)">*</span><span class="token plain">stream</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">size_t </span><span class="token function" style="color:rgb(130, 170, 255)">fwrite</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token keyword" style="font-style:italic">const</span><span class="token plain"> </span><span class="token keyword" style="font-style:italic">void</span><span class="token plain"> </span><span class="token operator" style="color:rgb(137, 221, 255)">*</span><span class="token plain">pointer</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> size_t size</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> size_t num</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> FILE </span><span class="token operator" style="color:rgb(137, 221, 255)">*</span><span class="token plain">stream</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_2GIj">Copy</button></div></div><p>打印到终端有几种方式</p><ol><li><code>printf(&quot;hello world&quot;)</code></li><li><code>puts(&quot;hello world&quot;)</code>//自带换行</li><li><code>fprintf(stdout, &quot;hello world&quot;)</code> <code>fprintf(stderr, &quot;hello world&quot;)</code></li></ol><p>读入读出，都先到一个中介数组中。</p><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_prK2" id="四、数学函数（mathh）"></a>四、数学函数（<em>math.h</em>）<a class="hash-link" href="#四、数学函数（mathh）" title="Direct link to heading">#</a></h2><p>三角函数：</p><table><thead><tr><th align="left">三角函数</th><th align="left">sin</th><th align="left">cos</th><th align="left">tan</th></tr></thead><tbody><tr><td align="left">反三角函数</td><td align="left">asin</td><td align="left">acos</td><td align="left">atan</td></tr><tr><td align="left">双曲函数</td><td align="left">sinh</td><td align="left">cosh</td><td align="left">tanh</td></tr></tbody></table><p>指数和对数函数：</p><table><thead><tr><th align="left">以e为底的指数函数</th><th align="left">exp</th></tr></thead><tbody><tr><td align="left">自然对数函数</td><td align="left">log</td></tr><tr><td align="left">以10为底的对数函数</td><td align="left">log10</td></tr></tbody></table><p>其他函数：</p><table><thead><tr><th align="left">平方根</th><th align="left">sqrt</th></tr></thead><tbody><tr><td align="left">绝对值</td><td align="left">fabs</td></tr><tr><td align="left">乘幂，第一个参数作为底，第二个是指数</td><td align="left">double pow(double, double)</td></tr><tr><td align="left">实数的余数，两个参数分别是被除数和除数</td><td align="left">double fmod(double, double)</td></tr></tbody></table><p>注：所有上面未给出类型特征的函数都取一个参数，其参数与返回值都是double类型。</p><p>下面函数返回双精度值（包括函数ceil和floor）。在下表里，除其中有特别说明的参数之外，所有函数的其他参数都是double类型。</p><table><thead><tr><th align="left">函数原型</th><th align="left">意义解释</th></tr></thead><tbody><tr><td align="left">ceil(x)</td><td align="left">求出不小于x的最小整数（返回与这个整数对应的double值）</td></tr><tr><td align="left">floor(x)</td><td align="left">求出不大于x的最大整数（返回与这个整数对应的double值）</td></tr><tr><td align="left">atan2(y, x)</td><td align="left">求出 tan-1(y/x)，其值的范围是[-pai,pai]</td></tr><tr><td align="left">ldexp(x, int n)</td><td align="left">求出x*2n</td></tr><tr><td align="left">frexp(x, int *exp)</td><td align="left">把 x分解为 y<em>2n， 是位于区间 [1/2,1)里的一个小数，作为函数结果返回，整数n 通过指针</em>exp返回（应提供一个int变量地址）。当x 为0时这两个结果的值都是0</td></tr><tr><td align="left">modf(x, double*ip)</td><td align="left">把x分解为小数部分和整数部分，小数部分作为函数返回值，整数部分通过指针*ip返回。</td></tr></tbody></table><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_prK2" id="五、字符处理函数（ctypeh）"></a>五、字符处理函数（<em>ctype.h</em>）<a class="hash-link" href="#五、字符处理函数（ctypeh）" title="Direct link to heading">#</a></h2><p>见下表：</p><table><thead><tr><th align="left">int isalpha(c)</th><th align="left">c是字母字符</th></tr></thead><tbody><tr><td align="left">int isdigit(c)</td><td align="left">c是数字字符</td></tr><tr><td align="left">int isalnum(c)</td><td align="left">c是字母或数字字符</td></tr><tr><td align="left">int isspace(c)</td><td align="left">c是空格、制表符、换行符</td></tr><tr><td align="left">int isupper(c)</td><td align="left">c是大写字母</td></tr><tr><td align="left">int islower(c)</td><td align="left">c是小写字母</td></tr><tr><td align="left">int iscntrl(c)</td><td align="left">c是控制字符</td></tr><tr><td align="left">int isprint(c)</td><td align="left">c是可打印字符，包括空格</td></tr><tr><td align="left">int isgraph(c)</td><td align="left">c是可打印字符，不包括空格</td></tr><tr><td align="left">int isxdigit(c)</td><td align="left">c是十六进制数字字符</td></tr><tr><td align="left">int ispunct(c)</td><td align="left">c是标点符号</td></tr><tr><td align="left">int tolower(int c)</td><td align="left">当c是大写字母时返回对应小写字母，否则返回c本身</td></tr><tr><td align="left">int toupper(int c)</td><td align="left">当c是小写字母时返回对应大写字母，否则返回c本身</td></tr></tbody></table><p>注：条件成立时这些函数返回非<em>0</em>值。最后两个转换函数对于非字母参数返回原字符。</p><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_prK2" id="六、字符串函数（stringh）"></a>六、字符串函数（<em>string.h</em>）<a class="hash-link" href="#六、字符串函数（stringh）" title="Direct link to heading">#</a></h2><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_prK2" id="字符串函数"></a>字符串函数<a class="hash-link" href="#字符串函数" title="Direct link to heading">#</a></h3><p>​    所有字符串函数列在下表里，函数描述采用如下约定：s、t表示 (char <em>)类型的参数，cs、ct表示(const char</em>)类型的参数（它们都应表示字符串）。n表示size_t类型的参数（size_t是一个无符号的整数类型），c是整型参数（在函数里转换到char）：</p><table><thead><tr><th align="left">函数原型</th><th align="left">意义解释</th></tr></thead><tbody><tr><td align="left">size_t strlen(cs)</td><td align="left">求出cs的长度</td></tr><tr><td align="left">char *strcpy(s,ct)</td><td align="left">把ct复制到s。要求s指定足够大的字符数组</td></tr><tr><td align="left">char *strncpy(s,ct,n)</td><td align="left">把ct里的至多n个字符复制到s。要求s指定一个足够大的字符数组。如果ct里的字符不够n个，就在s里填充空字符。</td></tr><tr><td align="left">char *strcat(s,ct)</td><td align="left">把ct里的字符复制到s里已有的字符串之后。s应指定一个保存着字符串，而且足够大的字符数组。</td></tr><tr><td align="left">char *strncat(s,ct,n)</td><td align="left">把ct里的至多n个字符复制到s里已有的字符串之后。s应指定一个保存着字符串，而且足够大的字符数组。</td></tr><tr><td align="left"><a href="https://www.runoob.com/cprogramming/c-function-strcmp.html" target="_blank" rel="noopener noreferrer">int strcmp(cs,ct)</a></td><td align="left">比较字符串cs和ct的大小，在cs大于、等于、小于ct时分别返回正值、0、负值。</td></tr><tr><td align="left">int strncmp(cs,ct,n)</td><td align="left">比较字符串cs和ct的大小，至多比较n个字符。在cs大于、等于、小于ct时分别返回正值、0、负值。</td></tr><tr><td align="left">char *strchr(cs,c)</td><td align="left">在cs中查寻c并返回c第一个出现的位置，用指向这个位置的指针表示。当cs里没有c时返回值NULL</td></tr><tr><td align="left">char *strrchr(cs,c)</td><td align="left">在cs中查寻c并返回c最后一个出现的位置，没有时返回NULL</td></tr><tr><td align="left">size_t strspn(cs,ct)</td><td align="left">由cs起确定一段全由ct里的字符组成的序列，返回其长度</td></tr><tr><td align="left">size_t strcspn(cs,ct)</td><td align="left">由cs起确定一段全由非ct里的字符组成的序列，返回其长度</td></tr><tr><td align="left">char *strpbrk(cs,ct)</td><td align="left">在cs里查寻ct里的字符，返回第一个满足条件的字符出现的位置，没有时返回NULL</td></tr><tr><td align="left">char *strstr(cs,ct)</td><td align="left">在cs中查寻串ct（查询子串），返回ct作为cs的子串的第一个出现的位置，ct未出现在cs里时返回NULL</td></tr><tr><td align="left">char *strerror(n)</td><td align="left">返回与错误编号n相关的错误信息串（指向该错误信息串的指针）</td></tr><tr><td align="left"><a href="https://www.runoob.com/cprogramming/c-function-strtok.html" target="_blank" rel="noopener noreferrer">char *strtok(s,ct)</a></td><td align="left">在s中查寻由ct中的字符作为分隔符而形成的单词</td></tr></tbody></table><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_prK2" id="存储区操作"></a>存储区操作<a class="hash-link" href="#存储区操作" title="Direct link to heading">#</a></h3><p>​    string.h还有一组字符数组操作函数（存储区操作函数），名字都以mem开头，以某种高效方式实现。在下面原型中，参数s和t的类型是(void <em>)，cs和ct的类型是(const void </em>)，n的类型是size_t，c的类型是int（转换为unsigned char）。</p><table><thead><tr><th align="left">函数原型</th><th align="left">意义解释</th></tr></thead><tbody><tr><td align="left">void *memcpy(s,ct,n)</td><td align="left">从ct处复制n个字符到s处，返回s</td></tr><tr><td align="left">void *memmove(s,ct,n)</td><td align="left">从ct处复制n个字符到s处，返回s，这里的两个段允许重叠</td></tr><tr><td align="left">int memcmp(cs,ct,n)</td><td align="left">比较由cs和ct开始的n个字符，返回值定义同strcmp</td></tr><tr><td align="left">void *memchr(cs,c,n)</td><td align="left">在n个字符的范围内查寻c在cs中的第一次出现，如果找到，返回该位置的指针值，否则返回NULL</td></tr><tr><td align="left">void *memset(s,c,n)</td><td align="left">将s的前n个字符设置为c，返回s</td></tr></tbody></table><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_prK2" id="七、功能函数（stdlibh）"></a>七、功能函数（stdlib.h）<a class="hash-link" href="#七、功能函数（stdlibh）" title="Direct link to heading">#</a></h2><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_prK2" id="随机数函数"></a>随机数函数<a class="hash-link" href="#随机数函数" title="Direct link to heading">#</a></h3><table><thead><tr><th align="left">函数原型</th><th align="left">意义解释</th></tr></thead><tbody><tr><td align="left">int rand(void)</td><td align="left">生成一个0到RAND_MAX的随机整数</td></tr><tr><td align="left">void srand(unsigned seed)</td><td align="left">用seed为随后的随机数生成设置种子值</td></tr></tbody></table><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_prK2" id="动态存储分配函数"></a>动态存储分配函数<a class="hash-link" href="#动态存储分配函数" title="Direct link to heading">#</a></h3><table><thead><tr><th align="left">函数原型</th><th align="left">意义解释</th></tr></thead><tbody><tr><td align="left">void *calloc(size_t n, size_t size)</td><td align="left">分配一块存储，其中足以存放n个大小为size的对象，并将所有字节用0字符填充。返回该存储块的地址。不能满足时返回NULL</td></tr><tr><td align="left">void *malloc(size_t size)</td><td align="left">分配一块足以存放大小为size的存储，返回该存储块的地址，不能满足时返回NULL</td></tr><tr><td align="left">void <em>realloc(void </em>p, size_t size)</td><td align="left">将p所指存储块调整为大小size，返回新块的地址。如能满足要求，新块的内容与原块一致；不能满足要求时返回NULL，此时原块不变</td></tr><tr><td align="left">void free(void *p)</td><td align="left">释放以前分配的动态存储块</td></tr></tbody></table><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_prK2" id="几个整数函数"></a>几个整数函数<a class="hash-link" href="#几个整数函数" title="Direct link to heading">#</a></h3><p>​    几个简单的整数函数见下表，div_t和ldiv_t是两个预定义结构类型，用于存放整除时得到的商和余数。div_t类型的成分是int类型的quot和rem，ldiv_t类型的成分是long类型的quot和rem。</p><table><thead><tr><th align="left">函数原型</th><th align="left">意义解释</th></tr></thead><tbody><tr><td align="left">int abs(int n)</td><td align="left">求整数的绝对值</td></tr><tr><td align="left">long labs(long n)</td><td align="left">求长整数的绝对值</td></tr><tr><td align="left">div_t div(int n, int m)</td><td align="left">求n/m，商和余数分别存放到结果结构的对应成员里</td></tr><tr><td align="left">ldiv_t ldiv(long n, long m)</td><td align="left">同上，参数为长整数</td></tr></tbody></table><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_prK2" id="数值转换"></a>数值转换<a class="hash-link" href="#数值转换" title="Direct link to heading">#</a></h3><table><thead><tr><th align="left">函数原型</th><th align="left">意义解释</th></tr></thead><tbody><tr><td align="left">double atof(const char *s)</td><td align="left">由串s构造一个双精度值</td></tr><tr><td align="left">int atoi(const char *s)</td><td align="left">由串s构造一个整数值</td></tr><tr><td align="left">long atol(const char *s)</td><td align="left">由串s构造一个长整数值</td></tr></tbody></table><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_prK2" id="执行控制"></a>执行控制<a class="hash-link" href="#执行控制" title="Direct link to heading">#</a></h3><p><em>1</em>）非正常终止函数abort。</p><p>​         原型是： </p><div class="mdxCodeBlock_1zKU"><div class="codeBlockContent_actS"><div tabindex="0" class="prism-code language-c codeBlock_tuNs thin-scrollbar"><div class="codeBlockLines_3uvA" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token keyword" style="font-style:italic">void</span><span class="token plain"> </span><span class="token function" style="color:rgb(130, 170, 255)">abort</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token keyword" style="font-style:italic">void</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_2GIj">Copy</button></div></div><p><em>2</em>）正常终止函数exit。</p><p>​         原型是：</p><div class="mdxCodeBlock_1zKU"><div class="codeBlockContent_actS"><div tabindex="0" class="prism-code language-c codeBlock_tuNs thin-scrollbar"><div class="codeBlockLines_3uvA" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token keyword" style="font-style:italic">void</span><span class="token plain"> </span><span class="token function" style="color:rgb(130, 170, 255)">exit</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token keyword" style="font-style:italic">int</span><span class="token plain"> status</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_2GIj">Copy</button></div></div><p>   导致程序按正常方式立即终止。status作为送给执行环境的出口值，<em>0</em>表示成功结束，两个可用的常数为EXIT_SUCCESS，EXIT_FAILURE。</p><p><em>3</em>）正常终止注册函数atexit。</p><p>​         原型是：</p><div class="mdxCodeBlock_1zKU"><div class="codeBlockContent_actS"><div tabindex="0" class="prism-code language-c codeBlock_tuNs thin-scrollbar"><div class="codeBlockLines_3uvA" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token keyword" style="font-style:italic">int</span><span class="token plain"> </span><span class="token function" style="color:rgb(130, 170, 255)">atexit</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token keyword" style="font-style:italic">void</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token operator" style="color:rgb(137, 221, 255)">*</span><span class="token plain">fcn</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token keyword" style="font-style:italic">void</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_2GIj">Copy</button></div></div><p>   可用本函数把一些函数注册为结束动作。被注册函数应当是无参无返回值的函数。注册正常完成时atexit返回值<em>0</em>，否则返回非零值。</p><p>与执行环境交互</p><p><em>1</em>）向执行环境传送命令的函数system。</p><p>​            原型是：</p><div class="mdxCodeBlock_1zKU"><div class="codeBlockContent_actS"><div tabindex="0" class="prism-code language-c codeBlock_tuNs thin-scrollbar"><div class="codeBlockLines_3uvA" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token keyword" style="font-style:italic">int</span><span class="token plain"> </span><span class="token function" style="color:rgb(130, 170, 255)">system</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token keyword" style="font-style:italic">const</span><span class="token plain"> </span><span class="token keyword" style="font-style:italic">char</span><span class="token plain"> </span><span class="token operator" style="color:rgb(137, 221, 255)">*</span><span class="token plain">s</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_2GIj">Copy</button></div></div><p>   把串s传递给程序的执行环境要求作为系统命令执行。如以NULL为参数调用，函数返回非<em>0</em>表示环境里有命令解释器。如果s不是NULL，返回值由实现确定。</p><p><em>2</em>）访问执行环境的函数getenv。</p><p>​           原型是：</p><div class="mdxCodeBlock_1zKU"><div class="codeBlockContent_actS"><div tabindex="0" class="prism-code language-c codeBlock_tuNs thin-scrollbar"><div class="codeBlockLines_3uvA" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token keyword" style="font-style:italic">char</span><span class="token plain"> </span><span class="token operator" style="color:rgb(137, 221, 255)">*</span><span class="token function" style="color:rgb(130, 170, 255)">getenv</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token keyword" style="font-style:italic">const</span><span class="token plain"> </span><span class="token keyword" style="font-style:italic">char</span><span class="token plain"> </span><span class="token operator" style="color:rgb(137, 221, 255)">*</span><span class="token plain">s</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_2GIj">Copy</button></div></div><p>   从执行环境中取回与字符串s相关联的环境串。如果找不到就返回NULL。本函数的具体结果由实现确定。在许多执行环境里，可以用这个函数去查看“环境变量”的值。</p><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_prK2" id="bsearch和qsort"></a>bsearch和qsort<a class="hash-link" href="#bsearch和qsort" title="Direct link to heading">#</a></h3><p><em>1</em>）二分法查找函数bsearch：</p><div class="mdxCodeBlock_1zKU"><div class="codeBlockContent_actS"><div tabindex="0" class="prism-code language-c codeBlock_tuNs thin-scrollbar"><div class="codeBlockLines_3uvA" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token keyword" style="font-style:italic">void</span><span class="token plain"> </span><span class="token operator" style="color:rgb(137, 221, 255)">*</span><span class="token function" style="color:rgb(130, 170, 255)">bsearch</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token keyword" style="font-style:italic">const</span><span class="token plain"> </span><span class="token keyword" style="font-style:italic">void</span><span class="token plain"> </span><span class="token operator" style="color:rgb(137, 221, 255)">*</span><span class="token plain">key</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> </span><span class="token keyword" style="font-style:italic">const</span><span class="token plain"> </span><span class="token keyword" style="font-style:italic">void</span><span class="token plain"> </span><span class="token operator" style="color:rgb(137, 221, 255)">*</span><span class="token plain">base</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> size_t n</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> size_t size</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> </span><span class="token keyword" style="font-style:italic">int</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token operator" style="color:rgb(137, 221, 255)">*</span><span class="token plain">cmp</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token keyword" style="font-style:italic">const</span><span class="token plain"> </span><span class="token keyword" style="font-style:italic">void</span><span class="token plain"> </span><span class="token operator" style="color:rgb(137, 221, 255)">*</span><span class="token plain">keyval</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> </span><span class="token keyword" style="font-style:italic">const</span><span class="token plain"> </span><span class="token keyword" style="font-style:italic">void</span><span class="token plain"> </span><span class="token operator" style="color:rgb(137, 221, 255)">*</span><span class="token plain">datum</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_2GIj">Copy</button></div></div><p>   函数指针参数cmp的实参应是一个与字符串比较函数strcmp类似的函数，确定排序的顺序，当第一个参数keyval比第二个参数datum大、相等或小时分别返回正、零或负值。</p><p><em>2</em>）快速排序函数qsort：</p><div class="mdxCodeBlock_1zKU"><div class="codeBlockContent_actS"><div tabindex="0" class="prism-code language-c codeBlock_tuNs thin-scrollbar"><div class="codeBlockLines_3uvA" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token keyword" style="font-style:italic">void</span><span class="token plain"> </span><span class="token function" style="color:rgb(130, 170, 255)">qsort</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token keyword" style="font-style:italic">void</span><span class="token plain"> </span><span class="token operator" style="color:rgb(137, 221, 255)">*</span><span class="token plain">base</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> size_t n</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> size_t size</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> </span><span class="token keyword" style="font-style:italic">int</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token operator" style="color:rgb(137, 221, 255)">*</span><span class="token plain">cmp</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token keyword" style="font-style:italic">const</span><span class="token plain"> </span><span class="token keyword" style="font-style:italic">void</span><span class="token plain"> </span><span class="token operator" style="color:rgb(137, 221, 255)">*</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> </span><span class="token keyword" style="font-style:italic">const</span><span class="token plain"> </span><span class="token keyword" style="font-style:italic">void</span><span class="token plain"> </span><span class="token operator" style="color:rgb(137, 221, 255)">*</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_2GIj">Copy</button></div></div><p>   qsort对于比较函数cmp的要求与bsearch一样。设有数组base[0],...,base[n-1]，元素大小为size。用qsort可以把这个数组的元素按cmp确定的上升顺序重新排列。</p><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_prK2" id="参考文档"></a>参考文档<a class="hash-link" href="#参考文档" title="Direct link to heading">#</a></h2><ul><li><a href="https://cloud.tencent.com/developer/article/1671656" target="_blank" rel="noopener noreferrer">C语言中常用的标准库函数有哪些？</a></li></ul><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_prK2" id="常用函数-必须掌握"></a>常用函数-必须掌握<a class="hash-link" href="#常用函数-必须掌握" title="Direct link to heading">#</a></h3><ul><li><a href="https://cloud.tencent.com/developer/article/1671656" target="_blank" rel="noopener noreferrer">C语言中常用的标准库函数有哪些？</a></li></ul><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_prK2" id="c标准库-1"></a>C标准库<a class="hash-link" href="#c标准库-1" title="Direct link to heading">#</a></h2><p>%08lX具体什么意思</p><p>表示用8位数字表达一个十六进制指针地址，格式为0x1234ABCD，如果长度不足8位用前导0表示。L表示整型,x表示16进制（小写），X表示16进制（大写）</p><p>%08lX -- %08LX
输出格式，十六进制输出，大写字母和数字，共8位，不足8位，左边补0。</p><ul><li><code>stdlib.h</code></li></ul><div class="mdxCodeBlock_1zKU"><div class="codeBlockContent_actS"><div tabindex="0" class="prism-code language-undefined codeBlock_tuNs thin-scrollbar"><div class="codeBlockLines_3uvA" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">abort()</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_2GIj">Copy</button></div></div><p>C 库函数 <strong>void abort(void)</strong> 中止程序执行，直接从调用的地方跳出。</p><p><a href="https://www.runoob.com/cprogramming/c-function-abort.html" target="_blank" rel="noopener noreferrer">https://www.runoob.com/cprogramming/c-function-abort.html</a></p><p>目前最新标准是c99</p><p><a href="https://www.gnu.org/software/gcc/" target="_blank" rel="noopener noreferrer">https://www.gnu.org/software/gcc/</a></p><p><a href="https://www.gnu.org/software/gcc/c99status.html" target="_blank" rel="noopener noreferrer">https://www.gnu.org/software/gcc/c99status.html</a></p><p>标准文档：</p><p><a href="http://www.open-std.org/jtc1/sc22/wg14/www/docs/n1256.pdf" target="_blank" rel="noopener noreferrer">http://www.open-std.org/jtc1/sc22/wg14/www/docs/n1256.pdf</a></p><p><a href="https://www.gwduan.com/web/computer/languages/c/c99.pdf" target="_blank" rel="noopener noreferrer">c99.pdf</a></p><p><a href="https://www.gwduan.com/web/computer/languages/c/cstd.html" target="_blank" rel="noopener noreferrer">https://www.gwduan.com/web/computer/languages/c/cstd.html</a></p><p>c标准库参考：</p><p><a href="https://www.gwduan.com/web/computer/languages/c/clib.html" target="_blank" rel="noopener noreferrer">https://www.gwduan.com/web/computer/languages/c/clib.html</a></p><p><a href="https://www.runoob.com/cprogramming/c-standard-library.html" target="_blank" rel="noopener noreferrer">https://www.runoob.com/cprogramming/c-standard-library.html</a></p><ul><li><a href="https://www.cnblogs.com/findumars/p/9000371.html" target="_blank" rel="noopener noreferrer">什么是 C 和 C ++ 标准库？</a></li></ul><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_prK2" id="标准的定制："></a>标准的定制：<a class="hash-link" href="#标准的定制：" title="Direct link to heading">#</a></h3><p><a href="https://www.iso.org/" target="_blank" rel="noopener noreferrer">国际标准化组织</a>(ISO)的一大群人每年都会聚集几次来讨论和定义语言规则。没错，C和C++是标准化的东西。他们最终都会得到一本官方的叫标准的书，你可以从他们的网站中购买。随着语言的发展新的papers（指官方的叫标准的书）会被发布，每一次都定义一个新的标准。这就是为什么我们会有不同的C和C++版本的原因：C99, C11, C++03, C++11, C++14等等，数字与出版/发布年份相符。</p><ul><li>C标准库</li></ul><p>C标准库也称为ISO C库，是用于完成诸如输入/输出处理、字符串处理、内存管理、数学计算和许多其他操作系统服务等任务的宏、类型和函数的集合。它是在C标准中（例如C11标准）中定义的。其内容分布在不同的头文件中，比如上面我所提到的math.h。</p><ul><li>C++标准库</li></ul><p>和C标准库的概念类似，但仅针对C ++。C++标准库是一组C++模板类，它提供了通用的编程数据结构和函数，如链表、堆、数组、算法、迭代器和任何其他你可以想到的C++组件。C ++标准库也包含了C标准库，并在C++标准中进行了定义（例如C++ 11标准）。</p><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_prK2" id="标准的实现："></a>标准的实现：<a class="hash-link" href="#标准的实现：" title="Direct link to heading">#</a></h3><p>不同的平台有不同的实现。</p><h4><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_prK2" id="gnulinux版实现"></a>GNU/Linux版实现<a class="hash-link" href="#gnulinux版实现" title="Direct link to heading">#</a></h4><p>GNU C库，也称为glibc, 是C标准库的GNU项目实现。并非所有的标准C函数都可以在glibc中找到：大多数数学函数实际上是在libm库中实现的，这是一个独立的库。</p><p>截至今天，glibc是Linux上使用最广泛的C库。 然而，在90年代期间，有一段时间里，glibc有一个竞争对手称为Linux libc（或者简称libc），它是由glibc 1.x的一个分支产生的。在一段时间里，Linux libc是许多Linux发行版中的标准C库。</p><p>经过多年的发展，glibc竟然比Linux libc更具优势，并且所有使用它的Linux发行版都切换回了glibc。所以，如果你在你的磁盘中找到一个名为libc.so.6的文件，请不要担心：它是现代版的glibc。为了避免与之前的Linux libc版本混淆，版本号增加到了6（他们无法将其命名为glibc.so.6：所有Linux库都必须以lib前缀打头）。</p><p>另一方面，C++标准库的实现位于libstdc++或GNU标准C++库中。这是一个正在进行的在GNU/Linux上实现标准C++库的项目。一般来说，所有常规的Linux发行版都默认使用libstdc++。</p><h4><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_prK2" id="mac和ios版实现"></a>Mac和iOS版实现<a class="hash-link" href="#mac和ios版实现" title="Direct link to heading">#</a></h4><p>在Mac和iOS上，C标准库的实现是libSystem的一部分，libSystem是位于/usr/lib/libSystem.dylib中的核心库。LibSystem包含其他组件，如数学库、线程库和其他底层实用程序。</p><p>关于C++标准库，在OS X Mavericks（V10.9）之前的Mac上，libstdc++是默认选项。这在现代的基于Linux的系统上可以找到的同样的实现。自OS X Mavericks开始，Apple切换到使用libc++，这是LLVM项目——Mac官方编译器框架——所引入的GNU libstdc++标准库的替代。</p><p>IOS开发者可以使用iOS SDK（软件开发工具包）来访问标准库，它是一系列允许创建移动应用程序的工具。</p><h4><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_prK2" id="windows版实现"></a>Windows版实现<a class="hash-link" href="#windows版实现" title="Direct link to heading">#</a></h4><p>在Windows上，标准库的实现一直严格限定在Visual Studio中，它是微软官方的编译器。他们通常称之为C/C++运行时库（CRT），并且它涵盖了c/c++二者的实现。</p><p>在最开始，CRT被实现为CRTDLL.DLL库（我猜，当时没有可用的C++标准库）。从Windows 95开始，Microsoft开始将其迁移到MSVCRT [版本号] .DLL（MSVCR20.DLL，MSVCR70.DLL等）之上，据推测也包含C++标准库。在1997年左近，他们决定将文件名简化为MSVCRT.DLL，这不幸导致了令人讨厌的<a href="https://blogs.msdn.microsoft.com/oldnewthing/20140411-00/?p=1273" target="_blank" rel="noopener noreferrer">DLL混乱</a>。这就是为什么从Visual Studio 7.0版开始，他们切换回每个版本使用单独的DLL了。</p><p>Visual Studio 2015引入了深度的CRT重构。C/C ++标准库的实现迁移到一个新库，Universal C运行时库 (Universal CRT或UCRT)，编译为UCRTBASE.DLL。 UCRT目前已经成为Windows组之一，从Windows 10开始作为操作系统的一部分提供。</p><h4><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_prK2" id="android版实现"></a>Android版实现<a class="hash-link" href="#android版实现" title="Direct link to heading">#</a></h4><p>Bionic是Google为其Android操作系统所编写的C标准库实现，它直接在底层使用。 第三方开发者可以通过Android原生开发工具包（NDK）访问Bionic，该工具集允许你使用C和C++代码编写Android应用程序。</p><p>在 C++ 端, NDK提供了很多版本的实现：</p><ul><li>libc++，从从Lollipop开始的官方安卓系统和现代Mac操作系统都将其作为C++标准库使用。从NDK发布17版本开始，它将成为NDK中唯一可用的C++标准库实现；</li><li>gnustl，libstdc++的别名，这两者在GNU/linux是同一个库。这个库的已被弃用，它将在NDK发布18中删除；</li><li>STLport，由STLport项目编写的C++标准库的第三方实现，自2008年以来一直处于不活跃状态。与gnustl一样，STLport将在NDK发布18中移除。</li></ul><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_prK2" id="可以不使用标准库吗？"></a>可以不使用标准库吗？<a class="hash-link" href="#可以不使用标准库吗？" title="Direct link to heading">#</a></h3><p>可以。不使用标准库很简单：只要在你的程序中不引入它们的任何一个头文件，你的工作就完成了。然而，为了让这个操作更有意义一些，你需要通过一些提供的系统调用使用某种方法与操作系统互动。就像我之前说的，这就是标准库中的函数/方法在底层实现的时候所使用的。很可能你也会不得不调用这些方法来与硬件设备交互。比如，如果你调用了print，那么久表明你使用了c标准库。</p><p>C++ 标准：</p><p><a href="http://www.open-std.org/jtc1/sc22/wg21/docs/standards" target="_blank" rel="noopener noreferrer">http://www.open-std.org/jtc1/sc22/wg21/docs/standards</a></p><p><a href="http://www.open-std.org/jtc1/sc22/wg21/docs/papers/2011/n3242.pdf" target="_blank" rel="noopener noreferrer">http://www.open-std.org/jtc1/sc22/wg21/docs/papers/2011/n3242.pdf</a></p><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_prK2" id="stdlibh"></a>Stdlib.h<a class="hash-link" href="#stdlibh" title="Direct link to heading">#</a></h3><p>C 库函数 - malloc()</p><p>描述
C 库函数 void *malloc(size_t size) 分配所需的内存空间，并返回一个指向它的指针。</p><p>声明
下面是 malloc() 函数的声明。</p><div class="mdxCodeBlock_1zKU"><div class="codeBlockContent_actS"><div tabindex="0" class="prism-code language-undefined codeBlock_tuNs thin-scrollbar"><div class="codeBlockLines_3uvA" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">void *malloc(size_t size)</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_2GIj">Copy</button></div></div><p>参数</p><div class="mdxCodeBlock_1zKU"><div class="codeBlockContent_actS"><div tabindex="0" class="prism-code language-undefined codeBlock_tuNs thin-scrollbar"><div class="codeBlockLines_3uvA" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">size -- 内存块的大小，以字节为单位。</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_2GIj">Copy</button></div></div><p>返回值
该函数返回一个指针 ，指向已分配大小的内存。如果请求失败，则返回 NULL。</p><p>返回值
该函数返回一个指针 ，指向已分配大小的内存。如果请求失败，则返回 NULL。</p><div class="mdxCodeBlock_1zKU"><div class="codeBlockContent_actS"><div tabindex="0" class="prism-code language-objc codeBlock_tuNs thin-scrollbar"><div class="codeBlockLines_3uvA" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">    int width = (int)CVPixelBufferGetWidth(pixelBuffer);</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    int height = (int)CVPixelBufferGetHeight(pixelBuffer);</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    void *src_y = CVPixelBufferGetBaseAddressOfPlane(pixelBuffer, 0);</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    void *src_uv = CVPixelBufferGetBaseAddressOfPlane(pixelBuffer, 1);</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    int src_stride_y = (int)CVPixelBufferGetBytesPerRowOfPlane(pixelBuffer, 0);</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    int src_stride_uv = (int)CVPixelBufferGetBytesPerRowOfPlane(pixelBuffer, 1);</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    void *i420 = malloc(width * height * 2);</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_2GIj">Copy</button></div></div><p>注意malloc以字节为单位。</p><h1><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_prK2" id="格式化输入输出-1"></a>格式化输入输出<a class="hash-link" href="#格式化输入输出-1" title="Direct link to heading">#</a></h1><p><a href="https://en.cppreference.com/w/c/io/fprintf" target="_blank" rel="noopener noreferrer">https://en.cppreference.com/w/c/io/fprintf</a></p><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_prK2" id="唯一参考"></a>唯一参考<a class="hash-link" href="#唯一参考" title="Direct link to heading">#</a></h2><p>C99标准 7.19.6 小节。<strong>7.19.6 Formatted input/output functions</strong></p><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_prK2" id="唯一参考-1"></a>唯一参考<a class="hash-link" href="#唯一参考-1" title="Direct link to heading">#</a></h2><p>C99标准 7.19.6 小节。<strong>7.19.6 Formatted input/output functions</strong></p><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_prK2" id="断言"></a>断言<a class="hash-link" href="#断言" title="Direct link to heading">#</a></h2><p>assert</p><p><strong>用法总结与注意事项：</strong></p><p>  　　1. 在函数开始处检验传入参数的合法性</p><p>如：</p><div class="mdxCodeBlock_1zKU"><div class="codeBlockContent_actS"><div tabindex="0" class="prism-code language-undefined codeBlock_tuNs thin-scrollbar"><div class="codeBlockLines_3uvA" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">int resetBufferSize(int nNewSize)</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">{</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">　　//功能:改变缓冲区大小,</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">　　//参数:nNewSize 缓冲区新长度</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">　　//返回值:缓冲区当前长度 </span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">　　//说明:保持原信息内容不变     nNewSize&lt;=0表示清除缓冲区</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">　　assert(nNewSize &gt;= 0);</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">　　assert(nNewSize &lt;= MAX_BUFFER_SIZE);</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">　　...</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">}</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_2GIj">Copy</button></div></div><p>  　　2. 每个assert只检验一个条件</p><p>因为同时检验多个条件时，如果断言失败，无法直观的判断是哪个条件失败，如：</p><p>　　不好：</p><div class="mdxCodeBlock_1zKU"><div class="codeBlockContent_actS"><div tabindex="0" class="prism-code language-undefined codeBlock_tuNs thin-scrollbar"><div class="codeBlockLines_3uvA" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">assert(nOffset&gt;=0 &amp;&amp; nOffset+nSize&lt;=m_nInfomationSize);</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_2GIj">Copy</button></div></div><p>　　好：</p><div class="mdxCodeBlock_1zKU"><div class="codeBlockContent_actS"><div tabindex="0" class="prism-code language-undefined codeBlock_tuNs thin-scrollbar"><div class="codeBlockLines_3uvA" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">assert(nOffset &gt;= 0);</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">assert(nOffset+nSize &lt;= m_nInfomationSize);</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_2GIj">Copy</button></div></div><ol start="3"><li><p>不能使用改变环境的语句</p><p>因为assert只在DEBUG个生效，如果这么做，会使用程序在真正运行时遇到问题，如：</p></li></ol><p>　　错误：</p><div class="mdxCodeBlock_1zKU"><div class="codeBlockContent_actS"><div tabindex="0" class="prism-code language-undefined codeBlock_tuNs thin-scrollbar"><div class="codeBlockLines_3uvA" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">assert(i++ &lt; 100);</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_2GIj">Copy</button></div></div><p>　　这是因为如果出错，比如在执行之前i=100，那么这条语句就不会执行，那么i++这条命令就没有执行。</p><p>　　正确：</p><div class="mdxCodeBlock_1zKU"><div class="codeBlockContent_actS"><div tabindex="0" class="prism-code language-undefined codeBlock_tuNs thin-scrollbar"><div class="codeBlockLines_3uvA" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain"> assert(i &lt; 100);</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"> i++;</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_2GIj">Copy</button></div></div><p>  　　4. assert和后面的语句应空一行，以形成逻辑和视觉上的一致感。</p><p>  　　5. 有的地方，assert不能代替条件过滤。</p><p>参考：<a href="https://www.cnblogs.com/ggzss/archive/2011/08/18/2145017.html" target="_blank" rel="noopener noreferrer">assert()函数用法总结</a></p><p>_Static_assert</p><p>为静态断言：编译时检查。整形常量表达式。</p><div class="mdxCodeBlock_1zKU"><div class="codeBlockContent_actS"><div tabindex="0" class="prism-code language-undefined codeBlock_tuNs thin-scrollbar"><div class="codeBlockLines_3uvA" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">_Static_assert(CHAR_BIT == 16, &quot;16-bit char falsely assumed&quot;)</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_2GIj">Copy</button></div></div><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_prK2" id="c-库宏-可变参数取值"></a>C 库宏-可变参数取值<a class="hash-link" href="#c-库宏-可变参数取值" title="Direct link to heading">#</a></h2><p><a href="https://www.runoob.com/cprogramming/c-macro-va_start.html" target="_blank" rel="noopener noreferrer">https://www.runoob.com/cprogramming/c-macro-va_start.html</a></p><p>stdarg.h</p><p>下面是 va_start() 宏的声明。</p><div class="mdxCodeBlock_1zKU"><div class="codeBlockContent_actS"><div tabindex="0" class="prism-code language-undefined codeBlock_tuNs thin-scrollbar"><div class="codeBlockLines_3uvA" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">void va_start(va_list ap, last_arg);</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_2GIj">Copy</button></div></div><p>参数</p><ul><li><strong>ap</strong> -- 这是一个 <strong>va_list</strong> 类型的对象，它用来存储通过 <strong>va_arg</strong> 获取额外参数时所必需的信息。</li><li><strong>last_arg</strong> -- 最后一个传递给函数的已知的固定参数。</li></ul><p><strong>argv arguments vector</strong>:参数列表</p><p><strong>argc arguments count</strong>: 参数个数</p></div></article><div class="margin-vert--xl"><div class="row"><div class="col"><a href="dys-typora-open://mine/survival/docs/编程语言/C/C标准库.md" target="_blank" rel="noreferrer noopener"><svg fill="currentColor" height="1.2em" width="1.2em" preserveAspectRatio="xMidYMid meet" role="img" viewBox="0 0 40 40" class="iconEdit_2LL7"><g><path d="m34.5 11.7l-3 3.1-6.3-6.3 3.1-3q0.5-0.5 1.2-0.5t1.1 0.5l3.9 3.9q0.5 0.4 0.5 1.1t-0.5 1.2z m-29.5 17.1l18.4-18.5 6.3 6.3-18.4 18.4h-6.3v-6.2z"></path></g></svg>Edit this page</a></div></div></div><div class="margin-vert--lg"><nav class="pagination-nav" aria-label="Blog list page navigation"><div class="pagination-nav__item"></div><div class="pagination-nav__item pagination-nav__item--next"></div></nav></div></div></div><div class="col col--3"><div class="tableOfContents_2xL- thin-scrollbar"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#一、标准定义（stddefh）" class="table-of-contents__link">一、标准定义（<em>stddef.h</em>）</a></li><li><a href="#二、错误信息（errnoh）" class="table-of-contents__link">二、错误信息（<em>errno.h</em>）</a></li><li><a href="#三、输入输出函数（stdioh）" class="table-of-contents__link">三、输入输出函数（<em>stdio.h</em>）</a><ul><li><a href="#文件打开和关闭" class="table-of-contents__link">文件打开和关闭</a></li><li><a href="#字符输入输出" class="table-of-contents__link">字符输入输出</a></li><li><a href="#格式化输入输出" class="table-of-contents__link">格式化输入输出</a></li><li><a href="#行式输入输出" class="table-of-contents__link">行式输入输出</a></li></ul></li><li><a href="#四、数学函数（mathh）" class="table-of-contents__link">四、数学函数（<em>math.h</em>）</a></li><li><a href="#五、字符处理函数（ctypeh）" class="table-of-contents__link">五、字符处理函数（<em>ctype.h</em>）</a></li><li><a href="#六、字符串函数（stringh）" class="table-of-contents__link">六、字符串函数（<em>string.h</em>）</a><ul><li><a href="#字符串函数" class="table-of-contents__link">字符串函数</a></li><li><a href="#存储区操作" class="table-of-contents__link">存储区操作</a></li></ul></li><li><a href="#七、功能函数（stdlibh）" class="table-of-contents__link">七、功能函数（stdlib.h）</a><ul><li><a href="#随机数函数" class="table-of-contents__link">随机数函数</a></li><li><a href="#动态存储分配函数" class="table-of-contents__link">动态存储分配函数</a></li><li><a href="#几个整数函数" class="table-of-contents__link">几个整数函数</a></li><li><a href="#数值转换" class="table-of-contents__link">数值转换</a></li><li><a href="#执行控制" class="table-of-contents__link">执行控制</a></li><li><a href="#bsearch和qsort" class="table-of-contents__link">bsearch和qsort</a></li></ul></li><li><a href="#参考文档" class="table-of-contents__link">参考文档</a><ul><li><a href="#常用函数-必须掌握" class="table-of-contents__link">常用函数-必须掌握</a></li></ul></li><li><a href="#c标准库-1" class="table-of-contents__link">C标准库</a><ul><li><a href="#标准的定制：" class="table-of-contents__link">标准的定制：</a></li><li><a href="#标准的实现：" class="table-of-contents__link">标准的实现：</a></li><li><a href="#可以不使用标准库吗？" class="table-of-contents__link">可以不使用标准库吗？</a></li><li><a href="#stdlibh" class="table-of-contents__link">Stdlib.h</a></li></ul></li><li><a href="#唯一参考" class="table-of-contents__link">唯一参考</a></li><li><a href="#唯一参考-1" class="table-of-contents__link">唯一参考</a></li><li><a href="#断言" class="table-of-contents__link">断言</a></li><li><a href="#c-库宏-可变参数取值" class="table-of-contents__link">C 库宏-可变参数取值</a></li></ul></div></div></div></div></main></div></div><footer class="footer footer--dark"><div class="container"><div class="row footer__links"><div class="col footer__col"><h4 class="footer__title">Docs</h4><ul class="footer__items"><li class="footer__item"><a class="footer__link-item" href="/docs/">Style Guide</a></li><li class="footer__item"><a class="footer__link-item" href="/docs/">Second Doc</a></li></ul></div><div class="col footer__col"><h4 class="footer__title">Community</h4><ul class="footer__items"><li class="footer__item"><a href="https://stackoverflow.com/questions/tagged/docusaurus" target="_blank" rel="noopener noreferrer" class="footer__link-item">Stack Overflow</a></li><li class="footer__item"><a href="https://discordapp.com/invite/docusaurus" target="_blank" rel="noopener noreferrer" class="footer__link-item">Discord</a></li><li class="footer__item"><a href="https://twitter.com/docusaurus" target="_blank" rel="noopener noreferrer" class="footer__link-item">Twitter</a></li></ul></div><div class="col footer__col"><h4 class="footer__title">More</h4><ul class="footer__items"><li class="footer__item"><a class="footer__link-item" href="/blog">Blog</a></li><li class="footer__item"><a href="https://github.com/facebook/docusaurus" target="_blank" rel="noopener noreferrer" class="footer__link-item">GitHub</a></li></ul></div></div><div class="footer__bottom text--center"><div class="footer__copyright">Copyright © 2021 My Project, Inc. Built with Docusaurus.</div></div></div></footer></div>
<script src="/styles.aaa24a49.js"></script>
<script src="/runtime~main.7eeb3d64.js"></script>
<script src="/main.7a041c89.js"></script>
<script src="/1.62b3ea65.js"></script>
<script src="/257.bb7ed37e.js"></script>
<script src="/258.ed1b30f8.js"></script>
<script src="/935f2afb.55f5968c.js"></script>
<script src="/256.a7530d90.js"></script>
<script src="/d119319e.6a7a7001.js"></script>
</body>
</html>