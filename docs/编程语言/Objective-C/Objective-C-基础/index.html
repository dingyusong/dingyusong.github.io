<!doctype html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width,initial-scale=1">
<meta name="generator" content="Docusaurus v2.0.0-alpha.70">
<link rel="alternate" type="application/rss+xml" href="/blog/rss.xml" title="My Site Blog RSS Feed">
<link rel="alternate" type="application/atom+xml" href="/blog/atom.xml" title="My Site Blog Atom Feed"><title data-react-helmet="true">Objective-C-åŸºç¡€ | My Site</title><meta data-react-helmet="true" name="twitter:card" content="summary_large_image"><meta data-react-helmet="true" name="docusaurus_locale" content="en"><meta data-react-helmet="true" name="docusaurus_version" content="current"><meta data-react-helmet="true" name="docusaurus_tag" content="docs-default-current"><meta data-react-helmet="true" property="og:title" content="Objective-C-åŸºç¡€ | My Site"><meta data-react-helmet="true" name="description" content="title: Objective-C"><meta data-react-helmet="true" property="og:description" content="title: Objective-C"><meta data-react-helmet="true" property="og:url" content="http://localhost:9999//docs/ç¼–ç¨‹è¯­è¨€/Objective-C/Objective-C-åŸºç¡€"><link data-react-helmet="true" rel="shortcut icon" href="/img/favicon.ico"><link data-react-helmet="true" rel="canonical" href="http://localhost:9999//docs/ç¼–ç¨‹è¯­è¨€/Objective-C/Objective-C-åŸºç¡€"><link rel="stylesheet" href="/styles.8cfbcdec.css">
<link rel="preload" href="/styles.aaa24a49.js" as="script">
<link rel="preload" href="/runtime~main.7eeb3d64.js" as="script">
<link rel="preload" href="/main.7a041c89.js" as="script">
<link rel="preload" href="/1.62b3ea65.js" as="script">
<link rel="preload" href="/257.bb7ed37e.js" as="script">
<link rel="preload" href="/258.ed1b30f8.js" as="script">
<link rel="preload" href="/935f2afb.55f5968c.js" as="script">
<link rel="preload" href="/256.a7530d90.js" as="script">
<link rel="preload" href="/d44fe28d.4951b4b5.js" as="script">
</head>
<body>
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){var t=null;try{t=localStorage.getItem("theme")}catch(t){}return t}();t(null!==e?e:"light")}()</script><div id="__docusaurus">
<nav aria-label="Skip navigation links"><button type="button" tabindex="0" class="skipToContent_11B0">Skip to main content</button></nav><nav class="navbar navbar--fixed-top"><div class="navbar__inner"><div class="navbar__items"><div aria-label="Navigation bar toggle" class="navbar__toggle" role="button" tabindex="0"><svg aria-label="Menu" width="30" height="30" viewBox="0 0 30 30" role="img" focusable="false"><title>Menu</title><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></div><a class="navbar__brand" href="/"><img src="/img/logo.svg" alt="My Site Logo" class="themedImage_YANc themedImage--light_3CMI navbar__logo"><img src="/img/logo.svg" alt="My Site Logo" class="themedImage_YANc themedImage--dark_3ARp navbar__logo"><strong class="navbar__title">My Site</strong></a><a class="navbar__item navbar__link" href="/docs/">ç¼–ç¨‹åŸºç¡€</a><a aria-current="page" class="navbar__item navbar__link navbar__link--active" href="/docs/ç¼–ç¨‹è¯­è¨€/ç¼–ç¨‹è¯­è¨€">ç¼–ç¨‹è¯­è¨€</a><a class="navbar__item navbar__link" href="/docs/å·¥å…·/å¸¸ç”¨å·¥å…·">å·¥å…·</a><a class="navbar__item navbar__link" href="/docs/åº”ç”¨å¼€å‘/åº”ç”¨å¼€å‘">åº”ç”¨å¼€å‘</a><a class="navbar__item navbar__link" href="/docs/Apple/iOSå¼€å‘/iOSå¼€å‘">Apple</a><a class="navbar__item navbar__link" href="/docs/éŸ³è§†é¢‘/éŸ³è§†é¢‘">éŸ³è§†é¢‘</a><a class="navbar__item navbar__link" href="/docs/é¡¹ç›®/é¡¹ç›®">é¡¹ç›®</a></div><div class="navbar__items navbar__items--right"><div class="react-toggle react-toggle--disabled displayOnlyInLargeViewport_2N3Q"><div class="react-toggle-track"><div class="react-toggle-track-check"><span class="toggle_3NWk">ğŸŒœ</span></div><div class="react-toggle-track-x"><span class="toggle_3NWk">ğŸŒ</span></div></div><div class="react-toggle-thumb"></div><input type="checkbox" disabled="" aria-label="Dark mode toggle" class="react-toggle-screenreader-only"></div><div class="navbar__search"><span aria-label="expand searchbar" role="button" class="search-icon" tabindex="0"></span><input type="search" id="search_input_react" placeholder="Search" aria-label="Search" class="navbar__search-input search-bar"></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div><div class="navbar-sidebar"><div class="navbar-sidebar__brand"><a class="navbar__brand" href="/"><img src="/img/logo.svg" alt="My Site Logo" class="themedImage_YANc themedImage--light_3CMI navbar__logo"><img src="/img/logo.svg" alt="My Site Logo" class="themedImage_YANc themedImage--dark_3ARp navbar__logo"><strong class="navbar__title">My Site</strong></a></div><div class="navbar-sidebar__items"><div class="menu"><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" href="/docs/">ç¼–ç¨‹åŸºç¡€</a></li><li class="menu__list-item"><a aria-current="page" class="menu__link navbar__link--active" href="/docs/ç¼–ç¨‹è¯­è¨€/ç¼–ç¨‹è¯­è¨€">ç¼–ç¨‹è¯­è¨€</a></li><li class="menu__list-item"><a class="menu__link" href="/docs/å·¥å…·/å¸¸ç”¨å·¥å…·">å·¥å…·</a></li><li class="menu__list-item"><a class="menu__link" href="/docs/åº”ç”¨å¼€å‘/åº”ç”¨å¼€å‘">åº”ç”¨å¼€å‘</a></li><li class="menu__list-item"><a class="menu__link" href="/docs/Apple/iOSå¼€å‘/iOSå¼€å‘">Apple</a></li><li class="menu__list-item"><a class="menu__link" href="/docs/éŸ³è§†é¢‘/éŸ³è§†é¢‘">éŸ³è§†é¢‘</a></li><li class="menu__list-item"><a class="menu__link" href="/docs/é¡¹ç›®/é¡¹ç›®">é¡¹ç›®</a></li></ul></div></div></div></nav><div class="main-wrapper"><div class="docPage_vMrn"><main class="docMainContainer_2iGs"><div class="container padding-vert--lg docItemWrapper_1bxp"><div class="row"><div class="col docItemCol_U38p"><div class="docItemContainer_a7m4"><article><header><h1 class="docTitle_Oumm">Objective-C-åŸºç¡€</h1></header><div class="markdown"><p>title: Objective-C
toc: true
categories: [iOS]
tags: [Objective-C]
date: 2018-07-02 16:13:52</p><hr><p>[toc]</p><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_prK2" id="æ•°æ®ç±»å‹"></a>æ•°æ®ç±»å‹<a class="hash-link" href="#æ•°æ®ç±»å‹" title="Direct link to heading">#</a></h2><p><a href="https://developer.apple.com/documentation/objectivec/objective-c_data_types?language=objc" target="_blank" rel="noopener noreferrer">objective-c_data_types</a></p><p>å¸¸é‡å’Œå˜é‡ã€‚</p><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_prK2" id="åŸºç¡€æ•°æ®ç±»å‹"></a>åŸºç¡€æ•°æ®ç±»å‹<a class="hash-link" href="#åŸºç¡€æ•°æ®ç±»å‹" title="Direct link to heading">#</a></h3><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_prK2" id="objective-cå¯¹è±¡"></a>Objective-Cå¯¹è±¡<a class="hash-link" href="#objective-cå¯¹è±¡" title="Direct link to heading">#</a></h3><p>åŸºç¡€æ•°æ®ç±»å‹å’ŒOCå¯¹è±¡çš„åŒºåˆ«ã€‚</p><ul><li>NSString</li></ul><p><code>For NSInteger you should use %td or %tu for NSUInteger</code></p><p><a href="https://stackoverflow.com/questions/28291856/format-specifies-type-unsigned-long-but-the-argument-has-type-int" target="_blank" rel="noopener noreferrer">https://stackoverflow.com/questions/28291856/format-specifies-type-unsigned-long-but-the-argument-has-type-int</a></p><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_prK2" id="å‘½åè§„åˆ™"></a>å‘½åè§„åˆ™<a class="hash-link" href="#å‘½åè§„åˆ™" title="Direct link to heading">#</a></h2><p>æ ‡è¯†ç¬¦ä¹Ÿå«å˜é‡åå‘½åè§„åˆ™ï¼š</p><p>å­—æ¯ï¼Œæ•°å­—ï¼Œä¸‹åˆ’çº¿ï¼Œæ•°å­—ä¸èƒ½ä¸ºå¼€å¤´ã€‚</p><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_prK2" id="å˜é‡çš„å£°æ˜å’Œèµ‹å€¼"></a>å˜é‡çš„å£°æ˜å’Œèµ‹å€¼<a class="hash-link" href="#å˜é‡çš„å£°æ˜å’Œèµ‹å€¼" title="Direct link to heading">#</a></h2><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_prK2" id="å˜é‡å£°æ˜"></a>å˜é‡å£°æ˜<a class="hash-link" href="#å˜é‡å£°æ˜" title="Direct link to heading">#</a></h3><p><code>å˜é‡ç±»å‹</code> <code>å˜é‡å</code>; æˆ–è€…<code>å˜é‡ç±»å‹</code> <code>å˜é‡å</code> = <code>å˜é‡å€¼</code>;</p><p>ä¾‹å¦‚ï¼š</p><div class="mdxCodeBlock_1zKU"><div class="codeBlockContent_actS"><div tabindex="0" class="prism-code language-objective-c codeBlock_tuNs thin-scrollbar"><div class="codeBlockLines_3uvA" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">NSString *name;</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_2GIj">Copy</button></div></div><p>å£°æ˜çš„åŒæ—¶å¯ä»¥èµ‹å€¼ã€‚</p><p>ä¾‹å¦‚ï¼š</p><div class="mdxCodeBlock_1zKU"><div class="codeBlockContent_actS"><div tabindex="0" class="prism-code language-objective-c codeBlock_tuNs thin-scrollbar"><div class="codeBlockLines_3uvA" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">NSString *name = @&quot;ä¸ç‰æ¾&quot;</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_2GIj">Copy</button></div></div><h1><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_prK2" id="è¿ç®—ç¬¦"></a>è¿ç®—ç¬¦<a class="hash-link" href="#è¿ç®—ç¬¦" title="Direct link to heading">#</a></h1><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_prK2" id="èµ‹å€¼è¿ç®—ç¬¦"></a>èµ‹å€¼è¿ç®—ç¬¦<a class="hash-link" href="#èµ‹å€¼è¿ç®—ç¬¦" title="Direct link to heading">#</a></h2><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_prK2" id="é€»è¾‘è¿ç®—ç¬¦"></a>é€»è¾‘è¿ç®—ç¬¦<a class="hash-link" href="#é€»è¾‘è¿ç®—ç¬¦" title="Direct link to heading">#</a></h2><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_prK2" id="ç®—æ•°è¿ç®—ç¬¦"></a>ç®—æ•°è¿ç®—ç¬¦<a class="hash-link" href="#ç®—æ•°è¿ç®—ç¬¦" title="Direct link to heading">#</a></h2><h1><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_prK2" id="è¯­å¥"></a>è¯­å¥<a class="hash-link" href="#è¯­å¥" title="Direct link to heading">#</a></h1><p>OCçš„è¯­å¥å¿…é¡»ä»¥ <code>;</code> åˆ†å·ç»“æŸã€‚</p><p>è¯­å¥å—ç”¨å¤§æ‹¬å· <code>{}</code>åŒ…æ‹¬ã€‚</p><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_prK2" id="æµç¨‹æ§åˆ¶"></a>æµç¨‹æ§åˆ¶<a class="hash-link" href="#æµç¨‹æ§åˆ¶" title="Direct link to heading">#</a></h2><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_prK2" id="é¡ºåºè¯­å¥"></a>é¡ºåºè¯­å¥<a class="hash-link" href="#é¡ºåºè¯­å¥" title="Direct link to heading">#</a></h3><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_prK2" id="æ¡ä»¶è¯­å¥"></a>æ¡ä»¶è¯­å¥<a class="hash-link" href="#æ¡ä»¶è¯­å¥" title="Direct link to heading">#</a></h3><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_prK2" id="å¾ªç¯è¯­å¥"></a>å¾ªç¯è¯­å¥<a class="hash-link" href="#å¾ªç¯è¯­å¥" title="Direct link to heading">#</a></h3><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_prK2" id="æ³¨é‡Š"></a>æ³¨é‡Š<a class="hash-link" href="#æ³¨é‡Š" title="Direct link to heading">#</a></h3><p>å•è¡Œ:<code>//æ³¨é‡Šå†…å®¹</code></p><p>å¤šè¡Œ:<code>/* æ³¨é‡Šå†…å®¹ */</code></p><p>ä¸‹é¢ä¹Ÿå¯ä»¥ä½œä¸ºå¤§æ®µæ³¨é‡Šã€‚</p><div class="mdxCodeBlock_1zKU"><div class="codeBlockContent_actS"><div tabindex="0" class="prism-code language-objective-c codeBlock_tuNs thin-scrollbar"><div class="codeBlockLines_3uvA" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">#if 0 </span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">//ä¸­é—´çš„codeå®Œå…¨è¢«ç¼–è¯‘å™¨å¿½ç•¥</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">#end if </span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_2GIj">Copy</button></div></div><h1><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_prK2" id="å‡½æ•°"></a>å‡½æ•°<a class="hash-link" href="#å‡½æ•°" title="Direct link to heading">#</a></h1><p>å†…å­˜è¯­ä¹‰ (  è¿”å›å€¼ç±»å‹ )  å‡½æ•°å:(å‚æ•°ç±»å‹)å‚æ•°å... { å‡½æ•°ä½“ }</p><p>ä¾‹å¦‚ï¼š</p><div class="mdxCodeBlock_1zKU"><div class="codeBlockContent_actS"><div tabindex="0" class="prism-code language-objective-c codeBlock_tuNs thin-scrollbar"><div class="codeBlockLines_3uvA" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">- (BOOL)application:(UIApplication *)application didFinishLaunchingWithOptions:(NSDictionary *)launchOptions {</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    // Override point for customization after application launch.</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    return YES;</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">}</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">- (void)viewDidLoad {</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    [super viewDidLoad];</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">}</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_2GIj">Copy</button></div></div><p>å†…å­˜è¯­ä¹‰ï¼š</p><p><code>+</code> ç±»æ–¹æ³•ï¼ˆå­˜å‚¨åœ¨å…ƒç±»å¯¹è±¡-Meta-Classå†…ï¼‰</p><p><code>-</code>ç¤ºä¾‹æ–¹æ³•ï¼ˆå­˜å‚¨åœ¨ç±»å¯¹è±¡-Classå†…ï¼‰</p><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_prK2" id="å‚æ•°"></a>å‚æ•°<a class="hash-link" href="#å‚æ•°" title="Direct link to heading">#</a></h2><p>å‚æ•°å¯ä»¥æœ‰0ä¸ªæˆ–å¤šä¸ªã€‚</p><ul><li>å¯å˜å‚æ•°</li></ul><p>ä¸€ä¸ªå‡½æ•°æ‹¥æœ‰ä¸ªæ•°ä¸å®šçš„å‚æ•°ã€‚</p><p>å¸¸è§çš„ï¼š</p><div class="mdxCodeBlock_1zKU"><div class="codeBlockContent_actS"><div tabindex="0" class="prism-code language-objective-c codeBlock_tuNs thin-scrollbar"><div class="codeBlockLines_3uvA" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">FOUNDATION_EXPORT void NSLog(NSString *format, ...) NS_FORMAT_FUNCTION(1,2) NS_NO_TAIL_CALL;</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_2GIj">Copy</button></div></div><div class="mdxCodeBlock_1zKU"><div class="codeBlockContent_actS"><div tabindex="0" class="prism-code language-objective-c codeBlock_tuNs thin-scrollbar"><div class="codeBlockLines_3uvA" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">- (instancetype)initWithTitle:(nullable NSString *)title message:(nullable NSString *)message delegate:(nullable id /*&lt;UIAlertViewDelegate&gt;*/)delegate cancelButtonTitle:(nullable NSString *)cancelButtonTitle otherButtonTitles:(nullable NSString *)otherButtonTitles, ... NS_REQUIRES_NIL_TERMINATION NS_EXTENSION_UNAVAILABLE_IOS(&quot;Use UIAlertController instead.&quot;);</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_2GIj">Copy</button></div></div><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_prK2" id="è¿”å›å€¼"></a>è¿”å›å€¼<a class="hash-link" href="#è¿”å›å€¼" title="Direct link to heading">#</a></h2><p>return ç»“æŸå‡½æ•°ã€‚</p><p>è¿”å›å€¼æ˜¯voidï¼Œä¸å¿…returnã€‚</p><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_prK2" id="aspectsé¢å‘åˆ‡é¢ç¼–ç¨‹"></a>Aspectsé¢å‘åˆ‡é¢ç¼–ç¨‹<a class="hash-link" href="#aspectsé¢å‘åˆ‡é¢ç¼–ç¨‹" title="Direct link to heading">#</a></h2><p>iOS AOPæ¡†æ¶Aspectså®ç°åŸç†</p><p>Aspectæ˜¯ä»€ä¹ˆï¼Ÿ</p><p>A delightful, simple library for aspect oriented programming by @steipete.</p><p>ä¸€ä¸ªè½»é‡çº§çš„ï¼ŒOCçš„é¢å‘åˆ‡é¢ç¼–ç¨‹åº“ã€‚</p><p>èƒ½å¹²ä»€ä¹ˆï¼Ÿ</p><p>å…è®¸ä½ åœ¨æ¯ä¸€ä¸ªç±»å’Œå®ä¾‹æ–¹æ³•ä¸­åŠ å…¥ä»»ä½•ä»£ç ã€‚å¯ä»¥åœ¨æ–¹æ³•æ‰§è¡Œä¹‹å‰æˆ–è€…ä¹‹åæ‰§è¡Œ,ä¹Ÿå¯ä»¥æ›¿æ¢æ‰åŸæœ‰çš„æ–¹æ³•ã€‚</p><p>å‚è€ƒæ–‡æ¡£</p><ul><li><a href="https://github.com/steipete/Aspects" target="_blank" rel="noopener noreferrer">https://github.com/steipete/Aspects</a></li></ul><h1><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_prK2" id="block"></a>block<a class="hash-link" href="#block" title="Direct link to heading">#</a></h1><p>Block å¯ä»¥åƒ Objective-C å¯¹è±¡ä¸€æ ·ï¼Œç”¨äºèµ‹å€¼ï¼Œå½“åšå‚æ•°ä¼ é€’ï¼Œæ”¾å…¥ NSArray å’Œ NSDictionary ä¸­ï¼Œä¹Ÿå¯ä»¥æƒ³ä¸€ä¸ªå‡½æ•°ä¸€æ ·æ‰§è¡Œï¼Œè®¤ä¸ºæ˜¯ä¸€ç§åŒ¿åå‡½æ•°ã€‚å’ŒJSçš„å‡½æ•°æœ‰ç‚¹åƒã€‚JSçš„å‡½æ•°ä¹Ÿæ˜¯ä¸€ä¸ªå¯¹è±¡ï¼Œæ‰€ä»¥å‡½æ•°ä¹Ÿå¯ä»¥åƒå˜é‡ä¸€æ ·èµ‹å€¼ï¼Œä¼ é€’ç­‰ã€‚è‡ªç„¶è¿™ä¸ª&quot;å˜é‡ä¹Ÿ&quot;å¯ä»¥æ‰§è¡Œã€‚</p><p>Demoï¼š <a href="https://github.com/DingYusong/BlockDemo" target="_blank" rel="noopener noreferrer">https://github.com/DingYusong/BlockDemo</a></p><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_prK2" id="blockçš„ä½¿ç”¨"></a>Blockçš„ä½¿ç”¨<a class="hash-link" href="#blockçš„ä½¿ç”¨" title="Direct link to heading">#</a></h2><p>ç†è§£ï¼š</p><p>æŒ‡é’ˆä¸å¸¦æ‰§è¡Œä½“ï¼Œå®ä½“å¸¦æ‰§è¡Œä½“ã€‚å¦‚ä¸‹ï¼šblockNameæ˜¯ä¸€ä¸ªBlockæŒ‡é’ˆï¼Œå®ƒå±äºå˜é‡åã€‚è„±å­—ç¬¦^å’Œå˜é‡ååœ¨ä¸€ä¸ªç¬¦å·å†…ã€‚å˜é‡å€¼ï¼Œä¹Ÿå¯ä»¥ç†è§£ä¸ºæ‰§è¡Œä½“åˆ™å¸¦å¤§æ‹¬å·ï¼Œè„±å­—ç¬¦^åœ¨è¿”å›å€¼å‰é¢ï¼Œä¸åœ¨æ‹¬å·å†…,åœ¨æœ€å‰é¢ã€‚</p><div class="mdxCodeBlock_1zKU"><div class="codeBlockContent_actS"><div tabindex="0" class="prism-code language-objective-c codeBlock_tuNs thin-scrollbar"><div class="codeBlockLines_3uvA" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">    void (^blockName)(void) = ^void{</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        NSLog(@&quot;block running&quot;);</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    };</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    [self executeBlock:blockName];</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_2GIj">Copy</button></div></div><p>è®¤æ¸…ï¼š</p><ol><li>ç±»å   <code>returnType (^)(parameterTypes)</code></li><li>å˜é‡å  <code>blockName</code>  </li><li>å˜é‡å€¼  <code>^returnType (parameters) {...}</code> å…¶ä¸­è¿”å›å€¼å’Œå‚æ•°ç±»å‹ä¸ºvoidå¯ä»¥ä¸å†™ã€‚</li></ol><p>å¯ä»¥å°†è„±å­—ç¬¦^ ç†è§£ä¸º*ã€‚</p><p><code>NSInteger (^add)(NSInteger, NSInteger)</code> ç›¸å½“äº <code>DYSDog *dog</code></p><p>åˆ†æ‹†ä¸€ä¸‹ï¼š</p><p><code>NSInteger ()(NSInteger, NSInteger)</code>ç›¸å½“äº <code>DYSDog</code></p><p><code>^</code>ç›¸å½“äº<code>*</code></p><p><code>add</code>ç›¸å½“äº<code>dog</code></p><div class="mdxCodeBlock_1zKU"><div class="codeBlockContent_actS"><div tabindex="0" class="prism-code language-objective-c codeBlock_tuNs thin-scrollbar"><div class="codeBlockLines_3uvA" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">    DYSDog *dog = [DYSDog new];</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    NSInteger (^add)(NSInteger, NSInteger) = ^NSInteger(NSInteger a, NSInteger b) {</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        return a+b;</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    };</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_2GIj">Copy</button></div></div><p> Blockçš„è¯­æ³•</p><p> returnType (^blockName)(parameterTypes) ç›¸å½“äº å˜é‡ç±»å‹ å˜é‡å;//ä¹Ÿå°±æ˜¯å˜é‡çš„å£°æ˜</p><p> returnType (^)(parameterTypes) = å˜é‡ç±»å‹;//ä¹Ÿå°±æ˜¯ç±»</p><p> blockName = å˜é‡å;</p><p> ^returnType (parameters) {...} = å˜é‡å€¼ï¼›</p><p> ä¸¾ä¾‹ï¼š</p><p> NSInteger (^add)(NSInteger, NSInteger) = DYSDog *dog;</p><p> å˜é‡ç±»å‹ï¼š NSInteger (^)(NSInteger, NSInteger) = DYSDog *;</p><p> å˜é‡åï¼š add = dog;</p><p> å˜é‡å€¼ï¼š ^NSInteger(NSInteger a, NSInteger b) {return a+b;} = [DYSDog new];</p><p> typedef NSInteger(^blockNameAdd)(NSInteger, NSInteger) = typedef long NSInteger;</p><p> blockNameAdd è¿™ä¸ªç±»å‹ç›¸å½“äº NSInteger (^)(NSInteger, NSInteger)ã€‚</p><p> blockNameAdd ç±»æ¯”äº DYSDog *ã€‚</p><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_prK2" id="å±€éƒ¨å˜é‡"></a>å±€éƒ¨å˜é‡<a class="hash-link" href="#å±€éƒ¨å˜é‡" title="Direct link to heading">#</a></h3><div class="mdxCodeBlock_1zKU"><div class="codeBlockContent_actS"><div tabindex="0" class="prism-code language-undefined codeBlock_tuNs thin-scrollbar"><div class="codeBlockLines_3uvA" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">returnType (^blockName)(parameterTypes) = ^returnType(parameters) {...};</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_2GIj">Copy</button></div></div><div class="mdxCodeBlock_1zKU"><div class="codeBlockContent_actS"><div tabindex="0" class="prism-code language-objective-c codeBlock_tuNs thin-scrollbar"><div class="codeBlockLines_3uvA" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">    //</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    void (^btnClick)() = ^void() {</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        if (self.ningboModel.inUrl &amp;&amp; self.ningboModel.inUrl.length &gt; 0) {</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">            YYIWebViewController *vc = [[YYIWebViewController alloc] init];</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">            vc.urlString = self.ningboModel.inUrl;</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">            vc.hidesBottomBarWhenPushed = YES;</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">            [self.navigationController pushViewController:vc animated:YES];</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        }</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        else {</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">            UIAlertView *alert = [[CVGAlertView alloc] initWithTitle:@&quot;å…¥é‡‘æç¤º&quot; message:self.ningboModel.inDesc delegate:self cancelButtonTitle:@&quot;çŸ¥é“äº†&quot; otherButtonTitles:nil, nil];</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">            [alert show];</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        }</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    };</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    view.btnClick = btnClick;</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_2GIj">Copy</button></div></div><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_prK2" id="å±æ€§"></a>å±æ€§<a class="hash-link" href="#å±æ€§" title="Direct link to heading">#</a></h3><p>åå­—ä¸èƒ½çœç•¥</p><div class="mdxCodeBlock_1zKU"><div class="codeBlockContent_actS"><div tabindex="0" class="prism-code language-objective-c codeBlock_tuNs thin-scrollbar"><div class="codeBlockLines_3uvA" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">@property (nonatomic, copy, nullability) returnType (^blockName)(parameterTypes);</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_2GIj">Copy</button></div></div><p><img src="http://wiso.liwenhui520.com/20190306155186613470204.png" alt="20190306155186613470204.png"></p><div class="mdxCodeBlock_1zKU"><div class="codeBlockContent_actS"><div tabindex="0" class="prism-code language-objective-c codeBlock_tuNs thin-scrollbar"><div class="codeBlockLines_3uvA" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">@property (nonatomic, copy) void (^btnClick)();</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">@property (nonatomic, copy) NSString *name;</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">//void (^btnClick)() ç›¸å½“äº NSString *name; å˜é‡å£°æ˜ã€‚</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">//btnClick ç›¸å½“äº name ï¼šå˜é‡å</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_2GIj">Copy</button></div></div><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_prK2" id="å‡½æ•°å½¢å‚"></a>å‡½æ•°å½¢å‚<a class="hash-link" href="#å‡½æ•°å½¢å‚" title="Direct link to heading">#</a></h3><p>æ–¹æ³•å®šä¹‰</p><div class="mdxCodeBlock_1zKU"><div class="codeBlockContent_actS"><div tabindex="0" class="prism-code language-objective-c codeBlock_tuNs thin-scrollbar"><div class="codeBlockLines_3uvA" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">- (void)someMethodThatTakesABlock:(returnType (^nullability)(parameterTypes))blockName;</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_2GIj">Copy</button></div></div><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_prK2" id="å‡½æ•°å®å‚"></a>å‡½æ•°å®å‚<a class="hash-link" href="#å‡½æ•°å®å‚" title="Direct link to heading">#</a></h3><p>æ–¹æ³•æ‰§è¡Œ</p><div class="mdxCodeBlock_1zKU"><div class="codeBlockContent_actS"><div tabindex="0" class="prism-code language-objective-c codeBlock_tuNs thin-scrollbar"><div class="codeBlockLines_3uvA" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">[someObject someMethodThatTakesABlock:^returnType (parameters) {...}];</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_2GIj">Copy</button></div></div><div class="mdxCodeBlock_1zKU"><div class="codeBlockContent_actS"><div tabindex="0" class="prism-code language-objective-c codeBlock_tuNs thin-scrollbar"><div class="codeBlockLines_3uvA" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">{</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    void (^blockName)(void) = ^{</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        NSLog(@&quot;block running&quot;);</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    };</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    [self executeBlock:blockName];</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">}</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">-(void)executeBlock:(void(^)(void))completion{</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    </span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    self.tmpBlock = completion;</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    self.tmpBlock();</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">}</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_2GIj">Copy</button></div></div><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_prK2" id="typedef"></a>typedef<a class="hash-link" href="#typedef" title="Direct link to heading">#</a></h3><p>è€Œtypedef åˆå°†å…¶å˜é‡åŒ–ï¼š</p><div class="mdxCodeBlock_1zKU"><div class="codeBlockContent_actS"><div tabindex="0" class="prism-code language-undefined codeBlock_tuNs thin-scrollbar"><div class="codeBlockLines_3uvA" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">typedef returnType (^TypeName)(parameterTypes);</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">TypeName blockName = ^returnType(parameters) {...};</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_2GIj">Copy</button></div></div><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_prK2" id="blockæ‰§è¡Œ"></a>blockæ‰§è¡Œ<a class="hash-link" href="#blockæ‰§è¡Œ" title="Direct link to heading">#</a></h3><p>æ‰§è¡Œå‰å‰è¦è¿›è¡Œåˆ¤ç©ºï¼Œé˜²æ­¢crash</p><p>ä½œä¸ºå‡½æ•°ä½¿ç”¨ï¼š</p><p>blockæ‰§è¡Œå‰è¦è¿›è¡Œåˆ¤ç©ºã€‚å¦åˆ™ä¼šcrashã€‚</p><div class="mdxCodeBlock_1zKU"><div class="codeBlockContent_actS"><div tabindex="0" class="prism-code language-objective-c codeBlock_tuNs thin-scrollbar"><div class="codeBlockLines_3uvA" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">            if (self.btnClick) {</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">                self.btnClick();</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">            }</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_2GIj">Copy</button></div></div><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_prK2" id="blockçš„å†…å­˜ç®¡ç†"></a>Blockçš„å†…å­˜ç®¡ç†<a class="hash-link" href="#blockçš„å†…å­˜ç®¡ç†" title="Direct link to heading">#</a></h2><p><a href="/docs/ç¼–ç¨‹è¯­è¨€/Objective-C/Objective-C/å†…å­˜ç®¡ç†.md#Block%E7%9A%84%E5%86%85%E5%AD%98%E7%AE%A1%E7%90%86">Blockçš„å†…å­˜ç®¡ç†</a></p><p>å‚è€ƒæ–‡æ¡£</p><ul><li>ç¦…ä¸Objective-Cç¼–ç¨‹è‰ºæœ¯çš„Blockç« èŠ‚</li><li><a href="https://blog.csdn.net/xgb742951920/article/details/69258372" target="_blank" rel="noopener noreferrer">iOSä¸­blockçš„è¯¦è§£weakSelfã€strongSelf</a></li><li><a href="https://hit-alibaba.github.io/interview/iOS/ObjC-Basic/Block.html" target="_blank" rel="noopener noreferrer">https://hit-alibaba.github.io/interview/iOS/ObjC-Basic/Block.html</a></li><li><a href="http://fuckingblocksyntax.com/" target="_blank" rel="noopener noreferrer">http://fuckingblocksyntax.com/</a></li><li><a href="http://goshdarnblocksyntax.com" target="_blank" rel="noopener noreferrer">http://goshdarnblocksyntax.com</a></li><li><a href="http://blog.csdn.net/totogo2010/article/details/7839061" target="_blank" rel="noopener noreferrer">bjective-Cè¯­æ³•ä¹‹ä»£ç å—(block)çš„ä½¿ç”¨</a></li><li><a href="http://blog.sina.com.cn/s/blog_b0c5954101017zfr.html" target="_blank" rel="noopener noreferrer">å…³äºblockï¼ˆäºŒï¼‰</a></li></ul><h1><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_prK2" id="idnsobjectselfclass"></a>id,NSObject,self,Class<a class="hash-link" href="#idnsobjectselfclass" title="Direct link to heading">#</a></h1><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_prK2" id="idå’Œnsobject"></a>idå’ŒNSObject<a class="hash-link" href="#idå’Œnsobject" title="Direct link to heading">#</a></h2><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_prK2" id="nsobject"></a>NSObject<a class="hash-link" href="#nsobject" title="Direct link to heading">#</a></h2><ol><li><p>OCåŸºç±»ã€‚</p></li><li><p>NSObjectç»§æ‰¿NSObjectåè®®ã€‚</p></li><li><p>NSObjectå¯¹è±¡æœ‰ä¸€ä¸ªisaçš„æˆå‘˜å˜é‡ï¼ŒæŒ‡å‘Class(objc_class ç»“æ„ä½“æŒ‡é’ˆ)</p></li></ol><div class="mdxCodeBlock_1zKU"><div class="codeBlockContent_actS"><div tabindex="0" class="prism-code language-undefined codeBlock_tuNs thin-scrollbar"><div class="codeBlockLines_3uvA" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">@interface NSObject &lt;NSObject&gt; {</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">#pragma clang diagnostic push</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">#pragma clang diagnostic ignored &quot;-Wobjc-interface-ivars&quot;</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    Class isa  OBJC_ISA_AVAILABILITY;</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">#pragma clang diagnostic pop</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">}</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_2GIj">Copy</button></div></div><div class="mdxCodeBlock_1zKU"><div class="codeBlockContent_actS"><div tabindex="0" class="prism-code language-undefined codeBlock_tuNs thin-scrollbar"><div class="codeBlockLines_3uvA" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">typedef struct objc_class *Class;</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_2GIj">Copy</button></div></div><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_prK2" id="id"></a>id<a class="hash-link" href="#id" title="Direct link to heading">#</a></h2><ol><li>æœ¬è´¨æ˜¯ objc_object ç»“æ„ä½“æŒ‡é’ˆ</li></ol><div class="mdxCodeBlock_1zKU"><div class="codeBlockContent_actS"><div tabindex="0" class="prism-code language-undefined codeBlock_tuNs thin-scrollbar"><div class="codeBlockLines_3uvA" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">/// Represents an instance of a class.</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">struct objc_object {</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    Class _Nonnull isa  OBJC_ISA_AVAILABILITY;</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">};</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">/// A pointer to an instance of a class.</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">typedef struct objc_object *id;</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_2GIj">Copy</button></div></div><ol start="2"><li>objc_object ç»“æ„ä½“ æœ‰ä¸€ä¸ªåä¸ºisaçš„ æŒ‡å‘Class(objc_class ç»“æ„ä½“æŒ‡é’ˆ)ã€‚</li></ol><p>id ç®€å•åœ°ç”³æ˜äº†æŒ‡å‘å¯¹è±¡çš„æŒ‡é’ˆï¼Œæ²¡æœ‰ç»™ç¼–è¯‘å™¨ä»»ä½•ç±»å‹ä¿¡æ¯ï¼Œå› æ­¤ï¼Œç¼–è¯‘å™¨ä¸ä¼šåšç±»å‹æ£€æŸ¥ã€‚ä½†ä¹Ÿå› ä¸ºæ˜¯è¿™æ ·ï¼Œä½ å¯ä»¥å‘é€ä»»ä½•ä¿¡æ¯ç»™idç±»å‹çš„å¯¹è±¡ã€‚è¿™å°±æ˜¯ä¸ºä»€ä¹ˆ+allocè¿”å›idç±»å‹ï¼Œä½†è°ƒç”¨[[Foo alloc] init]ä¸ä¼šäº§ç”Ÿç¼–è¯‘é”™è¯¯ã€‚</p><p>å› æ­¤ï¼Œ<strong>idç±»å‹æ˜¯è¿è¡Œæ—¶çš„åŠ¨æ€ç±»å‹</strong>ï¼Œç¼–è¯‘å™¨æ— æ³•çŸ¥é“å®ƒçš„çœŸå®ç±»å‹ï¼Œå³ä½¿ä½ å‘é€ä¸€ä¸ªidç±»å‹æ²¡æœ‰çš„æ–¹æ³•ï¼Œä¹Ÿä¸ä¼šäº§ç”Ÿç¼–è¯‘è­¦å‘Šã€‚</p><p>NSObject ç›¸å½“äº objc_objectã€‚</p><p>id  ç›¸å½“äº  NSObject * ã€‚</p><p>é‚£id  æ˜¯ä¸æ˜¯å°±æ˜¯NSObjectå¯¹è±¡æŒ‡é’ˆï¼Ÿã€‚</p><p>id ä¸ä¸€å®šæŒ‡å‘NSObjectå¯¹è±¡ï¼ŒidæŒ‡å‘çš„æ˜¯objc_object ç»“æ„ä½“ã€‚</p><p><code>id&lt;NSObject&gt;</code> æŒ‡å‘ç»§æ‰¿<code>&lt;NSObject&gt;</code>åè®®çš„å¯¹è±¡ï¼Œæ³¨æ„ä¸æ˜¯NSObjectå¯¹è±¡ï¼Œè™½ç„¶ï¼ŒNSObjectå¯¹è±¡ä¹Ÿç»§æ‰¿NSObjectåè®®ã€‚NSObjectåªèƒ½ç®—æ˜¯ä»–çš„ä¸€ä¸ªå­é›†ã€‚ä¾‹å¦‚NSProxy ä¹Ÿç»§æ‰¿ NSObjectå¯¹è±¡ã€‚</p><p>åŒºåˆ«ï¼š</p><p>ä¸€ä¸ªæ˜¯OCç±»ï¼Œä¸€ä¸ªæ˜¯ç»“æ„ä½“æŒ‡é’ˆã€‚</p><p>æŒ‡å‘æ‹¥æœ‰NSObjectæ–¹æ³•å¯¹è±¡çš„æŒ‡é’ˆ</p><p><code>id&lt;NSObject&gt;</code></p><p> è¿™ç‚¹å»¶ä¼¸åˆ°äº†åè®®å’Œä»£ç†çš„åè®®ã€‚</p><div class="mdxCodeBlock_1zKU"><div class="codeBlockContent_actS"><div tabindex="0" class="prism-code language-undefined codeBlock_tuNs thin-scrollbar"><div class="codeBlockLines_3uvA" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">idå‘Šè¯‰ç¼–è¯‘å™¨ï¼Œä½ ä¸å…³å¿ƒå¯¹è±¡æ˜¯ä»€ä¹ˆç±»å‹ï¼Œä½†å®ƒå¿…é¡»éµå®ˆNSObjectåè®®(protocol)ï¼Œç¼–è¯‘å™¨å°±èƒ½ä¿è¯æ‰€æœ‰èµ‹å€¼ç»™idç±»å‹çš„å¯¹è±¡éƒ½éµå®ˆNSObjectåè®®(protocol)ã€‚è¿™æ ·çš„æŒ‡é’ˆå¯ä»¥æŒ‡å‘ä»»ä½•NSObjectå¯¹è±¡ï¼Œå› ä¸ºNSObjectå¯¹è±¡éµå®ˆNSObjectåè®®(protocol)ï¼Œè€Œä¸”ï¼Œå®ƒä¹Ÿå¯ä»¥ç”¨æ¥ä¿å­˜NSProxyå¯¹è±¡ï¼Œå› ä¸ºå®ƒä¹Ÿéµå®ˆNSObjectåè®®(protocol)ã€‚è¿™æ˜¯éå¸¸å¼ºå¤§ï¼Œæ–¹ä¾¿ä¸”çµæ´»ï¼Œä½ ä¸ç”¨å…³å¿ƒå¯¹è±¡æ˜¯ä»€ä¹ˆç±»å‹ï¼Œè€Œåªå…³å¿ƒå®ƒå®ç°äº†å“ªäº›æ–¹æ³•ã€‚</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_2GIj">Copy</button></div></div><p>å¦‚æœçœŸçš„éœ€è¦ç¼–è¯‘å™¨æ£€æŸ¥ï¼Œé‚£ä½ å°±è€ƒè™‘ä½¿ç”¨ç¬¬2ç§æˆ–è€…ç¬¬3ç§ã€‚å¾ˆå°‘çœ‹åˆ°NSObjectï¼Šèƒ½æ­£å¸¸è¿è¡Œï¼Œä½†idæ— æ³•æ­£å¸¸è¿è¡Œçš„ã€‚ä½¿ç”¨åè®®(protocol)çš„ä¼˜ç‚¹æ˜¯ï¼Œå®ƒèƒ½æŒ‡å‘NSProxyå¯¹è±¡ï¼Œè€Œæ›´å¸¸ç”¨çš„æƒ…å†µæ˜¯ï¼Œä½ åªæƒ³çŸ¥é“æŸä¸ªå¯¹è±¡éµå®ˆäº†å“ªä¸ªåè®®ï¼Œè€Œä¸ç”¨å…³å¿ƒå®ƒæ˜¯ä»€ä¹ˆç±»å‹ã€‚</p><div class="mdxCodeBlock_1zKU"><div class="codeBlockContent_actS"><div tabindex="0" class="prism-code language-undefined codeBlock_tuNs thin-scrollbar"><div class="codeBlockLines_3uvA" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">è¡¥å……ï¼šä½¿ç”¨id&lt;NSObject&gt;æ¥å£°æ˜ä¸€ä¸ªå¯¹è±¡ï¼Œç›¸å½“äºå‘Šè¯‰ç¼–è¯‘æˆ‘ä»¬å¹¶ä¸çŸ¥é“è¿™ä¸ªå¯¹è±¡çš„ç±»å‹ï¼Œä½†æ˜¯å®ƒå®ç°NSObject protocolã€‚ä¸€ä¸ªè¿™ç§ç±»å‹çš„æŒ‡é’ˆï¼Œå³å¯ä»¥ç”¨æ¥æŒ‡å‘NSObject*å¯¹è±¡ï¼Œä¹Ÿå¯ä»¥ç”¨æ¥æŒ‡å‘NSProxy*å¯¹è±¡ï¼Œå› ä¸ºNSObjectå¯¹è±¡ä¸NSProxyå¯¹è±¡éƒ½æ˜¯ç°äº†NSObject protocol</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_2GIj">Copy</button></div></div><p>ç›¸åŒç‚¹ï¼š</p><p>NSObject å’Œ id éƒ½æœ‰ä¸€ä¸ªisaæˆå‘˜å˜é‡ã€‚æŒ‡å‘Class(objc_class ç»“æ„ä½“æŒ‡é’ˆ)ã€‚</p><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_prK2" id="self"></a>self<a class="hash-link" href="#self" title="Direct link to heading">#</a></h2><p>ã€€ã€€1&gt; self æ˜¯ OC æä¾›ä¿ç•™å­—ï¼›</p><p>ã€€ã€€2&gt; self ä»£è¡¨ç€å½“å‰æ–¹æ³•çš„è°ƒç”¨è€…ï¼›</p><p>ã€€ã€€3&gt; åœ¨ - æ–¹æ³•ä¸­ï¼Œselfä»£è¡¨ç€&quot;å¯¹è±¡&quot;ï¼›</p><p>ã€€ã€€4&gt; åœ¨ + æ–¹æ³•ä¸­ï¼Œselfä»£è¡¨ç€&quot;ç±»&quot;ï¼›</p><p>ã€€ã€€5&gt; self æ˜¯æ–¹æ³•çš„éšè—çš„å‚æ•°å˜é‡ï¼ŒæŒ‡å‘å½“å‰è°ƒç”¨æ–¹æ³•çš„å¯¹è±¡ï¼Œå¦ä¸€ä¸ªéšè—å‚æ•°æ˜¯ _cmdï¼Œä»£è¡¨å½“å‰ç±»æ–¹æ³•çš„selectorã€‚</p><p><a href="https://www.cnblogs.com/markstray/p/5611878.html" target="_blank" rel="noopener noreferrer">https://www.cnblogs.com/markstray/p/5611878.html</a></p><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_prK2" id="class"></a>Class<a class="hash-link" href="#class" title="Direct link to heading">#</a></h2><p>å…¶å®OCä¸­Classä¹Ÿæ˜¯å¯¹è±¡ ï¼Œæˆ‘ä»¬å¯ä»¥çœ‹çœ‹ä»–ä»¬ä¸‰ä¸ªï¼ˆ<code>id</code> , <code>Class</code>,<code>NSObject *</code>ï¼‰åœ¨runtimeä¸­çš„å®šä¹‰</p><div class="mdxCodeBlock_1zKU"><div class="codeBlockContent_actS"><div tabindex="0" class="prism-code language-objective-c codeBlock_tuNs thin-scrollbar"><div class="codeBlockLines_3uvA" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">// Classå…¶å®æ˜¯ ç»“æ„ä½“ objc_class * çš„æŒ‡é’ˆ </span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">typedef struct objc_class *Class;</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">// idå…¶å®æ˜¯ ç»“æ„ä½“ objc_object * çš„æŒ‡é’ˆ åˆ«å</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">typedef struct objc_object *id;</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">//OCçš„åŸºç±» NSObject çš„å£°æ˜ - å¯ä»¥ç†è§£ä¸ºå…¶å®å¯ä»¥çœ‹åšæ˜¯é¦–åœ°å€ä¸ºæŒ‡å‘  objc_class *  ï¼ˆIsaï¼‰æŒ‡é’ˆçš„å†…å­˜ éƒ½å¯ä»¥çœ‹åšæ˜¯å¯¹è±¡</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">@interface NSObject &lt;NSObject&gt; {</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">     Class isa  OBJC_ISA_AVAILABILITY;</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">}</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">struct objc_object {</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">private:</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    isa_t isa;</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">}</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">struct objc_class : objc_object {</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    // Class ISA;</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    Class superclass;</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    cache_t cache;             // formerly cache pointer and vtable</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    class_data_bits_t bits;    // class_rw_t * plus custom rr/alloc flags</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">}</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_2GIj">Copy</button></div></div><p>é€šè¿‡ä¸Šé¢çš„æºç æˆ‘ç›Ÿå¯ä»¥æ€»ç»“å‡ºå‡ ç‚¹ï¼š</p><ul><li><p>Classå…¶å®æ˜¯ ç»“æ„ä½“ objc_class * çš„æŒ‡é’ˆ åˆ«å</p></li><li><p>idå…¶å®æ˜¯ ç»“æ„ä½“ objc_object * çš„æŒ‡é’ˆ åˆ«å</p></li><li><p>ç»“æ„ä½“<code>objc_object</code>ä¸OCä¸­çš„ <code>NSObject</code> çš„é¦–åœ°å€éƒ½æ˜¯æŒ‡å‘ <code>isa</code> ï¼Œå¯ä»¥ç†è§£ä¸ºé¦–åœ°å€ä¸º<code>ISA</code>æŒ‡é’ˆçš„å†…å­˜éƒ½å¯ä»¥ç§°ä¸ºå¯¹è±¡ã€‚</p></li><li><p><code>objc_class</code> æ˜¯ç»§æ‰¿è‡ª <code>objc_object</code> ï¼Œä¹Ÿå°±æ˜¯è¯´ï¼ŒOCä¸­ <code>Class</code> ä¹Ÿæ˜¯ä¸€ä¸ªå¯¹è±¡ã€‚å› æ­¤æ¡†æ¶ä¸­æ— è®ºæ˜¯<code>hook</code>çš„å®ä¾‹æ–¹æ³•è¿˜æ˜¯<code>hook</code>çš„ç±»æ–¹æ³•ï¼Œéƒ½å¯ä»¥ç»Ÿä¸€æŠŠ è°ƒç”¨çš„å¯¹è±¡ï¼ˆ <code>Class</code> æˆ–   <code>NSObject *</code> ï¼‰ ä¼ å‚ ç»™äº†<code>id</code> ç±»å‹ã€‚</p></li><li></li></ul><h1><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_prK2" id="objc"></a>objc<a class="hash-link" href="#objc" title="Direct link to heading">#</a></h1><p>æºç åˆ†æï¼šè§æºç </p><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_prK2" id="runtime"></a>runtime<a class="hash-link" href="#runtime" title="Direct link to heading">#</a></h2><p>ä»€ä¹ˆæ˜¯runtimeï¼Ÿ</p><p>ç®€å•çš„æ¥è¯´ï¼Œå°±æ˜¯ä¸€ç»„Cè¯­è¨€å‡½æ•°ã€‚æˆ‘ä»¬ç”¨OCè¯­è¨€å†™çš„ä»£ç ï¼Œåœ¨è¿è¡Œæ—¶ä¼šè°ƒç”¨é‚£ç»„Cè¯­è¨€å‡½æ•°ã€‚</p><p>Objective-Cä¸­çš„æ–¹æ³•è°ƒç”¨ï¼Œä¼šè¢«ç¼–è¯‘å™¨è½¬åŒ–ä¸º<code>objc_msgSend(receiver, selector)</code>æ–¹æ³•ã€‚</p><p>ObjC ä¸­æ¶ˆæ¯çš„å‘é€</p><ol><li>ç¼“å­˜å‘½ä¸­</li><li>æŸ¥æ‰¾å½“å‰ç±»çš„ç¼“å­˜åŠæ–¹æ³•</li><li>æŸ¥æ‰¾çˆ¶ç±»çš„ç¼“å­˜åŠæ–¹æ³•</li><li>æ–¹æ³•å†³è®®</li><li>æ¶ˆæ¯è½¬å‘</li></ol><p>ä¸‹é¢çš„ä»£ç è¾“å‡ºä»€ä¹ˆï¼Ÿ</p><div class="mdxCodeBlock_1zKU"><div class="codeBlockContent_actS"><div tabindex="0" class="prism-code language-undefined codeBlock_tuNs thin-scrollbar"><div class="codeBlockLines_3uvA" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">`@implementation Son : Father``- (id)init``{``    ``self = [``super` `init];``    ``if` `(self)``    ``{``        ``NSLog(@``&quot;%@&quot;``, NSStringFromClass([self class]));``        ``NSLog(@``&quot;%@&quot;``, NSStringFromClass([``super` `class]));``    ``}``    ``return` `self;``}``@end`</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_2GIj">Copy</button></div></div><p>ç­”æ¡ˆï¼šéƒ½è¾“å‡º Son</p><div class="mdxCodeBlock_1zKU"><div class="codeBlockContent_actS"><div tabindex="0" class="prism-code language-undefined codeBlock_tuNs thin-scrollbar"><div class="codeBlockLines_3uvA" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">`2014-11-05 11:06:18.060 Test[8566:568584] NSStringFromClass([self class]) = Son``2014-11-05 11:06:18.061 Test[8566:568584] NSStringFromClass([``super` `class]) = Son`</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_2GIj">Copy</button></div></div><p>è§£æƒ‘ï¼šè¿™ä¸ªé¢˜ç›®ä¸»è¦æ˜¯è€ƒå¯Ÿå…³äºobjcä¸­å¯¹ self å’Œ super çš„ç†è§£ã€‚</p><p>å‚è€ƒæ–‡æ¡£</p><ul><li><a href="http://www.cocoachina.com/ios/20141224/10740.html" target="_blank" rel="noopener noreferrer">åˆ¨æ ¹é—®åº•Objectiveï¼C Runtime</a></li></ul><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_prK2" id="ç±»å‹ç¼–ç "></a>ç±»å‹ç¼–ç <a class="hash-link" href="#ç±»å‹ç¼–ç " title="Direct link to heading">#</a></h3><p>Objective-C ç±»å‹ç¼–ç </p><p>&quot;è¿”å›å€¼ç±»å‹ + id(@) + sel(:) + [å‚æ•°ç±»å‹]&quot;</p><div class="mdxCodeBlock_1zKU"><div class="codeBlockContent_actS"><div tabindex="0" class="prism-code language-undefined codeBlock_tuNs thin-scrollbar"><div class="codeBlockLines_3uvA" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">&quot;v@:@&quot;</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_2GIj">Copy</button></div></div><p> å‰3ä¸ªæ˜¯å¿…é¡»å†™çš„ã€‚</p><p><a href="https://nshipster.cn/type-encodings/" target="_blank" rel="noopener noreferrer">https://nshipster.cn/type-encodings/</a></p><p><a href="https://developer.apple.com/library/archive/documentation/Cocoa/Conceptual/ObjCRuntimeGuide/Articles/ocrtTypeEncodings.html" target="_blank" rel="noopener noreferrer">https://developer.apple.com/library/archive/documentation/Cocoa/Conceptual/ObjCRuntimeGuide/Articles/ocrtTypeEncodings.html</a></p><p>ä¾‹å¦‚ï¼š</p><p>æ·»åŠ ä¸€ä¸ªcæ–¹æ³•ï¼Œéœ€è¦æŒ‡æ˜<code>id self, SEL _cmd</code>ä¸¤ä¸ªå‚æ•°</p><div class="mdxCodeBlock_1zKU"><div class="codeBlockContent_actS"><div tabindex="0" class="prism-code language-objective-c codeBlock_tuNs thin-scrollbar"><div class="codeBlockLines_3uvA" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">void startEngine(id self, SEL _cmd, NSString *brand) {</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    NSLog(@&quot;my %@ car starts the engine&quot;, brand);</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">}</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">@implementation Car (myCar)</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">+ (BOOL)resolveInstanceMethod:(SEL)sel {</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    if (sel == @selector(drive)) {</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        class_addMethod([self class], sel, (IMP)startEngine, &quot;v@:@&quot;);</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        return YES;</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    }</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    return [super resolveInstanceMethod:sel];</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">}</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">@end</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_2GIj">Copy</button></div></div><p>æ·»åŠ ä¸€ä¸ªocæ–¹æ³•ï¼Œä¸éœ€è¦æŒ‡æ˜<code>id self, SEL _cmd</code>ä¸¤ä¸ªå‚æ•°</p><div class="mdxCodeBlock_1zKU"><div class="codeBlockContent_actS"><div tabindex="0" class="prism-code language-objective-c codeBlock_tuNs thin-scrollbar"><div class="codeBlockLines_3uvA" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">@implementation Car (myCar)</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">+ (BOOL)resolveInstanceMethod:(SEL)sel {</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    if (sel == @selector(drive)) {</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        class_addMethod([self class], sel, class_getMethodImplementation(self, @selector(startEngine:)), &quot;s@:@&quot;);</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        return YES;</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    }</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    return [super resolveInstanceMethod:sel];</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">}</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">- (void)startEngine:(NSString *)brand {</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    NSLog(@&quot;my %@ car starts the engine&quot;, brand);</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">}</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">@end</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">ï½</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_2GIj">Copy</button></div></div><div class="mdxCodeBlock_1zKU"><div class="codeBlockContent_actS"><div tabindex="0" class="prism-code language-objective-c codeBlock_tuNs thin-scrollbar"><div class="codeBlockLines_3uvA" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">/// @return A token which allows to later deregister the aspect.</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">- (id&lt;AspectToken&gt;)aspect_hookSelector:(SEL)selector</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">                      withOptions:(AspectOptions)options</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">                       usingBlock:(id)block</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">                            error:(NSError **)error {</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    return aspect_add(self, selector, options, block, error);</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">}</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_2GIj">Copy</button></div></div><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_prK2" id="method-swizzling"></a>Method-Swizzling<a class="hash-link" href="#method-swizzling" title="Direct link to heading">#</a></h3><p>æƒ³åœ¨ç³»ç»Ÿæ–¹æ³•ä¸Šç»Ÿä¸€å¤„ç†ã€‚ä½†æ˜¯é¿å…æ¯ä¸€ä¸ªç±»éƒ½åšåŒæ ·çš„äº‹æƒ…ã€‚è¿™ç±»éœ€æ±‚å¯ä»¥ä½¿ç”¨Method-Swizzlingæ¥å®ç°ã€‚</p><p>æˆ‘ä»¬çŸ¥é“ç±»åœ¨å†…å­˜é‡Œç»´æŠ¤è¿™ä¸€å¼ è¡¨ï¼Œè¿™å¼ è¡¨æ˜¯selectoråˆ°impå®ç°çš„mapè¡¨ã€‚è€Œruntimeç»™æˆ‘æä¾›äº†ç›¸å½“ä¸°å¯Œçš„æ“ä½œmethodçš„æ¥å£ï¼Œè¿™å°±ä¸ºæ–¹æ³•çš„çµæ´»å¤„ç†æä¾›äº†å¤§å¤§çš„æ–¹ä¾¿ã€‚</p><p>åˆ©ç”¨runtimeé‡Œé¢æ–¹æ³•çš„æ›¿æ¢ï¼Œå¯ä»¥åšå¾ˆå¤šäº‹æƒ…ï¼Œæ¯”å¦‚ä¸€äº›æ•°ç»„è¶Šç•Œã€‚æˆ‘ä»¬å¯ä»¥åœ¨åº•å±‚å°†objectAtIndex çš„impæŒ‡é’ˆæŒ‡å‘æˆ‘ä»¬è‡ªå·±å†™çš„å®‰å…¨çš„æ–¹æ³•safeObjectAtIndexçš„å®ç°ã€‚</p><p>å†æ¯”å¦‚ï¼Œç›‘å¬deallocçš„é‡Šæ”¾ã€‚</p><p>unrecognized selector sent to class  å´©æºƒçš„å¤„ç†ã€‚å¢å¼ºå¥å£®æ€§ã€‚</p><p>è¡¥ä¸ªDemoã€‚</p><p>å‚è€ƒæ–‡æ¡£</p><ul><li><a href="https://blog.csdn.net/erice_e/article/details/73293905" target="_blank" rel="noopener noreferrer">method-swizzling è¯¦è§£ å’Œä½¿ç”¨</a></li></ul><h1><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_prK2" id="autoreleasepool"></a>autoreleasepool<a class="hash-link" href="#autoreleasepool" title="Direct link to heading">#</a></h1><p><a href="https://draveness.me/autoreleasepool" target="_blank" rel="noopener noreferrer">https://draveness.me/autoreleasepool</a></p><p>å‚è€ƒæ–‡æ¡£</p><ul><li><a href="https://draveness.me/autoreleasepool" target="_blank" rel="noopener noreferrer">è‡ªåŠ¨é‡Šæ”¾æ± çš„å‰ä¸–ä»Šç”Ÿ ---- æ·±å…¥è§£æ autoreleasepool</a></li></ul><p>autoreleasepool ä»¥ä¸€ä¸ªé˜Ÿåˆ—æ•°ç»„çš„å½¢å¼å®ç°,ä¸»è¦é€šè¿‡ä¸‹åˆ—ä¸‰ä¸ªå‡½æ•°å®Œæˆ.</p><ol><li><code>objc_autoreleasepoolPush</code></li><li><code>objc_autoreleasepoolPop</code></li><li><code>objc_autorelease</code></li></ol><p>çœ‹å‡½æ•°åå°±å¯ä»¥çŸ¥é“ï¼Œå¯¹ autorelease åˆ†åˆ«æ‰§è¡Œ pushï¼Œå’Œ pop æ“ä½œã€‚é”€æ¯å¯¹è±¡æ—¶æ‰§è¡Œreleaseæ“ä½œã€‚</p><h1><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_prK2" id="è¯¾åé—®é¢˜"></a>è¯¾åé—®é¢˜<a class="hash-link" href="#è¯¾åé—®é¢˜" title="Direct link to heading">#</a></h1><p>é—®é¢˜ï¼Ÿ</p><ol><li>Objective-Cçš„ç±»å¯ä»¥å¤šé‡ç»§æ‰¿ä¹ˆï¼Ÿå¯ä»¥å®ç°å¤šä¸ªæ¥å£ä¹ˆï¼ŸCategoryæ˜¯ä»€ä¹ˆï¼Ÿé‡å†™ä¸€ä¸ªç±»çš„æ–¹æ³•ç”¨ç»§æ‰¿å¥½è¿˜æ˜¯åˆ†ç±»å¥½ï¼Ÿä¸ºä»€ä¹ˆï¼Ÿ</li></ol><div class="mdxCodeBlock_1zKU"><div class="codeBlockContent_actS"><div tabindex="0" class="prism-code language-undefined codeBlock_tuNs thin-scrollbar"><div class="codeBlockLines_3uvA" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">Objective-Cçš„ç±»ä¸å¯ä»¥å¤šé‡ç»§æ‰¿ï¼›å¯ä»¥ä½¿ç”¨åè®®å®ç°å¤šä¸ªæ¥å£ï¼Œé€šè¿‡å®ç°å¤šä¸ªæ¥å£å¯ä»¥å®ŒæˆC++çš„å¤šé‡ç»§æ‰¿ï¼›Categoryæ˜¯ç±»åˆ«ã€‚</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">ç”¨ç»§æ‰¿ã€‚å› ä¸ºä¸èƒ½ç”¨åˆ†ç±»ã€‚åˆ†ç±»è¦†ç›–æ‰åŸæœ‰ç±»çš„æ–¹æ³•ï¼Œå¯¼è‡´ç¨‹åºä¸­å…¶ä»–è°ƒç”¨çš„åœ°æ–¹ä¼šæ”¹å˜ã€‚å½“ç„¶ï¼Œå¦‚æœæ˜¯æˆ‘æ¥çš„è¯ï¼Œæˆ‘ä¹Ÿä¸ä¼šç”¨ç»§æ‰¿ï¼Œè€Œæ˜¯æ–°å¢ä¸€ä¸ªæ–¹æ³•ï¼Œå¯ä»¥æ”¾åˆ°ç±»åˆ«ä¸­ã€‚</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_2GIj">Copy</button></div></div><ol start="2"><li>import è·Ÿ#include åˆä»€ä¹ˆåŒºåˆ«ï¼Œ@classå‘¢, <code>#import&lt;&gt;</code> è·Ÿ #import&quot;&quot;åˆä»€ä¹ˆåŒºåˆ«?</li></ol><div class="mdxCodeBlock_1zKU"><div class="codeBlockContent_actS"><div tabindex="0" class="prism-code language-undefined codeBlock_tuNs thin-scrollbar"><div class="codeBlockLines_3uvA" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">1.importå’Œinclude çš„ä½¿ç”¨ç¯å¢ƒä¸åŒã€‚ä¸€ä¸ªæ˜¯OCä¸€ä¸ªæ˜¯C/C++ã€‚</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">2.importå’Œinclude çš„å¯¼å…¥æ–‡ä»¶å¤„ç†ä¸Šä¸åŒã€‚æ— è®ºimportå¤šå°‘æ¬¡ï¼Œimportåªä¼šå¯¼å…¥ä¸€æ¬¡ï¼Œincludeå´æ²¡æœ‰è¿™ä¸ªå¤„ç†ã€‚</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">3. @classä¸»è¦ä½œç”¨æ˜¯åœ¨å¤´æ–‡ä»¶çš„ç›¸äº’åŒ…å«é—®é¢˜æ—¶ï¼Œåœ¨æ¥å£@interfaceä¸­å‘Šè¯‰ç¼–è¯‘å™¨æœ‰è¿™ä¹ˆä¸ªç±»ï¼Œæˆ‘ä½¿ç”¨ï¼Œä½ åˆ«æŠ¥é”™ã€‚è€Œåœ¨å®ç°@implementationæ–‡ä»¶ä¸­è¦ä½¿ç”¨ç›¸åº”ç±»çš„æ¥å£ï¼Œè¿˜æ˜¯éœ€è¦importå¼•å…¥ç›¸åº”çš„ç±»</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_2GIj">Copy</button></div></div><p>3.å±æ€§readwriteï¼Œreadonlyï¼Œassignï¼Œretainï¼Œcopyï¼Œnonatomic å„æ˜¯ä»€ä¹ˆä½œç”¨ï¼Œåœ¨é‚£ç§æƒ…å†µä¸‹ç”¨?</p><div class="mdxCodeBlock_1zKU"><div class="codeBlockContent_actS"><div tabindex="0" class="prism-code language-undefined codeBlock_tuNs thin-scrollbar"><div class="codeBlockLines_3uvA" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">å±æ€§ä¿®é¥°ç¬¦</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">1.è¯»å†™æ€§ readwriteï¼Œreadonly  </span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">å½“ä¸ºreadonlyæ—¶ï¼Œåªä¼šç”Ÿæˆgetteræ–¹æ³• ä¸ä¼šç”Ÿæˆsetteræ–¹æ³• ï¼Œä¹Ÿå°±æ˜¯ä¸å¸Œæœ›å±æ€§åœ¨ç±»å¤–è¢«æ”¹å˜</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">2.åŸå­æ€§ nonatomicï¼Œatomic</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">å†³å®šç¼–è¯‘å™¨ç”Ÿæˆçš„setter getteræ˜¯å¦æ˜¯åŸå­æ“ä½œï¼Œatomicè¡¨ç¤ºå¤šçº¿ç¨‹å®‰å…¨ï¼Œä¸€èˆ¬ä½¿ç”¨nonatomic</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">3.å†…å­˜ç®¡ç†ç‰¹æ€§ assignï¼Œcopyï¼Œstrongï¼Œ weak</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">èµ‹å€¼ï¼ŒæŒæœ‰ã€‚</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">å¼•ç”¨è®¡æ•°å¢åŠ äº†æ²¡æœ‰ï¼Œæ˜¯å¦æ–°å¼€è¾Ÿäº†å†…å­˜ã€‚</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_2GIj">Copy</button></div></div><ol start="4"><li>å†™ä¸€ä¸ªsetteræ–¹æ³•ç”¨äºå®Œæˆ<code>@property (nonatomic,retain)NSString *name</code>,å†™ä¸€ä¸ªsetteræ–¹æ³•ç”¨äºå®Œæˆ<code>@property(nonatomicï¼Œcopy)NSString *name</code></li></ol><div class="mdxCodeBlock_1zKU"><div class="codeBlockContent_actS"><div tabindex="0" class="prism-code language-objective-c codeBlock_tuNs thin-scrollbar"><div class="codeBlockLines_3uvA" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">- (void) setName:(NSString*) name {</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    [name retain];</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    [_name release];</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    _name = name;</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">}</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">- (void)setName:(NSString *)name {</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    id t = [str copy];</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    [_name release];</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    _name = t;</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">}</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_2GIj">Copy</button></div></div><ol start="5"><li>å¯¹äºè¯­å¥NSString*obj = [[NSData alloc] init]; objåœ¨ç¼–è¯‘æ—¶å’Œè¿è¡Œæ—¶åˆ†åˆ«æ—¶ä»€ä¹ˆç±»å‹çš„å¯¹è±¡?</li></ol><div class="mdxCodeBlock_1zKU"><div class="codeBlockContent_actS"><div tabindex="0" class="prism-code language-undefined codeBlock_tuNs thin-scrollbar"><div class="codeBlockLines_3uvA" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">ç¼–è¯‘æ—¶æ˜¯NSStringçš„ç±»å‹;è¿è¡Œæ—¶æ˜¯NSDataç±»å‹çš„å¯¹è±¡</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_2GIj">Copy</button></div></div><ol start="6"><li>å¸¸è§çš„object-cçš„æ•°æ®ç±»å‹æœ‰é‚£äº›ï¼Œ å’ŒCçš„åŸºæœ¬æ•°æ®ç±»å‹æœ‰ä»€ä¹ˆåŒºåˆ«?å¦‚ï¼šNSIntegerå’Œint</li></ol><div class="mdxCodeBlock_1zKU"><div class="codeBlockContent_actS"><div tabindex="0" class="prism-code language-undefined codeBlock_tuNs thin-scrollbar"><div class="codeBlockLines_3uvA" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">object-cçš„æ•°æ®ç±»å‹æœ‰NSStringï¼ŒNSNumberï¼ŒNSArrayï¼ŒNSMutableArrayï¼ŒNSDataç­‰ç­‰ï¼Œè¿™äº›éƒ½æ˜¯classï¼Œåˆ›å»ºåä¾¿æ˜¯å¯¹è±¡ï¼Œè€ŒCè¯­è¨€çš„åŸºæœ¬æ•°æ®ç±»å‹intï¼Œåªæ˜¯ä¸€å®šå­—èŠ‚çš„å†…å­˜ç©ºé—´ï¼Œç”¨äºå­˜æ”¾æ•°å€¼;</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">NSIntegeræ˜¯åŸºæœ¬æ•°æ®ç±»å‹ï¼Œå¹¶ä¸æ˜¯NSNumberçš„å­ç±»ï¼Œå½“ç„¶ä¹Ÿä¸æ˜¯NSObjectçš„å­ç±»ã€‚</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">NSIntegeræ˜¯åŸºæœ¬æ•°æ®ç±»å‹Intæˆ–è€…Longçš„åˆ«å(NSIntegerçš„å®šä¹‰typedef long NSInteger)ï¼Œå®ƒçš„åŒºåˆ«åœ¨äºï¼ŒNSIntegerä¼šæ ¹æ®ç³»ç»Ÿæ˜¯32ä½è¿˜æ˜¯64ä½æ¥å†³å®šæ˜¯æœ¬èº«æ˜¯intè¿˜æ˜¯Longã€‚</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_2GIj">Copy</button></div></div><ol start="7"><li>idå’ŒNSObject *å’ŒinstanceTypeçš„åŒºåˆ«ä¸è”ç³»ï¼Ÿ</li></ol><div class="mdxCodeBlock_1zKU"><div class="codeBlockContent_actS"><div tabindex="0" class="prism-code language-objective-c codeBlock_tuNs thin-scrollbar"><div class="codeBlockLines_3uvA" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">/// A pointer to an instance of a class.</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">typedef struct objc_object *id;</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">/// Represents an instance of a class.</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">struct objc_object {</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    Class _Nonnull isa  OBJC_ISA_AVAILABILITY;</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">};</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">@interface NSObject &lt;NSObject&gt; {</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">#pragma clang diagnostic push</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">#pragma clang diagnostic ignored &quot;-Wobjc-interface-ivars&quot;</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    Class isa  OBJC_ISA_AVAILABILITY;</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">#pragma clang diagnostic pop</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">}</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_2GIj">Copy</button></div></div><p>instanceType å°±æ˜¯å®ä¾‹ç±»å‹ï¼Œè€Œéæ³›æŒ‡ã€‚ä¾‹å¦‚ï¼š</p><p>ä¾‹å­:</p><div class="mdxCodeBlock_1zKU"><div class="codeBlockContent_actS"><div tabindex="0" class="prism-code language-undefined codeBlock_tuNs thin-scrollbar"><div class="codeBlockLines_3uvA" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">NSString *str = [Person person];</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">NSLog(@&quot;%lu&quot;, str.length);</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_2GIj">Copy</button></div></div><p>å¯¹äºä»¥ä¸Šä»£ç ,å¦‚æœ</p><div class="mdxCodeBlock_1zKU"><div class="codeBlockContent_actS"><div tabindex="0" class="prism-code language-undefined codeBlock_tuNs thin-scrollbar"><div class="codeBlockLines_3uvA" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">[Person person]è¿”å›å€¼ä¸ºidç±»å‹,åˆ™åœ¨ç¼–è¾‘ä»£ç æ—¶xcodeä¸ä¼šæŠ¥é”™æˆ–è€…è­¦å‘Š,è¿è¡Œæ—¶åˆ™ä¼šå´©æºƒ(å› ä¸ºOCæ˜¯åŠ¨æ€æ£€æµ‹å¯¹è±¡çš„çœŸå®ç±»å‹);</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">åä¹‹,å½“å…¶è¿”å›å€¼ä¸ºinstanceTypeæ—¶,xcodeåˆ™ä¼šæŠ¥å‡ºè­¦å‘Š.</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">æ‰€ä»¥,å»ºè®®å†™ç±»çš„æ–¹æ³•æ—¶,å¯¹äºè¿”å›å€¼,å¦‚æœæ˜¯idç±»å‹çš„è¯,å°½é‡ä½¿ç”¨instanceType.</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_2GIj">Copy</button></div></div><h1><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_prK2" id="è¯­æ³•ç³–"></a>è¯­æ³•ç³–<a class="hash-link" href="#è¯­æ³•ç³–" title="Direct link to heading">#</a></h1><p>è¯­æ³•ç³–è¿™ä¸ªä¸œè¥¿åœ¨JavaScriptæ¯”è¾ƒå¸¸è§ï¼Œå„ç§å¥‡æ€ªçš„è¯­æ³•ï¼Œè®©äººçœ¼èŠ±ç¼­ä¹±ã€‚å…¶ä½œç”¨ä¸»è¦æ˜¯ç®€åŒ–äº†ä¸€äº›å¸¸è§è¯­å¥çš„å†™æ³•ã€‚æ¯”å¦‚ å®ä¾‹åŒ–ä¸€ä¸ªæ•°ç»„ <code>@[]</code>ï¼Œ è¿™ç§å†™æ³•è¦æ¯”åŸæ¥åˆ€è€•ç«ç§çš„é‚£ç§åŸå§‹å†™æ³•ä¼˜åŒ–ä¸å°‘ã€‚<code>Object Literals</code>ä¹Ÿç®—æ˜¯è¯­æ³•ç³–çš„ä¸€éƒ¨åˆ†ï¼Œé‚£ä¹ˆObjective-Cä¸­çš„è¯­æ³•ç³–ç©¶ç«Ÿæœ‰å“ªäº›å‘¢ï¼Ÿ</p><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_prK2" id="å˜é‡"></a>å˜é‡<a class="hash-link" href="#å˜é‡" title="Direct link to heading">#</a></h2><div class="mdxCodeBlock_1zKU"><div class="codeBlockContent_actS"><div tabindex="0" class="prism-code language-objective-c codeBlock_tuNs thin-scrollbar"><div class="codeBlockLines_3uvA" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">// æ•´æ•°</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">NSNumber *fortyTwo = @42;             // ç­‰ä»·äº [NSNumber numberWithInt:42]</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">NSNumber *fortyTwoUnsigned = @42U;    // ç­‰ä»·äº [NSNumber numberWithUnsignedInt:42U]</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">NSNumber *fortyTwoLong = @42L;        // ç­‰ä»·äº [NSNumber numberWithLong:42L]</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">NSNumber *fortyTwoLongLong = @42LL;   // ç­‰ä»·äº [NSNumber numberWithLongLong:42LL]</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">// æµ®ç‚¹æ•°</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">NSNumber *piFloat = @3.141592654F;    // ç­‰ä»·äº [NSNumber numberWithFloat:3.141592654F]</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">NSNumber *piDouble = @3.1415926535;   // ç­‰ä»·äº [NSNumber numberWithDouble:3.1415926535]</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">// å¸ƒå°”å€¼</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">NSNumber *yesNumber = @YES;           // ç­‰ä»·äº [NSNumber numberWithBool:YES]</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">NSNumber *noNumber = @NO;             // ç­‰ä»·äº [NSNumber numberWithBool:NO]</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">// æ•°ç»„</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">NSArray * array = @[];                // ç­‰ä»·äº [NSArray array]</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">// å­—å…¸</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">NSDictionary * dict = @{};            // ç­‰ä»·äº [NSDictionary dictionary]</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_2GIj">Copy</button></div></div><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_prK2" id="æ–¹æ³•"></a>æ–¹æ³•<a class="hash-link" href="#æ–¹æ³•" title="Direct link to heading">#</a></h2><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_prK2" id="ç‚¹è¯­æ³•"></a>ç‚¹è¯­æ³•<a class="hash-link" href="#ç‚¹è¯­æ³•" title="Direct link to heading">#</a></h3><div class="mdxCodeBlock_1zKU"><div class="codeBlockContent_actS"><div tabindex="0" class="prism-code language-objective-c codeBlock_tuNs thin-scrollbar"><div class="codeBlockLines_3uvA" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">people.name = @&quot;ä¸ç°&quot;;</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_2GIj">Copy</button></div></div><p>ç›¸å½“äºï¼šsetæ–¹æ³•</p><div class="mdxCodeBlock_1zKU"><div class="codeBlockContent_actS"><div tabindex="0" class="prism-code language-objective-c codeBlock_tuNs thin-scrollbar"><div class="codeBlockLines_3uvA" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">[people setName: @&quot;ä¸ç°&quot;];</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_2GIj">Copy</button></div></div><div class="mdxCodeBlock_1zKU"><div class="codeBlockContent_actS"><div tabindex="0" class="prism-code language-objective-c codeBlock_tuNs thin-scrollbar"><div class="codeBlockLines_3uvA" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">NSString *name = people.name;</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_2GIj">Copy</button></div></div><p>ç›¸å½“äºï¼šgetæ–¹æ³•</p><div class="mdxCodeBlock_1zKU"><div class="codeBlockContent_actS"><div tabindex="0" class="prism-code language-objective-c codeBlock_tuNs thin-scrollbar"><div class="codeBlockLines_3uvA" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">NSString *name = [people name];</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_2GIj">Copy</button></div></div><p>å‚è€ƒæ–‡æ¡£</p><ul><li><a href="http://clang.llvm.org/docs/ObjectiveCLiterals.html" target="_blank" rel="noopener noreferrer">http://clang.llvm.org/docs/ObjectiveCLiterals.html</a></li></ul><h2>@</h2><p>å…³äºOCä¸­çš„@å­—ç¬¦ã€‚Object Literals</p><p><a href="https://nshipster.com/at-compiler-directives/" target="_blank" rel="noopener noreferrer">https://nshipster.com/at-compiler-directives/</a></p><p><a href="https://nshipster.cn/at-compiler-directives/" target="_blank" rel="noopener noreferrer">https://nshipster.cn/at-compiler-directives/</a></p><p><strong>Interfaces &amp; Implementation</strong></p><ul><li><code>@interface</code>â€¦<code>@end</code></li><li><code>@implementation</code>â€¦<code>@end</code></li><li><code>@class</code></li></ul><p><strong>Instance Variable Visibility</strong></p><ul><li><code>@public</code></li><li><code>@package</code></li><li><code>@protected</code></li><li><code>@private</code></li></ul><p><strong>Properties</strong></p><ul><li><code>@property</code></li><li><code>@synthesize</code></li><li><code>@dynamic</code></li></ul><p><strong>Protocols</strong></p><ul><li><code>@protocol</code></li><li><code>@required</code></li><li><code>@optional</code></li></ul><p><strong>Exception Handling</strong></p><ul><li><code>@try</code></li><li><code>@catch</code></li><li><code>@finally</code></li><li><code>@throw</code></li></ul><p><strong>Object Literals</strong></p><ul><li><code>@&quot;&quot;</code></li><li><code>@42</code>, <code>@3.14</code>, <code>@YES</code>, <code>@&#x27;Z&#x27;</code></li><li><code>@[]</code></li><li><code>@{}</code></li><li><code>@()</code></li></ul><p><strong>Objective-C Literals</strong></p><ul><li><code>@selector()</code></li><li><code>@protocol()</code></li></ul><p><strong>C Literals</strong></p><ul><li><code>@encode()</code></li><li><code>@defs()</code></li></ul><p><strong>Optimizations</strong></p><ul><li><code>@autoreleasepool{}</code></li><li><code>@synchronized{}</code></li></ul><p><strong>Compatibility</strong></p><ul><li><code>@compatibility_alias</code></li></ul><p>ç¿»è¯‘ï¼š</p><p><strong>æ¥å£ä¸å®ç°</strong></p><ul><li><code>@interface</code>â€¦<code>@end</code></li><li><code>@implementation</code>â€¦<code>@end</code></li><li><code>@class</code></li></ul><p><strong>å®ä¾‹å˜é‡å¯è§†æ€§</strong></p><ul><li><code>@public</code></li><li><code>@package</code></li><li><code>@protected</code></li><li><code>@private</code></li></ul><p><strong>å±æ€§</strong></p><ul><li><code>@property</code></li><li><code>@synthesize</code></li><li><code>@dynamic</code></li></ul><p><strong>åè®®</strong></p><ul><li><code>@protocol</code></li><li><code>@required</code></li><li><code>@optional</code></li></ul><p><strong>å¼‚å¸¸å¤„ç†</strong></p><ul><li><code>@try</code></li><li><code>@catch</code></li><li><code>@finally</code></li><li><code>@throw</code></li></ul><p><strong>å¯¹è±¡å¸¸é‡</strong></p><ul><li><code>@&quot;&quot;</code></li><li><code>@42</code>, <code>@3.14</code>, <code>@YES</code>, <code>@&#x27;Z&#x27;</code></li><li><code>@[]</code></li><li><code>@{}</code></li><li><code>@()</code></li></ul><p><strong>Objective-C å¸¸é‡</strong></p><ul><li><code>@selector()</code></li><li><code>@protocol()</code></li></ul><p><strong>C å¸¸é‡</strong></p><ul><li><code>@encode()</code></li><li><code>@defs()</code></li></ul><p><strong>ä¼˜åŒ–</strong></p><ul><li><code>@autoreleasepool{}</code></li><li><code>@synchronized{}</code></li></ul><p><strong>å…¼å®¹</strong></p><ul><li><code>@compatibility_alias</code></li></ul><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_prK2" id="ocå’Œjsäº¤äº’è¯¦è§£"></a>OCå’ŒJSäº¤äº’è¯¦è§£<a class="hash-link" href="#ocå’Œjsäº¤äº’è¯¦è§£" title="Direct link to heading">#</a></h2><p>Demo: <a href="https://gitee.com/dingyusong/OC_JSInteractionDemo" target="_blank" rel="noopener noreferrer">https://gitee.com/dingyusong/OC_JSInteractionDemo</a></p><p><a href="https://github.com/marcuswestin/WebViewJavascriptBridge" target="_blank" rel="noopener noreferrer">https://github.com/marcuswestin/WebViewJavascriptBridge</a></p><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_prK2" id="å†…å­˜ç®¡ç†"></a>å†…å­˜ç®¡ç†<a class="hash-link" href="#å†…å­˜ç®¡ç†" title="Direct link to heading">#</a></h2><p><a href="/docs/ç¼–ç¨‹è¯­è¨€/Objective-C/Objective-C/å†…å­˜ç®¡ç†.md">å†…å­˜ç®¡ç†</a></p><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_prK2" id="å†…å­˜ç®¡ç†-1"></a>å†…å­˜ç®¡ç†<a class="hash-link" href="#å†…å­˜ç®¡ç†-1" title="Direct link to heading">#</a></h2><p><a href="https://stackoverflow.com/questions/10634436/how-to-know-if-object-address-is-0x0" target="_blank" rel="noopener noreferrer">https://stackoverflow.com/questions/10634436/how-to-know-if-object-address-is-0x0</a></p><p>0x0 nil ç©ºæŒ‡é’ˆ</p><p>æ ¹å¯¹è±¡ ï¼ˆä¸€ä¸ªAPPçš„ç¬¬ä¸€ä¸ªå¯¹è±¡ï¼Œä»–æŒæœ‰åˆ«çš„å¯¹è±¡ï¼Œå…¶ä»–å¯¹è±¡ä¸æŒæœ‰ä»–ï¼‰</p><ul><li><p>macOSï¼šNSApplication</p></li><li><p>iOSï¼šUIApplication</p></li></ul><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_prK2" id="å †å’Œæ ˆ"></a>å †å’Œæ ˆ<a class="hash-link" href="#å †å’Œæ ˆ" title="Direct link to heading">#</a></h3><p><a href="https://developer.apple.com/library/archive/documentation/Cocoa/Conceptual/Multithreading/CreatingThreads/CreatingThreads.html#//apple_ref/doc/uid/10000057i-CH15-SW2" target="_blank" rel="noopener noreferrer">https://developer.apple.com/library/archive/documentation/Cocoa/Conceptual/Multithreading/CreatingThreads/CreatingThreads.html#//apple_ref/doc/uid/10000057i-CH15-SW2</a></p><p>Objective-C å¯¹è±¡å­˜å‚¨åœ¨å †ä¸Šè€Œä¸æ˜¯æ ˆä¸Š whyï¼Ÿï¼š<a href="https://blog.csdn.net/LIN1986LIN/article/details/88292251" target="_blank" rel="noopener noreferrer">https://blog.csdn.net/LIN1986LIN/article/details/88292251</a></p><p><a href="https://developer.apple.com/library/archive/documentation/Cocoa/Conceptual/Multithreading/CreatingThreads/CreatingThreads.html#//apple_ref/doc/uid/10000057i-CH15-SW2" target="_blank" rel="noopener noreferrer">https://developer.apple.com/library/archive/documentation/Cocoa/Conceptual/Multithreading/CreatingThreads/CreatingThreads.html#//apple_ref/doc/uid/10000057i-CH15-SW2</a></p><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_prK2" id="æºç "></a>æºç <a class="hash-link" href="#æºç " title="Direct link to heading">#</a></h2><p><a href="https://opensource.apple.com/tarballs/objc4/" target="_blank" rel="noopener noreferrer">https://opensource.apple.com/tarballs/objc4/</a></p><ul><li>NSObject(AutoreleasePool çš„å®ç°çš„æºç ï¼Œobjc runtimeçš„æºç )</li></ul><p><a href="https://github.com/opensource-apple" target="_blank" rel="noopener noreferrer">https://github.com/opensource-apple</a></p><p><a href="https://opensource.apple.com/tarballs/" target="_blank" rel="noopener noreferrer">https://opensource.apple.com/tarballs/</a></p><p><a href="https://opensource.apple.com/source/" target="_blank" rel="noopener noreferrer">https://opensource.apple.com/source/</a></p><p>CoreFoundation: (åŒ…å«CFRunloopå’ŒCFRuntimeçš„æºç ç­‰)</p><p><a href="https://opensource.apple.com/source/CF/" target="_blank" rel="noopener noreferrer">https://opensource.apple.com/source/CF/</a></p><p><a href="https://opensource.apple.com/tarballs/CF/" target="_blank" rel="noopener noreferrer">https://opensource.apple.com/tarballs/CF/</a></p><p><a href="https://blog.ibireme.com/2015/05/18/runloop/" target="_blank" rel="noopener noreferrer">https://blog.ibireme.com/2015/05/18/runloop/</a></p><p>Swiftçš„Foundationæºç </p><p><a href="https://github.com/apple/swift-corelibs-foundation/" target="_blank" rel="noopener noreferrer">https://github.com/apple/swift-corelibs-foundation/</a></p><p>macOS-10.15æºç </p><p><a href="https://opensource.apple.com/release/macos-1015.html" target="_blank" rel="noopener noreferrer">https://opensource.apple.com/release/macos-1015.html</a></p><p><a href="https://www.jianshu.com/p/2fae148f015f" target="_blank" rel="noopener noreferrer">iOS-åº•å±‚åŸç† 03ï¼šobjc4-781 æºç ç¼–è¯‘ &amp; è°ƒè¯•</a></p><ul><li>å·²ç»é…ç½®å¥½çš„æºç è°ƒè¯•</li></ul><p><a href="https://github.com/LGCooci/objc4_debug" target="_blank" rel="noopener noreferrer">https://github.com/LGCooci/objc4_debug</a></p><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_prK2" id="æšä¸¾"></a>æšä¸¾<a class="hash-link" href="#æšä¸¾" title="Direct link to heading">#</a></h2><p><a href="https://juejin.cn/post/6844903794568855566" target="_blank" rel="noopener noreferrer">OCä¸­æšä¸¾å†™æ³• ä»¥åŠ å­—ç¬¦ä¸²ç±»å‹æšä¸¾å®ç°æ¢ç´¢</a></p><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_prK2" id="è¯»ä¹¦ç¬”è®°"></a>è¯»ä¹¦ç¬”è®°<a class="hash-link" href="#è¯»ä¹¦ç¬”è®°" title="Direct link to heading">#</a></h2><p>[Effective Objective-C 20 ç¼–å†™é«˜è´¨é‡iOSä¸OS Xä»£ç çš„52ä¸ªæœ‰æ•ˆæ–¹æ³•.pdf](Objective-C/ç¼–å†™é«˜è´¨é‡iOSä¸OS Xä»£ç çš„52ä¸ªæœ‰æ•ˆæ–¹æ³•.md)</p><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_prK2" id="å†…å­˜ç®¡ç†-2"></a>å†…å­˜ç®¡ç†<a class="hash-link" href="#å†…å­˜ç®¡ç†-2" title="Direct link to heading">#</a></h2><p><a href="/docs/ç¼–ç¨‹è¯­è¨€/Objective-C/Objective-C/å†…å­˜ç®¡ç†.md">å†…å­˜ç®¡ç†</a></p><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_prK2" id="å †å’Œæ ˆ-1"></a>å †å’Œæ ˆ<a class="hash-link" href="#å †å’Œæ ˆ-1" title="Direct link to heading">#</a></h3><p><a href="https://developer.apple.com/library/archive/documentation/Cocoa/Conceptual/Multithreading/CreatingThreads/CreatingThreads.html#//apple_ref/doc/uid/10000057i-CH15-SW2" target="_blank" rel="noopener noreferrer">https://developer.apple.com/library/archive/documentation/Cocoa/Conceptual/Multithreading/CreatingThreads/CreatingThreads.html#//apple_ref/doc/uid/10000057i-CH15-SW2</a></p><p>Objective-C å¯¹è±¡å­˜å‚¨åœ¨å †ä¸Šè€Œä¸æ˜¯æ ˆä¸Š whyï¼Ÿï¼š<a href="https://blog.csdn.net/LIN1986LIN/article/details/88292251" target="_blank" rel="noopener noreferrer">https://blog.csdn.net/LIN1986LIN/article/details/88292251</a></p><p><a href="https://developer.apple.com/library/archive/documentation/Cocoa/Conceptual/Multithreading/CreatingThreads/CreatingThreads.html#//apple_ref/doc/uid/10000057i-CH15-SW2" target="_blank" rel="noopener noreferrer">https://developer.apple.com/library/archive/documentation/Cocoa/Conceptual/Multithreading/CreatingThreads/CreatingThreads.html#//apple_ref/doc/uid/10000057i-CH15-SW2</a></p><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_prK2" id="å¼‚å¸¸å¤„ç†"></a>å¼‚å¸¸å¤„ç†<a class="hash-link" href="#å¼‚å¸¸å¤„ç†" title="Direct link to heading">#</a></h2><p><a href="https://developer.apple.com/library/archive/documentation/Cocoa/Conceptual/Exceptions/Exceptions.html" target="_blank" rel="noopener noreferrer">Exception Programming Topics</a></p><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_prK2" id="iosç¨‹åºçš„å†…å­˜ç»“æ„"></a>iOSç¨‹åºçš„å†…å­˜ç»“æ„<a class="hash-link" href="#iosç¨‹åºçš„å†…å­˜ç»“æ„" title="Direct link to heading">#</a></h3><p><a href="https://blog.csdn.net/u013480070/article/details/100154725" target="_blank" rel="noopener noreferrer">iOSç¨‹åºçš„å†…å­˜å¸ƒå±€</a></p><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_prK2" id="ç¼–ç¨‹è§„èŒƒ"></a>ç¼–ç¨‹è§„èŒƒ<a class="hash-link" href="#ç¼–ç¨‹è§„èŒƒ" title="Direct link to heading">#</a></h2><p><a href="https://zh-google-styleguide.readthedocs.io/en/latest/google-objc-styleguide/" target="_blank" rel="noopener noreferrer">Google Objective-C Style Guide ä¸­æ–‡ç‰ˆ</a></p><h1><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_prK2" id="å‚è€ƒæ–‡æ¡£"></a>å‚è€ƒæ–‡æ¡£<a class="hash-link" href="#å‚è€ƒæ–‡æ¡£" title="Direct link to heading">#</a></h1><ul><li><p><a href="https://developer.apple.com/library/archive/documentation/Cocoa/Conceptual/ProgrammingWithObjectiveC/Introduction/Introduction.html" target="_blank" rel="noopener noreferrer">ProgrammingWithObjectiveC</a></p></li><li><p><a href="http://wiki.jikexueyuan.com/project/programming-with-objective-c/" target="_blank" rel="noopener noreferrer">ProgrammingWithObjectiveC-ä¸­æ–‡ç‰ˆ</a></p></li><li><p><a href="https://www.yiibai.com/objective_c" target="_blank" rel="noopener noreferrer">https://www.yiibai.com/objective_c</a></p></li><li><p>å®˜æ–¹æ–‡æ¡£ï¼š</p><p><a href="https://developer.apple.com/library/content/documentation/Cocoa/Conceptual/ProgrammingWithObjectiveC/Introduction/Introduction.html" target="_blank" rel="noopener noreferrer">https://developer.apple.com/library/content/documentation/Cocoa/Conceptual/ProgrammingWithObjectiveC/Introduction/Introduction.html</a></p><p>PDFï¼š</p><p><a href="http://cagt.bu.edu/w/images/b/b6/Objective-C_Programming_Language.pdf" target="_blank" rel="noopener noreferrer">http://cagt.bu.edu/w/images/b/b6/Objective-C_Programming_Language.pdf</a></p><p><a href="https://developer.apple.com/documentation/objectivec" target="_blank" rel="noopener noreferrer">https://developer.apple.com/documentation/objectivec</a></p></li></ul><p>åº•å±‚æ–‡ç« </p><ul><li><a href="https://www.jianshu.com/p/ee6a8ebc5bec" target="_blank" rel="noopener noreferrer">iOS-åº•å±‚åŸç† 15ï¼šdyldå‘å±•å²</a></li><li><a href="https://www.jianshu.com/p/2fae148f015f" target="_blank" rel="noopener noreferrer">iOS-åº•å±‚åŸç† 03ï¼šobjc4-781 æºç ç¼–è¯‘ &amp; è°ƒè¯•</a></li></ul><hr><p>åŸåˆ›æ–‡ç« ï¼Œè½¬è½½è¯·ä¿ç•™åŸæ–‡é“¾æ¥ï¼Œæœªç»æˆæƒæ‹’ç»è½¬è½½ï¼Œè°¢è°¢ã€‚</p><p>è”ç³»ä½œè€…ï¼š<a href="mailto:dys90@qq.com" target="_blank" rel="noopener noreferrer">dys90@qq.com</a></p></div></article><div class="margin-vert--xl"><div class="row"><div class="col"><a href="dys-typora-open://mine/survival/docs/ç¼–ç¨‹è¯­è¨€/Objective-C/Objective-C-åŸºç¡€.md" target="_blank" rel="noreferrer noopener"><svg fill="currentColor" height="1.2em" width="1.2em" preserveAspectRatio="xMidYMid meet" role="img" viewBox="0 0 40 40" class="iconEdit_2LL7"><g><path d="m34.5 11.7l-3 3.1-6.3-6.3 3.1-3q0.5-0.5 1.2-0.5t1.1 0.5l3.9 3.9q0.5 0.4 0.5 1.1t-0.5 1.2z m-29.5 17.1l18.4-18.5 6.3 6.3-18.4 18.4h-6.3v-6.2z"></path></g></svg>Edit this page</a></div></div></div><div class="margin-vert--lg"><nav class="pagination-nav" aria-label="Blog list page navigation"><div class="pagination-nav__item"></div><div class="pagination-nav__item pagination-nav__item--next"></div></nav></div></div></div><div class="col col--3"><div class="tableOfContents_2xL- thin-scrollbar"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#æ•°æ®ç±»å‹" class="table-of-contents__link">æ•°æ®ç±»å‹</a><ul><li><a href="#åŸºç¡€æ•°æ®ç±»å‹" class="table-of-contents__link">åŸºç¡€æ•°æ®ç±»å‹</a></li><li><a href="#objective-cå¯¹è±¡" class="table-of-contents__link">Objective-Cå¯¹è±¡</a></li></ul></li><li><a href="#å‘½åè§„åˆ™" class="table-of-contents__link">å‘½åè§„åˆ™</a></li><li><a href="#å˜é‡çš„å£°æ˜å’Œèµ‹å€¼" class="table-of-contents__link">å˜é‡çš„å£°æ˜å’Œèµ‹å€¼</a><ul><li><a href="#å˜é‡å£°æ˜" class="table-of-contents__link">å˜é‡å£°æ˜</a></li></ul></li><li><a href="#èµ‹å€¼è¿ç®—ç¬¦" class="table-of-contents__link">èµ‹å€¼è¿ç®—ç¬¦</a></li><li><a href="#é€»è¾‘è¿ç®—ç¬¦" class="table-of-contents__link">é€»è¾‘è¿ç®—ç¬¦</a></li><li><a href="#ç®—æ•°è¿ç®—ç¬¦" class="table-of-contents__link">ç®—æ•°è¿ç®—ç¬¦</a></li><li><a href="#æµç¨‹æ§åˆ¶" class="table-of-contents__link">æµç¨‹æ§åˆ¶</a><ul><li><a href="#é¡ºåºè¯­å¥" class="table-of-contents__link">é¡ºåºè¯­å¥</a></li><li><a href="#æ¡ä»¶è¯­å¥" class="table-of-contents__link">æ¡ä»¶è¯­å¥</a></li><li><a href="#å¾ªç¯è¯­å¥" class="table-of-contents__link">å¾ªç¯è¯­å¥</a></li><li><a href="#æ³¨é‡Š" class="table-of-contents__link">æ³¨é‡Š</a></li></ul></li><li><a href="#å‚æ•°" class="table-of-contents__link">å‚æ•°</a></li><li><a href="#è¿”å›å€¼" class="table-of-contents__link">è¿”å›å€¼</a></li><li><a href="#aspectsé¢å‘åˆ‡é¢ç¼–ç¨‹" class="table-of-contents__link">Aspectsé¢å‘åˆ‡é¢ç¼–ç¨‹</a></li><li><a href="#blockçš„ä½¿ç”¨" class="table-of-contents__link">Blockçš„ä½¿ç”¨</a><ul><li><a href="#å±€éƒ¨å˜é‡" class="table-of-contents__link">å±€éƒ¨å˜é‡</a></li><li><a href="#å±æ€§" class="table-of-contents__link">å±æ€§</a></li><li><a href="#å‡½æ•°å½¢å‚" class="table-of-contents__link">å‡½æ•°å½¢å‚</a></li><li><a href="#å‡½æ•°å®å‚" class="table-of-contents__link">å‡½æ•°å®å‚</a></li><li><a href="#typedef" class="table-of-contents__link">typedef</a></li><li><a href="#blockæ‰§è¡Œ" class="table-of-contents__link">blockæ‰§è¡Œ</a></li></ul></li><li><a href="#blockçš„å†…å­˜ç®¡ç†" class="table-of-contents__link">Blockçš„å†…å­˜ç®¡ç†</a></li><li><a href="#idå’Œnsobject" class="table-of-contents__link">idå’ŒNSObject</a></li><li><a href="#nsobject" class="table-of-contents__link">NSObject</a></li><li><a href="#id" class="table-of-contents__link">id</a></li><li><a href="#self" class="table-of-contents__link">self</a></li><li><a href="#class" class="table-of-contents__link">Class</a></li><li><a href="#runtime" class="table-of-contents__link">runtime</a><ul><li><a href="#ç±»å‹ç¼–ç " class="table-of-contents__link">ç±»å‹ç¼–ç </a></li><li><a href="#method-swizzling" class="table-of-contents__link">Method-Swizzling</a></li></ul></li><li><a href="#å˜é‡" class="table-of-contents__link">å˜é‡</a></li><li><a href="#æ–¹æ³•" class="table-of-contents__link">æ–¹æ³•</a><ul><li><a href="#ç‚¹è¯­æ³•" class="table-of-contents__link">ç‚¹è¯­æ³•</a></li></ul></li><li><a href="#" class="table-of-contents__link">@</a></li><li><a href="#ocå’Œjsäº¤äº’è¯¦è§£" class="table-of-contents__link">OCå’ŒJSäº¤äº’è¯¦è§£</a></li><li><a href="#å†…å­˜ç®¡ç†" class="table-of-contents__link">å†…å­˜ç®¡ç†</a></li><li><a href="#å†…å­˜ç®¡ç†-1" class="table-of-contents__link">å†…å­˜ç®¡ç†</a><ul><li><a href="#å †å’Œæ ˆ" class="table-of-contents__link">å †å’Œæ ˆ</a></li></ul></li><li><a href="#æºç " class="table-of-contents__link">æºç </a></li><li><a href="#æšä¸¾" class="table-of-contents__link">æšä¸¾</a></li><li><a href="#è¯»ä¹¦ç¬”è®°" class="table-of-contents__link">è¯»ä¹¦ç¬”è®°</a></li><li><a href="#å†…å­˜ç®¡ç†-2" class="table-of-contents__link">å†…å­˜ç®¡ç†</a><ul><li><a href="#å †å’Œæ ˆ-1" class="table-of-contents__link">å †å’Œæ ˆ</a></li></ul></li><li><a href="#å¼‚å¸¸å¤„ç†" class="table-of-contents__link">å¼‚å¸¸å¤„ç†</a><ul><li><a href="#iosç¨‹åºçš„å†…å­˜ç»“æ„" class="table-of-contents__link">iOSç¨‹åºçš„å†…å­˜ç»“æ„</a></li></ul></li><li><a href="#ç¼–ç¨‹è§„èŒƒ" class="table-of-contents__link">ç¼–ç¨‹è§„èŒƒ</a></li></ul></div></div></div></div></main></div></div><footer class="footer footer--dark"><div class="container"><div class="row footer__links"><div class="col footer__col"><h4 class="footer__title">Docs</h4><ul class="footer__items"><li class="footer__item"><a class="footer__link-item" href="/docs/">Style Guide</a></li><li class="footer__item"><a class="footer__link-item" href="/docs/">Second Doc</a></li></ul></div><div class="col footer__col"><h4 class="footer__title">Community</h4><ul class="footer__items"><li class="footer__item"><a href="https://stackoverflow.com/questions/tagged/docusaurus" target="_blank" rel="noopener noreferrer" class="footer__link-item">Stack Overflow</a></li><li class="footer__item"><a href="https://discordapp.com/invite/docusaurus" target="_blank" rel="noopener noreferrer" class="footer__link-item">Discord</a></li><li class="footer__item"><a href="https://twitter.com/docusaurus" target="_blank" rel="noopener noreferrer" class="footer__link-item">Twitter</a></li></ul></div><div class="col footer__col"><h4 class="footer__title">More</h4><ul class="footer__items"><li class="footer__item"><a class="footer__link-item" href="/blog">Blog</a></li><li class="footer__item"><a href="https://github.com/facebook/docusaurus" target="_blank" rel="noopener noreferrer" class="footer__link-item">GitHub</a></li></ul></div></div><div class="footer__bottom text--center"><div class="footer__copyright">Copyright Â© 2021 My Project, Inc. Built with Docusaurus.</div></div></div></footer></div>
<script src="/styles.aaa24a49.js"></script>
<script src="/runtime~main.7eeb3d64.js"></script>
<script src="/main.7a041c89.js"></script>
<script src="/1.62b3ea65.js"></script>
<script src="/257.bb7ed37e.js"></script>
<script src="/258.ed1b30f8.js"></script>
<script src="/935f2afb.55f5968c.js"></script>
<script src="/256.a7530d90.js"></script>
<script src="/d44fe28d.4951b4b5.js"></script>
</body>
</html>