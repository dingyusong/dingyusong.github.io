<!doctype html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width,initial-scale=1">
<meta name="generator" content="Docusaurus v2.0.0-alpha.70">
<link rel="alternate" type="application/rss+xml" href="/blog/rss.xml" title="My Site Blog RSS Feed">
<link rel="alternate" type="application/atom+xml" href="/blog/atom.xml" title="My Site Blog Atom Feed"><title data-react-helmet="true">C++模板 | My Site</title><meta data-react-helmet="true" name="twitter:card" content="summary_large_image"><meta data-react-helmet="true" name="docusaurus_locale" content="en"><meta data-react-helmet="true" name="docusaurus_version" content="current"><meta data-react-helmet="true" name="docusaurus_tag" content="docs-default-current"><meta data-react-helmet="true" property="og:title" content="C++模板 | My Site"><meta data-react-helmet="true" name="description" content="C++模板和STL"><meta data-react-helmet="true" property="og:description" content="C++模板和STL"><meta data-react-helmet="true" property="og:url" content="https://your-docusaurus-test-site.com/docs/编程语言/CPP/C++模板"><link data-react-helmet="true" rel="shortcut icon" href="/img/favicon.ico"><link data-react-helmet="true" rel="canonical" href="https://your-docusaurus-test-site.com/docs/编程语言/CPP/C++模板"><link rel="stylesheet" href="/styles.8cfbcdec.css">
<link rel="preload" href="/styles.e736442d.js" as="script">
<link rel="preload" href="/runtime~main.500606b1.js" as="script">
<link rel="preload" href="/main.e34cadf8.js" as="script">
<link rel="preload" href="/1.3353372a.js" as="script">
<link rel="preload" href="/256.3f6603bc.js" as="script">
<link rel="preload" href="/257.427a7301.js" as="script">
<link rel="preload" href="/935f2afb.0ee8c40a.js" as="script">
<link rel="preload" href="/255.24175022.js" as="script">
<link rel="preload" href="/e875e228.121ee758.js" as="script">
</head>
<body>
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){var t=null;try{t=localStorage.getItem("theme")}catch(t){}return t}();t(null!==e?e:"light")}()</script><div id="__docusaurus">
<nav aria-label="Skip navigation links"><button type="button" tabindex="0" class="skipToContent_11B0">Skip to main content</button></nav><nav class="navbar navbar--fixed-top"><div class="navbar__inner"><div class="navbar__items"><div aria-label="Navigation bar toggle" class="navbar__toggle" role="button" tabindex="0"><svg aria-label="Menu" width="30" height="30" viewBox="0 0 30 30" role="img" focusable="false"><title>Menu</title><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></div><a class="navbar__brand" href="/"><img src="/img/logo.svg" alt="My Site Logo" class="themedImage_YANc themedImage--light_3CMI navbar__logo"><img src="/img/logo.svg" alt="My Site Logo" class="themedImage_YANc themedImage--dark_3ARp navbar__logo"><strong class="navbar__title">My Site</strong></a><a class="navbar__item navbar__link" href="/docs/编程基础/编程基础/编程基础">编程基础</a><a aria-current="page" class="navbar__item navbar__link navbar__link--active" href="/docs/编程语言/编程语言">编程语言</a><a class="navbar__item navbar__link" href="/docs/工具/常用工具">工具</a><a class="navbar__item navbar__link" href="/docs/应用开发/应用开发">应用开发</a><a class="navbar__item navbar__link" href="/docs/Apple/iOS开发/iOS开发">Apple</a><a class="navbar__item navbar__link" href="/docs/音视频/音视频">音视频</a><a class="navbar__item navbar__link" href="/docs/项目/项目">项目</a></div><div class="navbar__items navbar__items--right"><div class="react-toggle react-toggle--disabled displayOnlyInLargeViewport_2N3Q"><div class="react-toggle-track"><div class="react-toggle-track-check"><span class="toggle_3NWk">🌜</span></div><div class="react-toggle-track-x"><span class="toggle_3NWk">🌞</span></div></div><div class="react-toggle-thumb"></div><input type="checkbox" disabled="" aria-label="Dark mode toggle" class="react-toggle-screenreader-only"></div><div class="navbar__search"><span aria-label="expand searchbar" role="button" class="search-icon" tabindex="0"></span><input type="search" id="search_input_react" placeholder="Search" aria-label="Search" class="navbar__search-input search-bar"></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div><div class="navbar-sidebar"><div class="navbar-sidebar__brand"><a class="navbar__brand" href="/"><img src="/img/logo.svg" alt="My Site Logo" class="themedImage_YANc themedImage--light_3CMI navbar__logo"><img src="/img/logo.svg" alt="My Site Logo" class="themedImage_YANc themedImage--dark_3ARp navbar__logo"><strong class="navbar__title">My Site</strong></a></div><div class="navbar-sidebar__items"><div class="menu"><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" href="/docs/编程基础/编程基础/编程基础">编程基础</a></li><li class="menu__list-item"><a aria-current="page" class="menu__link navbar__link--active" href="/docs/编程语言/编程语言">编程语言</a></li><li class="menu__list-item"><a class="menu__link" href="/docs/工具/常用工具">工具</a></li><li class="menu__list-item"><a class="menu__link" href="/docs/应用开发/应用开发">应用开发</a></li><li class="menu__list-item"><a class="menu__link" href="/docs/Apple/iOS开发/iOS开发">Apple</a></li><li class="menu__list-item"><a class="menu__link" href="/docs/音视频/音视频">音视频</a></li><li class="menu__list-item"><a class="menu__link" href="/docs/项目/项目">项目</a></li></ul></div></div></div></nav><div class="main-wrapper"><div class="docPage_vMrn"><main class="docMainContainer_2iGs"><div class="container padding-vert--lg docItemWrapper_1bxp"><div class="row"><div class="col docItemCol_U38p"><div class="docItemContainer_a7m4"><article><header><h1 class="docTitle_Oumm">C++模板</h1></header><div class="markdown"><h1><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_prK2" id="c模板和stl"></a>C++模板和STL<a class="hash-link" href="#c模板和stl" title="Direct link to heading">#</a></h1><ul><li>本阶段主要针对C++==泛型编程==和==STL==技术做详细讲解，探讨C++更深层的使用</li></ul><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_prK2" id="1-模板"></a>1 模板<a class="hash-link" href="#1-模板" title="Direct link to heading">#</a></h2><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_prK2" id="11-模板的概念"></a>1.1 模板的概念<a class="hash-link" href="#11-模板的概念" title="Direct link to heading">#</a></h3><p>模板就是建立<strong>通用的模具</strong>，大大<strong>提高复用性</strong></p><p>例如生活中的模板</p><p>一寸照片模板：</p><p><img alt="1547105026929" src="/assets/images/1547105026929-6c6e1b2066d9f61e2dcf80b05e38adbd.png"></p><p>PPT模板：</p><p><img alt="1547103297864" src="/assets/images/1547103297864-013dfc1d4d11d96f9a6c0990f396947f.png"></p><p><img alt="1547103359158" src="/assets/images/1547103359158-0474ef9bb7380a61437788c7fd8a950b.png"></p><p>模板的特点：</p><ul><li>模板不可以直接使用，它只是一个框架</li><li>模板的通用并不是万能的</li></ul><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_prK2" id="12-函数模板"></a>1.2 函数模板<a class="hash-link" href="#12-函数模板" title="Direct link to heading">#</a></h3><ul><li>C++另一种编程思想称为 ==泛型编程== ，主要利用的技术就是模板</li></ul><ul><li>C++提供两种模板机制:<strong>函数模板</strong>和<strong>类模板</strong> </li></ul><h4><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_prK2" id="121-函数模板语法"></a>1.2.1 函数模板语法<a class="hash-link" href="#121-函数模板语法" title="Direct link to heading">#</a></h4><p>函数模板作用：</p><p>建立一个通用函数，其函数返回值类型和形参类型可以不具体制定，用一个<strong>虚拟的类型</strong>来代表。</p><p><strong>语法：</strong> </p><div class="mdxCodeBlock_1zKU"><div class="codeBlockContent_actS"><div tabindex="0" class="prism-code language-C++ codeBlock_tuNs thin-scrollbar"><div class="codeBlockLines_3uvA" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">template&lt;typename T&gt;</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">函数声明或定义</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_2GIj">Copy</button></div></div><p><strong>解释：</strong></p><p>template  ---  声明创建模板</p><p>typename  --- 表面其后面的符号是一种数据类型，可以用class代替</p><p>T    ---   通用的数据类型，名称可以替换，通常为大写字母</p><ul><li><a href="https://blog.csdn.net/qinglinsan/article/details/51419691" target="_blank" rel="noopener noreferrer">理解typename的两个含义</a></li></ul><p><strong>示例：</strong></p><div class="mdxCodeBlock_1zKU"><div class="codeBlockContent_actS"><div tabindex="0" class="prism-code language-C++ codeBlock_tuNs thin-scrollbar"><div class="codeBlockLines_3uvA" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">//交换整型函数</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">void swapInt(int&amp; a, int&amp; b) {</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    int temp = a;</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    a = b;</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    b = temp;</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">}</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">//交换浮点型函数</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">void swapDouble(double&amp; a, double&amp; b) {</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    double temp = a;</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    a = b;</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    b = temp;</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">}</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">//利用模板提供通用的交换函数</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">template&lt;typename T&gt;</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">void mySwap(T&amp; a, T&amp; b)</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">{</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    T temp = a;</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    a = b;</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    b = temp;</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">}</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">void test01()</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">{</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    int a = 10;</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    int b = 20;</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    </span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    //swapInt(a, b);</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    //利用模板实现交换</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    //1、自动类型推导</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    mySwap(a, b);</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    //2、显示指定类型</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    mySwap&lt;int&gt;(a, b);</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    cout &lt;&lt; &quot;a = &quot; &lt;&lt; a &lt;&lt; endl;</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    cout &lt;&lt; &quot;b = &quot; &lt;&lt; b &lt;&lt; endl;</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">}</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">int main() {</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    test01();</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    system(&quot;pause&quot;);</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    return 0;</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">}</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">//模板参数在返回值中</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">temple&lt;class Iterator&gt;</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">inline typename iterator_traits&lt;Iteator&gt;::iterator_category</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">iterator_category(const Iterator&amp;) {</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  typedef typename iterator_traits&lt;Iteator&gt;::iterator_category category;</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  return category();</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">}</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">typename iterator_traits&lt;Iteator&gt;::iterator_category 就相当于int，不过因为里面有模板类型，所以要在前面添加typename。</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_2GIj">Copy</button></div></div><p>总结：</p><ul><li>函数模板利用关键字 template</li><li>使用函数模板有两种方式：自动类型推导、显示指定类型</li><li>模板的目的是为了提高复用性，将类型参数化</li></ul><h4><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_prK2" id="122-函数模板注意事项"></a>1.2.2 函数模板注意事项<a class="hash-link" href="#122-函数模板注意事项" title="Direct link to heading">#</a></h4><p>注意事项：</p><ul><li>自动类型推导，必须推导出一致的数据类型T,才可以使用</li></ul><ul><li>模板必须要确定出T的数据类型，才可以使用</li></ul><p><strong>示例：</strong></p><div class="mdxCodeBlock_1zKU"><div class="codeBlockContent_actS"><div tabindex="0" class="prism-code language-C++ codeBlock_tuNs thin-scrollbar"><div class="codeBlockLines_3uvA" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">//利用模板提供通用的交换函数</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">template&lt;class T&gt;</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">void mySwap(T&amp; a, T&amp; b)</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">{</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    T temp = a;</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    a = b;</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    b = temp;</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">}</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">// 1、自动类型推导，必须推导出一致的数据类型T,才可以使用</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">void test01()</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">{</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    int a = 10;</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    int b = 20;</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    char c = &#x27;c&#x27;;</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    mySwap(a, b); // 正确，可以推导出一致的T</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    //mySwap(a, c); // 错误，推导不出一致的T类型</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">}</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">// 2、模板必须要确定出T的数据类型，才可以使用</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">template&lt;class T&gt;</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">void func()</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">{</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    cout &lt;&lt; &quot;func 调用&quot; &lt;&lt; endl;</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">}</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">void test02()</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">{</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    //func(); //错误，模板不能独立使用，必须确定出T的类型</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    func&lt;int&gt;(); //利用显示指定类型的方式，给T一个类型，才可以使用该模板</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">}</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">int main() {</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    test01();</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    test02();</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    system(&quot;pause&quot;);</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    return 0;</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">}</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_2GIj">Copy</button></div></div><p>总结：</p><ul><li>使用模板时必须确定出通用数据类型T，并且能够推导出一致的类型</li></ul><h4><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_prK2" id="123-函数模板案例"></a>1.2.3 函数模板案例<a class="hash-link" href="#123-函数模板案例" title="Direct link to heading">#</a></h4><p>案例描述：</p><ul><li>利用函数模板封装一个排序的函数，可以对<strong>不同数据类型数组</strong>进行排序</li><li>排序规则从大到小，排序算法为<strong>选择排序</strong></li><li>分别利用<strong>char数组</strong>和<strong>int数组</strong>进行测试</li></ul><p>示例：</p><div class="mdxCodeBlock_1zKU"><div class="codeBlockContent_actS"><div tabindex="0" class="prism-code language-C++ codeBlock_tuNs thin-scrollbar"><div class="codeBlockLines_3uvA" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">//交换的函数模板</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">template&lt;typename T&gt;</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">void mySwap(T &amp;a, T&amp;b)</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">{</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    T temp = a;</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    a = b;</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    b = temp;</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">}</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">template&lt;class T&gt; // 也可以替换成typename</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">//利用选择排序，进行对数组从大到小的排序</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">void mySort(T arr[], int len)</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">{</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    for (int i = 0; i &lt; len; i++)</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    {</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        int max = i; //最大数的下标</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        for (int j = i + 1; j &lt; len; j++)</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        {</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">            if (arr[max] &lt; arr[j])</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">            {</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">                max = j;</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">            }</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        }</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        if (max != i) //如果最大数的下标不是i，交换两者</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        {</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">            mySwap(arr[max], arr[i]);</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        }</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    }</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">}</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">template&lt;typename T&gt;</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">void printArray(T arr[], int len) {</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    for (int i = 0; i &lt; len; i++) {</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        cout &lt;&lt; arr[i] &lt;&lt; &quot; &quot;;</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    }</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    cout &lt;&lt; endl;</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">}</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">void test01()</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">{</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    //测试char数组</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    char charArr[] = &quot;bdcfeagh&quot;;</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    int num = sizeof(charArr) / sizeof(char);</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    mySort(charArr, num);</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    printArray(charArr, num);</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">}</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">void test02()</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">{</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    //测试int数组</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    int intArr[] = { 7, 5, 8, 1, 3, 9, 2, 4, 6 };</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    int num = sizeof(intArr) / sizeof(int);</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    mySort(intArr, num);</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    printArray(intArr, num);</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">}</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">int main() {</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    test01();</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    test02();</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    system(&quot;pause&quot;);</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    return 0;</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">}</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_2GIj">Copy</button></div></div><p>总结：模板可以提高代码复用，需要熟练掌握</p><h4><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_prK2" id="124-普通函数与函数模板的区别"></a>1.2.4 普通函数与函数模板的区别<a class="hash-link" href="#124-普通函数与函数模板的区别" title="Direct link to heading">#</a></h4><p><strong>普通函数与函数模板区别：</strong></p><ul><li>普通函数调用时可以发生自动类型转换（隐式类型转换）</li><li>函数模板调用时，如果利用自动类型推导，不会发生隐式类型转换</li><li>如果利用显示指定类型的方式，可以发生隐式类型转换</li></ul><p><strong>示例：</strong></p><div class="mdxCodeBlock_1zKU"><div class="codeBlockContent_actS"><div tabindex="0" class="prism-code language-C++ codeBlock_tuNs thin-scrollbar"><div class="codeBlockLines_3uvA" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">//普通函数</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">int myAdd01(int a, int b)</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">{</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    return a + b;</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">}</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">//函数模板</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">template&lt;class T&gt;</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">T myAdd02(T a, T b)  </span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">{</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    return a + b;</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">}</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">//使用函数模板时，如果用自动类型推导，不会发生自动类型转换,即隐式类型转换</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">void test01()</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">{</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    int a = 10;</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    int b = 20;</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    char c = &#x27;c&#x27;;</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    </span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    cout &lt;&lt; myAdd01(a, c) &lt;&lt; endl; //正确，将char类型的&#x27;c&#x27;隐式转换为int类型  &#x27;c&#x27; 对应 ASCII码 99</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    //myAdd02(a, c); // 报错，使用自动类型推导时，不会发生隐式类型转换</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    myAdd02&lt;int&gt;(a, c); //正确，如果用显示指定类型，可以发生隐式类型转换</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">}</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">int main() {</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    test01();</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    system(&quot;pause&quot;);</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    return 0;</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">}</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_2GIj">Copy</button></div></div><p>总结：建议使用显示指定类型的方式，调用函数模板，因为可以自己确定通用类型T</p><h4><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_prK2" id="125-普通函数与函数模板的调用规则"></a>1.2.5 普通函数与函数模板的调用规则<a class="hash-link" href="#125-普通函数与函数模板的调用规则" title="Direct link to heading">#</a></h4><p>调用规则如下：</p><ol><li>如果函数模板和普通函数都可以实现，优先调用普通函数</li><li>可以通过空模板参数列表来强制调用函数模板</li><li>函数模板也可以发生重载</li><li>如果函数模板可以产生更好的匹配,优先调用函数模板</li></ol><p><strong>示例：</strong></p><div class="mdxCodeBlock_1zKU"><div class="codeBlockContent_actS"><div tabindex="0" class="prism-code language-C++ codeBlock_tuNs thin-scrollbar"><div class="codeBlockLines_3uvA" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">//普通函数与函数模板调用规则</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">void myPrint(int a, int b)</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">{</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    cout &lt;&lt; &quot;调用的普通函数&quot; &lt;&lt; endl;</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">}</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">template&lt;typename T&gt;</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">void myPrint(T a, T b) </span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">{ </span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    cout &lt;&lt; &quot;调用的模板&quot; &lt;&lt; endl;</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">}</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">template&lt;typename T&gt;</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">void myPrint(T a, T b, T c) </span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">{ </span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    cout &lt;&lt; &quot;调用重载的模板&quot; &lt;&lt; endl; </span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">}</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">void test01()</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">{</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    //1、如果函数模板和普通函数都可以实现，优先调用普通函数</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    // 注意 如果告诉编译器  普通函数是有的，但只是声明没有实现，或者不在当前文件内实现，就会报错找不到</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    int a = 10;</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    int b = 20;</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    myPrint(a, b); //调用普通函数</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    //2、可以通过空模板参数列表来强制调用函数模板</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    myPrint&lt;&gt;(a, b); //调用函数模板</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    //3、函数模板也可以发生重载</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    int c = 30;</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    myPrint(a, b, c); //调用重载的函数模板</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    //4、 如果函数模板可以产生更好的匹配,优先调用函数模板</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    char c1 = &#x27;a&#x27;;</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    char c2 = &#x27;b&#x27;;</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    myPrint(c1, c2); //调用函数模板</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">}</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">int main() {</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    test01();</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    system(&quot;pause&quot;);</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    return 0;</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">}</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_2GIj">Copy</button></div></div><p>总结：既然提供了函数模板，最好就不要提供普通函数，否则容易出现二义性</p><h4><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_prK2" id="126-模板的局限性"></a>1.2.6 模板的局限性<a class="hash-link" href="#126-模板的局限性" title="Direct link to heading">#</a></h4><p><strong>局限性：</strong></p><ul><li>模板的通用性并不是万能的</li></ul><p><strong>例如：</strong></p><div class="mdxCodeBlock_1zKU"><div class="codeBlockContent_actS"><div tabindex="0" class="prism-code language-C++ codeBlock_tuNs thin-scrollbar"><div class="codeBlockLines_3uvA" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">    template&lt;class T&gt;</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    void f(T a, T b)</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    { </span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        a = b;</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    }</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_2GIj">Copy</button></div></div><p>在上述代码中提供的赋值操作，如果传入的a和b是一个数组，就无法实现了</p><p>再例如：</p><div class="mdxCodeBlock_1zKU"><div class="codeBlockContent_actS"><div tabindex="0" class="prism-code language-C++ codeBlock_tuNs thin-scrollbar"><div class="codeBlockLines_3uvA" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">    template&lt;class T&gt;</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    void f(T a, T b)</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    { </span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        if(a &gt; b) { ... }</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    }</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_2GIj">Copy</button></div></div><p>在上述代码中，如果T的数据类型传入的是像Person这样的自定义数据类型，也无法正常运行</p><p>因此C++为了解决这种问题，提供模板的重载，可以为这些<strong>特定的类型</strong>提供<strong>具体化的模板</strong></p><p><strong>示例：</strong></p><div class="mdxCodeBlock_1zKU"><div class="codeBlockContent_actS"><div tabindex="0" class="prism-code language-C++ codeBlock_tuNs thin-scrollbar"><div class="codeBlockLines_3uvA" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">#include&lt;iostream&gt;</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">using namespace std;</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">#include &lt;string&gt;</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">class Person</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">{</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">public:</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    Person(string name, int age)</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    {</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        this-&gt;m_Name = name;</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        this-&gt;m_Age = age;</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    }</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    string m_Name;</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    int m_Age;</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">};</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">//普通函数模板</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">template&lt;class T&gt;</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">bool myCompare(T&amp; a, T&amp; b)</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">{</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    if (a == b)</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    {</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        return true;</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    }</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    else</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    {</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        return false;</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    }</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">}</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">//具体化，显示具体化的原型和定意思以template&lt;&gt;开头，并通过名称来指出类型</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">//具体化优先于常规模板</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">template&lt;&gt; bool myCompare(Person &amp;p1, Person &amp;p2)</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">{</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    if ( p1.m_Name  == p2.m_Name &amp;&amp; p1.m_Age == p2.m_Age)</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    {</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        return true;</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    }</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    else</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    {</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        return false;</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    }</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">}</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">void test01()</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">{</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    int a = 10;</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    int b = 20;</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    //内置数据类型可以直接使用通用的函数模板</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    bool ret = myCompare(a, b);</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    if (ret)</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    {</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        cout &lt;&lt; &quot;a == b &quot; &lt;&lt; endl;</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    }</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    else</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    {</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        cout &lt;&lt; &quot;a != b &quot; &lt;&lt; endl;</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    }</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">}</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">void test02()</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">{</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    Person p1(&quot;Tom&quot;, 10);</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    Person p2(&quot;Tom&quot;, 10);</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    //自定义数据类型，不会调用普通的函数模板</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    //可以创建具体化的Person数据类型的模板，用于特殊处理这个类型</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    bool ret = myCompare(p1, p2);</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    if (ret)</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    {</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        cout &lt;&lt; &quot;p1 == p2 &quot; &lt;&lt; endl;</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    }</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    else</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    {</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        cout &lt;&lt; &quot;p1 != p2 &quot; &lt;&lt; endl;</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    }</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">}</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">int main() {</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    test01();</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    test02();</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    system(&quot;pause&quot;);</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    return 0;</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">}</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_2GIj">Copy</button></div></div><p>总结：</p><ul><li>利用具体化的模板，可以解决自定义类型的通用化</li><li>学习模板并不是为了写模板，而是在STL能够运用系统提供的模板</li></ul><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_prK2" id="13-类模板"></a>1.3 类模板<a class="hash-link" href="#13-类模板" title="Direct link to heading">#</a></h3><h4><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_prK2" id="131-类模板语法"></a>1.3.1 类模板语法<a class="hash-link" href="#131-类模板语法" title="Direct link to heading">#</a></h4><p>类模板作用：</p><ul><li>建立一个通用类，类中的成员 数据类型可以不具体制定，用一个<strong>虚拟的类型</strong>来代表。</li></ul><p><strong>语法：</strong> </p><div class="mdxCodeBlock_1zKU"><div class="codeBlockContent_actS"><div tabindex="0" class="prism-code language-c++ codeBlock_tuNs thin-scrollbar"><div class="codeBlockLines_3uvA" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">template&lt;typename T&gt;</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">类</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_2GIj">Copy</button></div></div><p><strong>解释：</strong></p><p>template  ---  声明创建模板</p><p>typename  --- 表面其后面的符号是一种数据类型，可以用class代替</p><p>T    ---   通用的数据类型，名称可以替换，通常为大写字母</p><p><strong>示例：</strong></p><div class="mdxCodeBlock_1zKU"><div class="codeBlockContent_actS"><div tabindex="0" class="prism-code language-C++ codeBlock_tuNs thin-scrollbar"><div class="codeBlockLines_3uvA" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">#include &lt;string&gt;</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">//类模板</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">template&lt;class NameType, class AgeType&gt; </span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">class Person</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">{</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">public:</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    Person(NameType name, AgeType age)</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    {</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        this-&gt;mName = name;</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        this-&gt;mAge = age;</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    }</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    void showPerson()</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    {</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        cout &lt;&lt; &quot;name: &quot; &lt;&lt; this-&gt;mName &lt;&lt; &quot; age: &quot; &lt;&lt; this-&gt;mAge &lt;&lt; endl;</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    }</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">public:</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    NameType mName;</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    AgeType mAge;</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">};</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">void test01()</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">{</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    // 指定NameType 为string类型，AgeType 为 int类型</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    Person&lt;string, int&gt;P1(&quot;孙悟空&quot;, 999);</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    P1.showPerson();</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">}</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">int main() {</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    test01();</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    system(&quot;pause&quot;);</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    return 0;</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">}</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_2GIj">Copy</button></div></div><p>总结：类模板和函数模板语法相似，在声明模板template后面加类，此类称为类模板</p><h4><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_prK2" id="132-类模板与函数模板区别"></a>1.3.2 类模板与函数模板区别<a class="hash-link" href="#132-类模板与函数模板区别" title="Direct link to heading">#</a></h4><p>类模板与函数模板区别主要有两点：</p><ol><li>类模板没有自动类型推导的使用方式</li><li>类模板在模板参数列表中可以有默认参数</li></ol><p><strong>示例：</strong></p><div class="mdxCodeBlock_1zKU"><div class="codeBlockContent_actS"><div tabindex="0" class="prism-code language-C++ codeBlock_tuNs thin-scrollbar"><div class="codeBlockLines_3uvA" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">#include &lt;string&gt;</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">//类模板</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">template&lt;class NameType, class AgeType = int&gt; </span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">class Person</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">{</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">public:</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    Person(NameType name, AgeType age)</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    {</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        this-&gt;mName = name;</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        this-&gt;mAge = age;</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    }</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    void showPerson()</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    {</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        cout &lt;&lt; &quot;name: &quot; &lt;&lt; this-&gt;mName &lt;&lt; &quot; age: &quot; &lt;&lt; this-&gt;mAge &lt;&lt; endl;</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    }</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">public:</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    NameType mName;</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    AgeType mAge;</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">};</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">//1、类模板没有自动类型推导的使用方式</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">void test01()</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">{</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    // Person p(&quot;孙悟空&quot;, 1000); // 错误 类模板使用时候，不可以用自动类型推导</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    Person &lt;string ,int&gt;p(&quot;孙悟空&quot;, 1000); //必须使用显示指定类型的方式，使用类模板</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    p.showPerson();</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">}</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">//2、类模板在模板参数列表中可以有默认参数</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">void test02()</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">{</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    Person &lt;string&gt; p(&quot;猪八戒&quot;, 999); //类模板中的模板参数列表 可以指定默认参数</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    p.showPerson();</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">}</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">int main() {</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    test01();</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    test02();</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    system(&quot;pause&quot;);</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    return 0;</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">}</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_2GIj">Copy</button></div></div><p>总结：</p><ul><li>类模板使用只能用显示指定类型方式</li><li>类模板中的模板参数列表可以有默认参数</li></ul><h4><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_prK2" id="133-类模板中成员函数创建时机"></a>1.3.3 类模板中成员函数创建时机<a class="hash-link" href="#133-类模板中成员函数创建时机" title="Direct link to heading">#</a></h4><p>类模板中成员函数和普通类中成员函数创建时机是有区别的：</p><ul><li>普通类中的成员函数一开始就可以创建</li><li>类模板中的成员函数在调用时才创建</li></ul><p><strong>示例：</strong></p><div class="mdxCodeBlock_1zKU"><div class="codeBlockContent_actS"><div tabindex="0" class="prism-code language-C++ codeBlock_tuNs thin-scrollbar"><div class="codeBlockLines_3uvA" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">class Person1</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">{</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">public:</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    void showPerson1()</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    {</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        cout &lt;&lt; &quot;Person1 show&quot; &lt;&lt; endl;</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    }</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">};</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">class Person2</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">{</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">public:</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    void showPerson2()</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    {</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        cout &lt;&lt; &quot;Person2 show&quot; &lt;&lt; endl;</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    }</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">};</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">template&lt;class T&gt;</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">class MyClass</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">{</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">public:</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    T obj;</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    //类模板中的成员函数，并不是一开始就创建的，而是在模板调用时再生成</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    void fun1() { obj.showPerson1(); }</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    void fun2() { obj.showPerson2(); }</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">};</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">void test01()</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">{</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    MyClass&lt;Person1&gt; m;</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    </span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    m.fun1();</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    //m.fun2();//编译会出错，说明函数调用才会去创建成员函数</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">}</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">int main() {</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    test01();</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    system(&quot;pause&quot;);</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    return 0;</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">}</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_2GIj">Copy</button></div></div><p>总结：类模板中的成员函数并不是一开始就创建的，在调用时才去创建</p><h4><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_prK2" id="134-类模板对象做函数参数"></a>1.3.4 类模板对象做函数参数<a class="hash-link" href="#134-类模板对象做函数参数" title="Direct link to heading">#</a></h4><p>学习目标：</p><ul><li>类模板实例化出的对象，向函数传参的方式</li></ul><p>一共有三种传入方式：</p><ol><li>指定传入的类型   --- 直接显示对象的数据类型</li><li>参数模板化           --- 将对象中的参数变为模板进行传递</li><li>整个类模板化       --- 将这个对象类型 模板化进行传递</li></ol><p><strong>示例：</strong></p><div class="mdxCodeBlock_1zKU"><div class="codeBlockContent_actS"><div tabindex="0" class="prism-code language-C++ codeBlock_tuNs thin-scrollbar"><div class="codeBlockLines_3uvA" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">#include &lt;string&gt;</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">//类模板</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">template&lt;class NameType, class AgeType = int&gt; </span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">class Person</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">{</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">public:</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    Person(NameType name, AgeType age)</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    {</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        this-&gt;mName = name;</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        this-&gt;mAge = age;</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    }</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    void showPerson()</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    {</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        cout &lt;&lt; &quot;name: &quot; &lt;&lt; this-&gt;mName &lt;&lt; &quot; age: &quot; &lt;&lt; this-&gt;mAge &lt;&lt; endl;</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    }</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">public:</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    NameType mName;</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    AgeType mAge;</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">};</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">//1、指定传入的类型</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">void printPerson1(Person&lt;string, int&gt; &amp;p) </span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">{</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    p.showPerson();</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">}</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">void test01()</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">{</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    Person &lt;string, int &gt;p(&quot;孙悟空&quot;, 100);</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    printPerson1(p);</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">}</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">//2、参数模板化</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">template &lt;class T1, class T2&gt;</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">void printPerson2(Person&lt;T1, T2&gt;&amp;p)</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">{</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    p.showPerson();</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    cout &lt;&lt; &quot;T1的类型为： &quot; &lt;&lt; typeid(T1).name() &lt;&lt; endl;</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    cout &lt;&lt; &quot;T2的类型为： &quot; &lt;&lt; typeid(T2).name() &lt;&lt; endl;</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">}</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">void test02()</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">{</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    Person &lt;string, int &gt;p(&quot;猪八戒&quot;, 90);</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    printPerson2(p);</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">}</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">//3、整个类模板化</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">template&lt;class T&gt;</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">void printPerson3(T &amp; p)</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">{</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    cout &lt;&lt; &quot;T的类型为： &quot; &lt;&lt; typeid(T).name() &lt;&lt; endl;</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    p.showPerson();</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">}</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">void test03()</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">{</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    Person &lt;string, int &gt;p(&quot;唐僧&quot;, 30);</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    printPerson3(p);</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">}</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">int main() {</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    test01();</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    test02();</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    test03();</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    system(&quot;pause&quot;);</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    return 0;</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">}</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_2GIj">Copy</button></div></div><p>总结：</p><ul><li>通过类模板创建的对象，可以有三种方式向函数中进行传参</li><li>使用比较广泛是第一种：指定传入的类型</li></ul><h4><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_prK2" id="135-类模板与继承"></a>1.3.5 类模板与继承<a class="hash-link" href="#135-类模板与继承" title="Direct link to heading">#</a></h4><p>当类模板碰到继承时，需要注意一下几点：</p><ul><li>当子类继承的父类是一个类模板时，子类在声明的时候，要指定出父类中T的类型</li><li>如果不指定，编译器无法给子类分配内存</li><li>如果想灵活指定出父类中T的类型，子类也需变为类模板</li></ul><p><strong>示例：</strong></p><div class="mdxCodeBlock_1zKU"><div class="codeBlockContent_actS"><div tabindex="0" class="prism-code language-C++ codeBlock_tuNs thin-scrollbar"><div class="codeBlockLines_3uvA" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">template&lt;class T&gt;</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">class Base</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">{</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    T m;</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">};</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">//class Son:public Base  //错误，c++编译需要给子类分配内存，必须知道父类中T的类型才可以向下继承</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">class Son :public Base&lt;int&gt; //必须指定一个类型</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">{</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">};</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">void test01()</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">{</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    Son c;</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">}</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">//类模板继承类模板 ,可以用T2指定父类中的T类型</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">template&lt;class T1, class T2&gt;</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">class Son2 :public Base&lt;T2&gt;</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">{</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">public:</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    Son2()</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    {</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        cout &lt;&lt; typeid(T1).name() &lt;&lt; endl;</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        cout &lt;&lt; typeid(T2).name() &lt;&lt; endl;</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    }</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">};</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">void test02()</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">{</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    Son2&lt;int, char&gt; child1;</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">}</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">int main() {</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    test01();</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    test02();</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    system(&quot;pause&quot;);</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    return 0;</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">}</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_2GIj">Copy</button></div></div><p>总结：如果父类是类模板，子类需要指定出父类中T的数据类型</p><h4><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_prK2" id="136-类模板成员函数类外实现"></a>1.3.6 类模板成员函数类外实现<a class="hash-link" href="#136-类模板成员函数类外实现" title="Direct link to heading">#</a></h4><p>学习目标：能够掌握类模板中的成员函数类外实现</p><p><strong>示例：</strong></p><div class="mdxCodeBlock_1zKU"><div class="codeBlockContent_actS"><div tabindex="0" class="prism-code language-C++ codeBlock_tuNs thin-scrollbar"><div class="codeBlockLines_3uvA" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">#include &lt;string&gt;</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">//类模板中成员函数类外实现</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">template&lt;class T1, class T2&gt;</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">class Person {</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">public:</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    //成员函数类内声明</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    Person(T1 name, T2 age);</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    void showPerson();</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">public:</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    T1 m_Name;</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    T2 m_Age;</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">};</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">//构造函数 类外实现</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">template&lt;class T1, class T2&gt;</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">Person&lt;T1, T2&gt;::Person(T1 name, T2 age) {</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    this-&gt;m_Name = name;</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    this-&gt;m_Age = age;</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">}</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">//成员函数 类外实现</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">template&lt;class T1, class T2&gt;</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">void Person&lt;T1, T2&gt;::showPerson() {</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    cout &lt;&lt; &quot;姓名: &quot; &lt;&lt; this-&gt;m_Name &lt;&lt; &quot; 年龄:&quot; &lt;&lt; this-&gt;m_Age &lt;&lt; endl;</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">}</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">void test01()</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">{</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    Person&lt;string, int&gt; p(&quot;Tom&quot;, 20);</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    p.showPerson();</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">}</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">int main() {</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    test01();</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    system(&quot;pause&quot;);</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    return 0;</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">}</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_2GIj">Copy</button></div></div><p>总结：类模板中成员函数类外实现时，需要加上模板参数列表</p><h4><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_prK2" id="137-类模板分文件编写"></a>1.3.7 类模板分文件编写<a class="hash-link" href="#137-类模板分文件编写" title="Direct link to heading">#</a></h4><p>学习目标：</p><ul><li>掌握类模板成员函数分文件编写产生的问题以及解决方式</li></ul><p>问题：</p><ul><li>类模板中成员函数创建时机是在调用阶段，导致分文件编写时链接不到</li></ul><p>解决：</p><ul><li>解决方式1：直接包含.cpp源文件</li><li>解决方式2：将声明和实现写到同一个文件中，并更改后缀名为.hpp，hpp是约定的名称，并不是强制</li></ul><p><strong>示例：</strong></p><p>person.hpp中代码：</p><div class="mdxCodeBlock_1zKU"><div class="codeBlockContent_actS"><div tabindex="0" class="prism-code language-C++ codeBlock_tuNs thin-scrollbar"><div class="codeBlockLines_3uvA" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">#pragma once</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">#include &lt;iostream&gt;</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">using namespace std;</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">#include &lt;string&gt;</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">template&lt;class T1, class T2&gt;</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">class Person {</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">public:</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    Person(T1 name, T2 age);</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    void showPerson();</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">public:</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    T1 m_Name;</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    T2 m_Age;</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">};</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">//构造函数 类外实现</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">template&lt;class T1, class T2&gt;</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">Person&lt;T1, T2&gt;::Person(T1 name, T2 age) {</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    this-&gt;m_Name = name;</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    this-&gt;m_Age = age;</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">}</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">//成员函数 类外实现</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">template&lt;class T1, class T2&gt;</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">void Person&lt;T1, T2&gt;::showPerson() {</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    cout &lt;&lt; &quot;姓名: &quot; &lt;&lt; this-&gt;m_Name &lt;&lt; &quot; 年龄:&quot; &lt;&lt; this-&gt;m_Age &lt;&lt; endl;</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">}</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_2GIj">Copy</button></div></div><p>类模板分文件编写.cpp中代码</p><div class="mdxCodeBlock_1zKU"><div class="codeBlockContent_actS"><div tabindex="0" class="prism-code language-C++ codeBlock_tuNs thin-scrollbar"><div class="codeBlockLines_3uvA" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">#include&lt;iostream&gt;</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">using namespace std;</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">//#include &quot;person.h&quot;</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">#include &quot;person.cpp&quot; //解决方式1，包含cpp源文件</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">//解决方式2，将声明和实现写到一起，文件后缀名改为.hpp</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">#include &quot;person.hpp&quot;</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">void test01()</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">{</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    Person&lt;string, int&gt; p(&quot;Tom&quot;, 10);</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    p.showPerson();</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">}</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">int main() {</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    test01();</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    system(&quot;pause&quot;);</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    return 0;</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">}</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_2GIj">Copy</button></div></div><p>总结：主流的解决方式是第二种，将类模板成员函数写到一起，并将后缀名改为.hpp</p><h4><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_prK2" id="138-类模板与友元"></a>1.3.8 类模板与友元<a class="hash-link" href="#138-类模板与友元" title="Direct link to heading">#</a></h4><p>学习目标：</p><ul><li>掌握类模板配合友元函数的类内和类外实现</li></ul><p>全局函数类内实现 - 直接在类内声明友元即可</p><p>全局函数类外实现 - 需要提前让编译器知道全局函数的存在</p><p><strong>示例：</strong></p><div class="mdxCodeBlock_1zKU"><div class="codeBlockContent_actS"><div tabindex="0" class="prism-code language-C++ codeBlock_tuNs thin-scrollbar"><div class="codeBlockLines_3uvA" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">#include &lt;string&gt;</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">//2、全局函数配合友元  类外实现 - 先做函数模板声明，下方在做函数模板定义，在做友元</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">template&lt;class T1, class T2&gt; class Person;</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">//如果声明了函数模板，可以将实现写到后面，否则需要将实现体写到类的前面让编译器提前看到</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">//template&lt;class T1, class T2&gt; void printPerson2(Person&lt;T1, T2&gt; &amp; p); </span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">template&lt;class T1, class T2&gt;</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">void printPerson2(Person&lt;T1, T2&gt; &amp; p)</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">{</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    cout &lt;&lt; &quot;类外实现 ---- 姓名： &quot; &lt;&lt; p.m_Name &lt;&lt; &quot; 年龄：&quot; &lt;&lt; p.m_Age &lt;&lt; endl;</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">}</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">template&lt;class T1, class T2&gt;</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">class Person</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">{</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    //1、全局函数配合友元   类内实现</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    friend void printPerson(Person&lt;T1, T2&gt; &amp; p)</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    {</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        cout &lt;&lt; &quot;姓名： &quot; &lt;&lt; p.m_Name &lt;&lt; &quot; 年龄：&quot; &lt;&lt; p.m_Age &lt;&lt; endl;</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    }</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    //全局函数配合友元  类外实现</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    friend void printPerson2&lt;&gt;(Person&lt;T1, T2&gt; &amp; p);</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">public:</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    Person(T1 name, T2 age)</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    {</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        this-&gt;m_Name = name;</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        this-&gt;m_Age = age;</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    }</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">private:</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    T1 m_Name;</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    T2 m_Age;</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">};</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">//1、全局函数在类内实现</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">void test01()</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">{</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    Person &lt;string, int &gt;p(&quot;Tom&quot;, 20);</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    printPerson(p);</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">}</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">//2、全局函数在类外实现</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">void test02()</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">{</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    Person &lt;string, int &gt;p(&quot;Jerry&quot;, 30);</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    printPerson2(p);</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">}</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">int main() {</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    //test01();</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    test02();</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    system(&quot;pause&quot;);</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    return 0;</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">}</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_2GIj">Copy</button></div></div><p>总结：建议全局函数做类内实现，用法简单，而且编译器可以直接识别</p><h4><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_prK2" id="139-类模板案例"></a>1.3.9 类模板案例<a class="hash-link" href="#139-类模板案例" title="Direct link to heading">#</a></h4><p>案例描述:  实现一个通用的数组类，要求如下：</p><ul><li>可以对内置数据类型以及自定义数据类型的数据进行存储</li><li>将数组中的数据存储到堆区</li><li>构造函数中可以传入数组的容量</li><li>提供对应的拷贝构造函数以及operator=防止浅拷贝问题</li><li>提供尾插法和尾删法对数组中的数据进行增加和删除</li><li>可以通过下标的方式访问数组中的元素</li><li>可以获取数组中当前元素个数和数组的容量</li></ul><p><strong>示例：</strong></p><p>myArray.hpp中代码</p><div class="mdxCodeBlock_1zKU"><div class="codeBlockContent_actS"><div tabindex="0" class="prism-code language-C++ codeBlock_tuNs thin-scrollbar"><div class="codeBlockLines_3uvA" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">#pragma once</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">#include &lt;iostream&gt;</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">using namespace std;</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">template&lt;class T&gt;</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">class MyArray</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">{</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">public:</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    </span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    //构造函数</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    MyArray(int capacity)</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    {</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        this-&gt;m_Capacity = capacity;</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        this-&gt;m_Size = 0;</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        pAddress = new T[this-&gt;m_Capacity];</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    }</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    //拷贝构造</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    MyArray(const MyArray &amp; arr)</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    {</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        this-&gt;m_Capacity = arr.m_Capacity;</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        this-&gt;m_Size = arr.m_Size;</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        this-&gt;pAddress = new T[this-&gt;m_Capacity];</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        for (int i = 0; i &lt; this-&gt;m_Size; i++)</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        {</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">            //如果T为对象，而且还包含指针，必须需要重载 = 操作符，因为这个等号不是 构造 而是赋值，</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">            // 普通类型可以直接= 但是指针类型需要深拷贝</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">            this-&gt;pAddress[i] = arr.pAddress[i];</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        }</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    }</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    //重载= 操作符  防止浅拷贝问题</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    MyArray&amp; operator=(const MyArray&amp; myarray) {</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        if (this-&gt;pAddress != NULL) {</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">            delete[] this-&gt;pAddress;</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">            this-&gt;m_Capacity = 0;</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">            this-&gt;m_Size = 0;</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        }</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        this-&gt;m_Capacity = myarray.m_Capacity;</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        this-&gt;m_Size = myarray.m_Size;</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        this-&gt;pAddress = new T[this-&gt;m_Capacity];</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        for (int i = 0; i &lt; this-&gt;m_Size; i++) {</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">            this-&gt;pAddress[i] = myarray[i];</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        }</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        return *this;</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    }</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    //重载[] 操作符  arr[0]</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    T&amp; operator [](int index)</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    {</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        return this-&gt;pAddress[index]; //不考虑越界，用户自己去处理</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    }</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    //尾插法</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    void Push_back(const T &amp; val)</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    {</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        if (this-&gt;m_Capacity == this-&gt;m_Size)</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        {</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">            return;</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        }</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        this-&gt;pAddress[this-&gt;m_Size] = val;</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        this-&gt;m_Size++;</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    }</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    //尾删法</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    void Pop_back()</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    {</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        if (this-&gt;m_Size == 0)</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        {</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">            return;</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        }</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        this-&gt;m_Size--;</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    }</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    //获取数组容量</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    int getCapacity()</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    {</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        return this-&gt;m_Capacity;</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    }</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    //获取数组大小</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    int getSize()</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    {</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        return this-&gt;m_Size;</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    }</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    //析构</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    ~MyArray()</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    {</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        if (this-&gt;pAddress != NULL)</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        {</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">            delete[] this-&gt;pAddress;</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">            this-&gt;pAddress = NULL;</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">            this-&gt;m_Capacity = 0;</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">            this-&gt;m_Size = 0;</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        }</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    }</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">private:</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    T * pAddress;  //指向一个堆空间，这个空间存储真正的数据</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    int m_Capacity; //容量</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    int m_Size;   // 大小</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">};</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_2GIj">Copy</button></div></div><p>类模板案例—数组类封装.cpp中</p><div class="mdxCodeBlock_1zKU"><div class="codeBlockContent_actS"><div tabindex="0" class="prism-code language-C++ codeBlock_tuNs thin-scrollbar"><div class="codeBlockLines_3uvA" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">#include &quot;myArray.hpp&quot;</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">#include &lt;string&gt;</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">void printIntArray(MyArray&lt;int&gt;&amp; arr) {</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    for (int i = 0; i &lt; arr.getSize(); i++) {</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        cout &lt;&lt; arr[i] &lt;&lt; &quot; &quot;;</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    }</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    cout &lt;&lt; endl;</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">}</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">//测试内置数据类型</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">void test01()</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">{</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    MyArray&lt;int&gt; array1(10);</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    for (int i = 0; i &lt; 10; i++)</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    {</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        array1.Push_back(i);</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    }</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    cout &lt;&lt; &quot;array1打印输出：&quot; &lt;&lt; endl;</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    printIntArray(array1);</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    cout &lt;&lt; &quot;array1的大小：&quot; &lt;&lt; array1.getSize() &lt;&lt; endl;</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    cout &lt;&lt; &quot;array1的容量：&quot; &lt;&lt; array1.getCapacity() &lt;&lt; endl;</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    cout &lt;&lt; &quot;--------------------------&quot; &lt;&lt; endl;</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    MyArray&lt;int&gt; array2(array1);</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    array2.Pop_back();</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    cout &lt;&lt; &quot;array2打印输出：&quot; &lt;&lt; endl;</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    printIntArray(array2);</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    cout &lt;&lt; &quot;array2的大小：&quot; &lt;&lt; array2.getSize() &lt;&lt; endl;</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    cout &lt;&lt; &quot;array2的容量：&quot; &lt;&lt; array2.getCapacity() &lt;&lt; endl;</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">}</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">//测试自定义数据类型</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">class Person {</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">public:</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    Person() {} </span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        Person(string name, int age) {</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        this-&gt;m_Name = name;</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        this-&gt;m_Age = age;</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    }</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">public:</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    string m_Name;</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    int m_Age;</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">};</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">void printPersonArray(MyArray&lt;Person&gt;&amp; personArr)</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">{</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    for (int i = 0; i &lt; personArr.getSize(); i++) {</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        cout &lt;&lt; &quot;姓名：&quot; &lt;&lt; personArr[i].m_Name &lt;&lt; &quot; 年龄： &quot; &lt;&lt; personArr[i].m_Age &lt;&lt; endl;</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    }</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">}</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">void test02()</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">{</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    //创建数组</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    MyArray&lt;Person&gt; pArray(10);</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    Person p1(&quot;孙悟空&quot;, 30);</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    Person p2(&quot;韩信&quot;, 20);</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    Person p3(&quot;妲己&quot;, 18);</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    Person p4(&quot;王昭君&quot;, 15);</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    Person p5(&quot;赵云&quot;, 24);</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    //插入数据</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    pArray.Push_back(p1);</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    pArray.Push_back(p2);</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    pArray.Push_back(p3);</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    pArray.Push_back(p4);</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    pArray.Push_back(p5);</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    printPersonArray(pArray);</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    cout &lt;&lt; &quot;pArray的大小：&quot; &lt;&lt; pArray.getSize() &lt;&lt; endl;</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    cout &lt;&lt; &quot;pArray的容量：&quot; &lt;&lt; pArray.getCapacity() &lt;&lt; endl;</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">}</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">int main() {</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    //test01();</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    test02();</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    system(&quot;pause&quot;);</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    return 0;</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">}</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_2GIj">Copy</button></div></div><p>总结：</p><p>能够利用所学知识点实现通用的数组</p><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_prK2" id="member-template-成員模板"></a>member template, 成員模板<a class="hash-link" href="#member-template-成員模板" title="Direct link to heading">#</a></h3><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_prK2" id="specialization-模板特化"></a>specialization, 模板特化<a class="hash-link" href="#specialization-模板特化" title="Direct link to heading">#</a></h3><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_prK2" id="partial-specialization-模板偏特化"></a>partial specialization, 模板偏特化<a class="hash-link" href="#partial-specialization-模板偏特化" title="Direct link to heading">#</a></h3><h4><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_prK2" id="個數的偏"></a>個數的偏<a class="hash-link" href="#個數的偏" title="Direct link to heading">#</a></h4><h4><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_prK2" id="範圍的偏"></a>範圍的偏<a class="hash-link" href="#範圍的偏" title="Direct link to heading">#</a></h4><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_prK2" id="template-template-parameter-模板模板參數"></a>template template parameter, 模板模板參數<a class="hash-link" href="#template-template-parameter-模板模板參數" title="Direct link to heading">#</a></h3><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_prK2" id="variadic-templates-since-c11"></a>variadic templates (since C++11)<a class="hash-link" href="#variadic-templates-since-c11" title="Direct link to heading">#</a></h3><p>可变参数模板</p></div></article><div class="margin-vert--xl"><div class="row"><div class="col"><a href="dys-typora-open://mine/survival/docs/编程语言/CPP/C++模板.md" target="_blank" rel="noreferrer noopener"><svg fill="currentColor" height="1.2em" width="1.2em" preserveAspectRatio="xMidYMid meet" role="img" viewBox="0 0 40 40" class="iconEdit_2LL7"><g><path d="m34.5 11.7l-3 3.1-6.3-6.3 3.1-3q0.5-0.5 1.2-0.5t1.1 0.5l3.9 3.9q0.5 0.4 0.5 1.1t-0.5 1.2z m-29.5 17.1l18.4-18.5 6.3 6.3-18.4 18.4h-6.3v-6.2z"></path></g></svg>Edit this page</a></div></div></div><div class="margin-vert--lg"><nav class="pagination-nav" aria-label="Blog list page navigation"><div class="pagination-nav__item"></div><div class="pagination-nav__item pagination-nav__item--next"></div></nav></div></div></div><div class="col col--3"><div class="tableOfContents_2xL- thin-scrollbar"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#1-模板" class="table-of-contents__link">1 模板</a><ul><li><a href="#11-模板的概念" class="table-of-contents__link">1.1 模板的概念</a></li><li><a href="#12-函数模板" class="table-of-contents__link">1.2 函数模板</a></li><li><a href="#13-类模板" class="table-of-contents__link">1.3 类模板</a></li><li><a href="#member-template-成員模板" class="table-of-contents__link">member template, 成員模板</a></li><li><a href="#specialization-模板特化" class="table-of-contents__link">specialization, 模板特化</a></li><li><a href="#partial-specialization-模板偏特化" class="table-of-contents__link">partial specialization, 模板偏特化</a></li><li><a href="#template-template-parameter-模板模板參數" class="table-of-contents__link">template template parameter, 模板模板參數</a></li><li><a href="#variadic-templates-since-c11" class="table-of-contents__link">variadic templates (since C++11)</a></li></ul></li></ul></div></div></div></div></main></div></div><footer class="footer footer--dark"><div class="container"><div class="row footer__links"><div class="col footer__col"><h4 class="footer__title">Docs</h4><ul class="footer__items"><li class="footer__item"><a class="footer__link-item" href="/docs/">Style Guide</a></li><li class="footer__item"><a class="footer__link-item" href="/docs/">Second Doc</a></li></ul></div><div class="col footer__col"><h4 class="footer__title">Community</h4><ul class="footer__items"><li class="footer__item"><a href="https://stackoverflow.com/questions/tagged/docusaurus" target="_blank" rel="noopener noreferrer" class="footer__link-item">Stack Overflow</a></li><li class="footer__item"><a href="https://discordapp.com/invite/docusaurus" target="_blank" rel="noopener noreferrer" class="footer__link-item">Discord</a></li><li class="footer__item"><a href="https://twitter.com/docusaurus" target="_blank" rel="noopener noreferrer" class="footer__link-item">Twitter</a></li></ul></div><div class="col footer__col"><h4 class="footer__title">More</h4><ul class="footer__items"><li class="footer__item"><a class="footer__link-item" href="/blog">Blog</a></li><li class="footer__item"><a href="https://github.com/facebook/docusaurus" target="_blank" rel="noopener noreferrer" class="footer__link-item">GitHub</a></li></ul></div></div><div class="footer__bottom text--center"><div class="footer__copyright">Copyright © 2021 My Project, Inc. Built with Docusaurus.</div></div></div></footer></div>
<script src="/styles.e736442d.js"></script>
<script src="/runtime~main.500606b1.js"></script>
<script src="/main.e34cadf8.js"></script>
<script src="/1.3353372a.js"></script>
<script src="/256.3f6603bc.js"></script>
<script src="/257.427a7301.js"></script>
<script src="/935f2afb.0ee8c40a.js"></script>
<script src="/255.24175022.js"></script>
<script src="/e875e228.121ee758.js"></script>
</body>
</html>