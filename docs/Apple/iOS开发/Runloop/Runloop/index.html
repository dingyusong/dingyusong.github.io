<!doctype html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width,initial-scale=1">
<meta name="generator" content="Docusaurus v2.0.0-alpha.70">
<link rel="alternate" type="application/rss+xml" href="/blog/rss.xml" title="My Site Blog RSS Feed">
<link rel="alternate" type="application/atom+xml" href="/blog/atom.xml" title="My Site Blog Atom Feed"><title data-react-helmet="true">Runloop | My Site</title><meta data-react-helmet="true" name="twitter:card" content="summary_large_image"><meta data-react-helmet="true" name="docusaurus_locale" content="en"><meta data-react-helmet="true" name="docusaurus_version" content="current"><meta data-react-helmet="true" name="docusaurus_tag" content="docs-default-current"><meta data-react-helmet="true" property="og:title" content="Runloop | My Site"><meta data-react-helmet="true" name="description" content="Runloop"><meta data-react-helmet="true" property="og:description" content="Runloop"><meta data-react-helmet="true" property="og:url" content="http://localhost:9999//docs/Apple/iOSå¼€å‘/Runloop/Runloop"><link data-react-helmet="true" rel="shortcut icon" href="/img/favicon.ico"><link data-react-helmet="true" rel="canonical" href="http://localhost:9999//docs/Apple/iOSå¼€å‘/Runloop/Runloop"><link rel="stylesheet" href="/styles.8cfbcdec.css">
<link rel="preload" href="/styles.9f2bd08d.js" as="script">
<link rel="preload" href="/runtime~main.b9916a1e.js" as="script">
<link rel="preload" href="/main.aad198f0.js" as="script">
<link rel="preload" href="/1.c6142e7c.js" as="script">
<link rel="preload" href="/259.bd219e04.js" as="script">
<link rel="preload" href="/260.8c75c7b8.js" as="script">
<link rel="preload" href="/935f2afb.b83995d3.js" as="script">
<link rel="preload" href="/258.77a3145c.js" as="script">
<link rel="preload" href="/94f04a0e.a5922850.js" as="script">
</head>
<body>
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){var t=null;try{t=localStorage.getItem("theme")}catch(t){}return t}();t(null!==e?e:"light")}()</script><div id="__docusaurus">
<nav aria-label="Skip navigation links"><button type="button" tabindex="0" class="skipToContent_11B0">Skip to main content</button></nav><nav class="navbar navbar--fixed-top"><div class="navbar__inner"><div class="navbar__items"><div aria-label="Navigation bar toggle" class="navbar__toggle" role="button" tabindex="0"><svg aria-label="Menu" width="30" height="30" viewBox="0 0 30 30" role="img" focusable="false"><title>Menu</title><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></div><a class="navbar__brand" href="/"><img src="/img/logo.svg" alt="My Site Logo" class="themedImage_YANc themedImage--light_3CMI navbar__logo"><img src="/img/logo.svg" alt="My Site Logo" class="themedImage_YANc themedImage--dark_3ARp navbar__logo"><strong class="navbar__title">My Site</strong></a><a class="navbar__item navbar__link" href="/docs/">åŸºç¡€</a><a class="navbar__item navbar__link" href="/docs/ç¼–ç¨‹è¯­è¨€/ç¼–ç¨‹è¯­è¨€">è¯­è¨€</a><a class="navbar__item navbar__link" href="/docs/å·¥å…·/å¸¸ç”¨å·¥å…·">å·¥å…·</a><a class="navbar__item navbar__link" href="/docs/åº”ç”¨å¼€å‘/åº”ç”¨å¼€å‘">åº”ç”¨å¼€å‘</a><a aria-current="page" class="navbar__item navbar__link navbar__link--active" href="/docs/Apple/iOSå¼€å‘/iOSå¼€å‘">Apple</a><a class="navbar__item navbar__link" href="/docs/éŸ³è§†é¢‘/éŸ³è§†é¢‘">éŸ³è§†é¢‘</a><a class="navbar__item navbar__link" href="/docs/é¡¹ç›®/é¡¹ç›®">é¡¹ç›®</a></div><div class="navbar__items navbar__items--right"><div class="react-toggle react-toggle--disabled displayOnlyInLargeViewport_2N3Q"><div class="react-toggle-track"><div class="react-toggle-track-check"><span class="toggle_3NWk">ğŸŒœ</span></div><div class="react-toggle-track-x"><span class="toggle_3NWk">ğŸŒ</span></div></div><div class="react-toggle-thumb"></div><input type="checkbox" disabled="" aria-label="Dark mode toggle" class="react-toggle-screenreader-only"></div><div class="navbar__search"><span aria-label="expand searchbar" role="button" class="search-icon" tabindex="0"></span><input type="search" id="search_input_react" placeholder="Search" aria-label="Search" class="navbar__search-input search-bar"></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div><div class="navbar-sidebar"><div class="navbar-sidebar__brand"><a class="navbar__brand" href="/"><img src="/img/logo.svg" alt="My Site Logo" class="themedImage_YANc themedImage--light_3CMI navbar__logo"><img src="/img/logo.svg" alt="My Site Logo" class="themedImage_YANc themedImage--dark_3ARp navbar__logo"><strong class="navbar__title">My Site</strong></a></div><div class="navbar-sidebar__items"><div class="menu"><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" href="/docs/">åŸºç¡€</a></li><li class="menu__list-item"><a class="menu__link" href="/docs/ç¼–ç¨‹è¯­è¨€/ç¼–ç¨‹è¯­è¨€">è¯­è¨€</a></li><li class="menu__list-item"><a class="menu__link" href="/docs/å·¥å…·/å¸¸ç”¨å·¥å…·">å·¥å…·</a></li><li class="menu__list-item"><a class="menu__link" href="/docs/åº”ç”¨å¼€å‘/åº”ç”¨å¼€å‘">åº”ç”¨å¼€å‘</a></li><li class="menu__list-item"><a aria-current="page" class="menu__link navbar__link--active" href="/docs/Apple/iOSå¼€å‘/iOSå¼€å‘">Apple</a></li><li class="menu__list-item"><a class="menu__link" href="/docs/éŸ³è§†é¢‘/éŸ³è§†é¢‘">éŸ³è§†é¢‘</a></li><li class="menu__list-item"><a class="menu__link" href="/docs/é¡¹ç›®/é¡¹ç›®">é¡¹ç›®</a></li></ul></div></div></div></nav><div class="main-wrapper"><div class="docPage_vMrn"><main class="docMainContainer_2iGs"><div class="container padding-vert--lg docItemWrapper_1bxp"><div class="row"><div class="col docItemCol_U38p"><div class="docItemContainer_a7m4"><article><header><h1 class="docTitle_Oumm">Runloop</h1></header><div class="markdown"><h1><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_prK2" id="runloop"></a>Runloop<a class="hash-link" href="#runloop" title="Direct link to heading">#</a></h1><p>[toc]</p><p>é¡¾åæ€ä¹‰
è¿è¡Œå¾ªç¯
åœ¨ç¨‹åºè¿è¡Œè¿‡ç¨‹ä¸­å¾ªç¯åšä¸€äº›äº‹æƒ…</p><p><img alt="image-20211012215632058" src="/assets/images/image-20211012215632058-9fb55dca100bcd3ac3ad0fe9b39107be.png"></p><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_prK2" id="åº”ç”¨èŒƒç•´"></a>åº”ç”¨èŒƒç•´<a class="hash-link" href="#åº”ç”¨èŒƒç•´" title="Direct link to heading">#</a></h2><p>å®šæ—¶å™¨ï¼ˆTimerï¼‰ã€PerformSelector
GCD Async Main Queue
äº‹ä»¶å“åº”ã€æ‰‹åŠ¿è¯†åˆ«ã€ç•Œé¢åˆ·æ–°
ç½‘ç»œè¯·æ±‚
AutoreleasePool</p><p>æ²¡æœ‰Runloopæ‰§è¡Œå®Œ13è¡Œä»£ç å°±é€€å‡ºäº†</p><p><img alt="image-20211012215614478" src="/assets/images/image-20211012215614478-d8f6b041d88f20afedbea49f29da3d1a.png"></p><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_prK2" id="runloopçš„åŸºæœ¬ä½œç”¨"></a>RunLoopçš„åŸºæœ¬ä½œç”¨<a class="hash-link" href="#runloopçš„åŸºæœ¬ä½œç”¨" title="Direct link to heading">#</a></h2><p>ä¿æŒç¨‹åºçš„æŒç»­è¿è¡Œ
å¤„ç†Appä¸­çš„å„ç§äº‹ä»¶ï¼ˆæ¯”å¦‚è§¦æ‘¸äº‹ä»¶ã€å®šæ—¶å™¨äº‹ä»¶ç­‰ï¼‰
èŠ‚çœCPUèµ„æºï¼Œæé«˜ç¨‹åºæ€§èƒ½ï¼šè¯¥åšäº‹æ—¶åšäº‹ï¼Œè¯¥ä¼‘æ¯æ—¶ä¼‘æ¯
......</p><p><img alt="image-20211012215825840" src="/assets/images/image-20211012215825840-6be2f01c812bd099dec8c0418a323864.png"></p><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_prK2" id="nsrunloopå¯¹è±¡"></a>NSRunLoopå¯¹è±¡<a class="hash-link" href="#nsrunloopå¯¹è±¡" title="Direct link to heading">#</a></h2><p>iOSä¸­æœ‰2å¥—APIæ¥è®¿é—®å’Œä½¿ç”¨RunLoop
Foundationï¼šNSRunLoop</p><p>Core Foundationï¼šCFRunLoopRef</p><p>NSRunLoopå’ŒCFRunLoopReféƒ½ä»£è¡¨ç€RunLoopå¯¹è±¡
NSRunLoopæ˜¯åŸºäºCFRunLoopRefçš„ä¸€å±‚OCåŒ…è£…
CFRunLoopRefæ˜¯å¼€æºçš„
<a href="https://opensource.apple.com/tarballs/CF/" target="_blank" rel="noopener noreferrer">https://opensource.apple.com/tarballs/CF/</a></p><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_prK2" id="runloopä¸çº¿ç¨‹"></a>Runloopä¸çº¿ç¨‹<a class="hash-link" href="#runloopä¸çº¿ç¨‹" title="Direct link to heading">#</a></h2><p>æ¯æ¡çº¿ç¨‹éƒ½æœ‰å”¯ä¸€çš„ä¸€ä¸ªä¸ä¹‹å¯¹åº”çš„RunLoopå¯¹è±¡</p><p>RunLoopä¿å­˜åœ¨ä¸€ä¸ªå…¨å±€çš„Dictionaryé‡Œï¼Œçº¿ç¨‹ä½œä¸ºkeyï¼ŒRunLoopä½œä¸ºvalue</p><p>çº¿ç¨‹åˆšåˆ›å»ºæ—¶å¹¶æ²¡æœ‰RunLoopå¯¹è±¡ï¼ŒRunLoopä¼šåœ¨ç¬¬ä¸€æ¬¡è·å–å®ƒæ—¶åˆ›å»º</p><p>RunLoopä¼šåœ¨çº¿ç¨‹ç»“æŸæ—¶é”€æ¯</p><ul><li>ä¸»çº¿ç¨‹çš„RunLoopå·²ç»è‡ªåŠ¨è·å–ï¼ˆåˆ›å»ºï¼‰ï¼Œå­çº¿ç¨‹é»˜è®¤æ²¡æœ‰å¼€å¯RunLoopã€‚<ul><li>å› ä¸ºå­çº¿ç¨‹æ²¡æœ‰å¿…è¦å¼€å¯Runloopï¼Œå¤§éƒ¨åˆ†æƒ…å†µä¸‹æ˜¯ä¸€ä¸ªä»»åŠ¡æ‰§è¡Œå®Œæˆå°±é€€å‡ºäº†ã€‚éœ€è¦ä¿æ´»çš„ï¼Œå¯ä»¥å¼€å¯Runloopã€‚</li></ul></li></ul><p>â€‹	</p><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_prK2" id="è·å–runloopå¯¹è±¡"></a>è·å–Runloopå¯¹è±¡<a class="hash-link" href="#è·å–runloopå¯¹è±¡" title="Direct link to heading">#</a></h2><p>Foundation
[NSRunLoop currentRunLoop]; // è·å¾—å½“å‰çº¿ç¨‹çš„RunLoopå¯¹è±¡
[NSRunLoop mainRunLoop]; // è·å¾—ä¸»çº¿ç¨‹çš„RunLoopå¯¹è±¡</p><p>Core Foundation
CFRunLoopGetCurrent(); // è·å¾—å½“å‰çº¿ç¨‹çš„RunLoopå¯¹è±¡
CFRunLoopGetMain(); // è·å¾—ä¸»çº¿ç¨‹çš„RunLoopå¯¹è±¡</p><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_prK2" id="runloopç›¸å…³çš„ç±»"></a>RunLoopç›¸å…³çš„ç±»<a class="hash-link" href="#runloopç›¸å…³çš„ç±»" title="Direct link to heading">#</a></h2><p>Core Foundationä¸­å…³äºRunLoopçš„5ä¸ªç±»
CFRunLoopRef
CFRunLoopModeRef
CFRunLoopSourceRef
CFRunLoopTimerRef
CFRunLoopObserverRef</p><p><img alt="image-20211012220131581" src="/assets/images/image-20211012220131581-31733f83dac8bba7f1f78b71b4308134.png"></p><p><img alt="image-20211012220141130" src="/assets/images/image-20211012220141130-9d89e698a251e82f289abb7e2c349fd1.png"></p><p><img alt="image-20211012220156017" src="/assets/images/image-20211012220156017-2336b4f28d30d0f309681fd35ea634bd.png"></p><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_prK2" id="cfrunloopmoderef"></a>CFRunLoopModeRef<a class="hash-link" href="#cfrunloopmoderef" title="Direct link to heading">#</a></h2><p>CFRunLoopModeRefä»£è¡¨RunLoopçš„è¿è¡Œæ¨¡å¼</p><p>ä¸€ä¸ªRunLoopåŒ…å«è‹¥å¹²ä¸ªModeï¼Œæ¯ä¸ªModeåˆåŒ…å«è‹¥å¹²ä¸ªSource0/Source1/Timer/Observer</p><p>RunLoopå¯åŠ¨æ—¶åªèƒ½é€‰æ‹©å…¶ä¸­ä¸€ä¸ªModeï¼Œä½œä¸ºcurrentMode</p><p>å¦‚æœéœ€è¦åˆ‡æ¢Modeï¼Œåªèƒ½é€€å‡ºå½“å‰Loopï¼Œå†é‡æ–°é€‰æ‹©ä¸€ä¸ªModeè¿›å…¥
ä¸åŒç»„çš„Source0/Source1/Timer/Observerèƒ½åˆ†éš”å¼€æ¥ï¼Œäº’ä¸å½±å“</p><p>å¦‚æœModeé‡Œæ²¡æœ‰ä»»ä½•Source0/Source1/Timer/Observerï¼ŒRunLoopä¼šç«‹é©¬é€€å‡º</p><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_prK2" id="å¸¸è§çš„2ç§mode"></a>å¸¸è§çš„2ç§Mode<a class="hash-link" href="#å¸¸è§çš„2ç§mode" title="Direct link to heading">#</a></h3><p>kCFRunLoopDefaultModeï¼ˆNSDefaultRunLoopModeï¼‰ï¼šAppçš„é»˜è®¤Modeï¼Œé€šå¸¸ä¸»çº¿ç¨‹æ˜¯åœ¨è¿™ä¸ªModeä¸‹è¿è¡Œ</p><p>UITrackingRunLoopModeï¼šç•Œé¢è·Ÿè¸ª Modeï¼Œç”¨äº ScrollView è¿½è¸ªè§¦æ‘¸æ»‘åŠ¨ï¼Œä¿è¯ç•Œé¢æ»‘åŠ¨æ—¶ä¸å—å…¶ä»– Mode å½±å“</p><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_prK2" id="cfrunloopobserverref"></a>CFRunLoopObserverRef<a class="hash-link" href="#cfrunloopobserverref" title="Direct link to heading">#</a></h2><p><img alt="image-20211012220329834" src="/assets/images/image-20211012220329834-35b0deb2b89eeb251903f43296b5a362.png"></p><p><img alt="image-20211012220404532" src="/assets/images/image-20211012220404532-9a6b98c4e8521c183eb371e16549de2a.png"></p><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_prK2" id="runloopçš„è¿è¡Œé€»è¾‘"></a>RunLoopçš„è¿è¡Œé€»è¾‘<a class="hash-link" href="#runloopçš„è¿è¡Œé€»è¾‘" title="Direct link to heading">#</a></h2><ul><li><p>Source0
è§¦æ‘¸äº‹ä»¶å¤„ç†
performSelector:onThread:</p></li><li><p>Source1
åŸºäºPortçš„çº¿ç¨‹é—´é€šä¿¡
ç³»ç»Ÿäº‹ä»¶æ•æ‰</p></li><li><p>Timers
NSTimer
performSelector:withObject:afterDelay:</p></li><li><p>Observers
ç”¨äºç›‘å¬RunLoopçš„çŠ¶æ€
UIåˆ·æ–°ï¼ˆBeforeWaitingï¼‰
Autorelease poolï¼ˆBeforeWaitingï¼‰</p></li></ul><p>01ã€é€šçŸ¥Observersï¼šè¿›å…¥Loop
02ã€é€šçŸ¥Observersï¼šå³å°†å¤„ç†Timers
03ã€é€šçŸ¥Observersï¼šå³å°†å¤„ç†Sources
04ã€å¤„ç†Blocks
05ã€å¤„ç†Source0ï¼ˆå¯èƒ½ä¼šå†æ¬¡å¤„ç†Blocksï¼‰
06ã€å¦‚æœå­˜åœ¨Source1ï¼Œå°±è·³è½¬åˆ°ç¬¬8æ­¥
07ã€é€šçŸ¥Observersï¼šå¼€å§‹ä¼‘çœ ï¼ˆç­‰å¾…æ¶ˆæ¯å”¤é†’ï¼‰
08ã€é€šçŸ¥Observersï¼šç»“æŸä¼‘çœ ï¼ˆè¢«æŸä¸ªæ¶ˆæ¯å”¤é†’ï¼‰
01&gt; å¤„ç†Timer
02&gt; å¤„ç†GCD Async To Main Queue
03&gt; å¤„ç†Source1
09ã€å¤„ç†Blocks
10ã€æ ¹æ®å‰é¢çš„æ‰§è¡Œç»“æœï¼Œå†³å®šå¦‚ä½•æ“ä½œ
01&gt; å›åˆ°ç¬¬02æ­¥
02&gt; é€€å‡ºLoop
11ã€é€šçŸ¥Observersï¼šé€€å‡ºLoop</p><p><img alt="image-20211012220604739" src="/assets/images/image-20211012220604739-5d0b938111391c53621edd42096c1e00.png"></p><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_prK2" id="runloopä¼‘çœ çš„å®ç°åŸç†"></a>RunLoopä¼‘çœ çš„å®ç°åŸç†<a class="hash-link" href="#runloopä¼‘çœ çš„å®ç°åŸç†" title="Direct link to heading">#</a></h2><p><img alt="image-20211012220631434" src="/assets/images/image-20211012220631434-c13195538dde2f3dfc7ced1324959605.png"></p><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_prK2" id="runloopåœ¨å®é™…å¼€ä¸­çš„åº”ç”¨"></a>RunLoopåœ¨å®é™…å¼€ä¸­çš„åº”ç”¨<a class="hash-link" href="#runloopåœ¨å®é™…å¼€ä¸­çš„åº”ç”¨" title="Direct link to heading">#</a></h2><p>æ§åˆ¶çº¿ç¨‹ç”Ÿå‘½å‘¨æœŸï¼ˆçº¿ç¨‹ä¿æ´»ï¼‰</p><p>è§£å†³NSTimeråœ¨æ»‘åŠ¨æ—¶åœæ­¢å·¥ä½œçš„é—®é¢˜</p><p>ç›‘æ§åº”ç”¨å¡é¡¿</p><p>æ€§èƒ½ä¼˜åŒ–</p><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_prK2" id="runloopæ¡ˆä¾‹åˆ†æ"></a>Runloopæ¡ˆä¾‹åˆ†æ<a class="hash-link" href="#runloopæ¡ˆä¾‹åˆ†æ" title="Direct link to heading">#</a></h2><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_prK2" id="æ¡ˆä¾‹åˆ†æ1ï¼šnstimer"></a>æ¡ˆä¾‹åˆ†æ1ï¼šNSTimer<a class="hash-link" href="#æ¡ˆä¾‹åˆ†æ1ï¼šnstimer" title="Direct link to heading">#</a></h3><p><img alt="image-20211011105425050" src="/assets/images/image-20211011105425050-57767b359c0c7aca17e1856c94fcc91a.png"></p><div class="mdxCodeBlock_1zKU"><div class="codeBlockContent_actS"><div tabindex="0" class="prism-code language-undefined codeBlock_tuNs thin-scrollbar"><div class="codeBlockLines_3uvA" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">(lldb) bt</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">* thread #1, queue = &#x27;com.apple.main-thread&#x27;, stop reason = breakpoint 1.1</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  * frame #0: 0x000000010f9623e0 Interview03-RunLoop`__41-[ViewController touchesBegan:withEvent:]_block_invoke(.block_descriptor=0x000000010f964108, timer=0x0000600000d412c0) at ViewController.m:130:9</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    frame #1: 0x00007fff20844188 Foundation`__NSFireTimer + 67</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    frame #2: 0x00007fff2036a6c6 CoreFoundation`__CFRUNLOOP_IS_CALLING_OUT_TO_A_TIMER_CALLBACK_FUNCTION__ + 20</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    frame #3: 0x00007fff2036a1c2 CoreFoundation`__CFRunLoopDoTimer + 923</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    frame #4: 0x00007fff20369781 CoreFoundation`__CFRunLoopDoTimers + 265</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    frame #5: 0x00007fff20363dc0 CoreFoundation`__CFRunLoopRun + 2010</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    frame #6: 0x00007fff20363103 CoreFoundation`CFRunLoopRunSpecific + 567</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    frame #7: 0x00007fff2c851cd3 GraphicsServices`GSEventRunModal + 139</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    frame #8: 0x00007fff24ffbe63 UIKitCore`-[UIApplication _run] + 928</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    frame #9: 0x00007fff25000a53 UIKitCore`UIApplicationMain + 101</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    frame #10: 0x000000010f962468 Interview03-RunLoop`main(argc=1, argv=0x00007ffee029dc10) at main.m:14:16</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    frame #11: 0x000000010f971e1e dyld_sim`start_sim + 10</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">(lldb) </span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_2GIj">Copy</button></div></div><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_prK2" id="æ¡ˆä¾‹åˆ†æ2ï¼šsocketé€šä¿¡"></a>æ¡ˆä¾‹åˆ†æ2ï¼šSocketé€šä¿¡<a class="hash-link" href="#æ¡ˆä¾‹åˆ†æ2ï¼šsocketé€šä¿¡" title="Direct link to heading">#</a></h3><p><img alt="image-20211011105715533" src="/assets/images/image-20211011105715533-0f29a8b69702f8e0b735bf1c39cbc565.png"></p><div class="mdxCodeBlock_1zKU"><div class="codeBlockContent_actS"><div tabindex="0" class="prism-code language-undefined codeBlock_tuNs thin-scrollbar"><div class="codeBlockLines_3uvA" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">(lldb) bt</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">* thread #1, queue = &#x27;com.apple.main-thread&#x27;, stop reason = breakpoint 15.1</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  * frame #0: 0x000000010184c100 macdemo2`-[RZLimitSpeedUploadHelper stream:handleEvent:](self=0x000060000254b1e0, _cmd=&quot;stream:handleEvent:&quot;, stream=0x0000600003356f40, eventCode=NSStreamEventHasSpaceAvailable) at RZLimitSpeedUploadHelper.m:137:35</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    frame #1: 0x00007fff204d1005 CoreFoundation`_signalEventSync + 219</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    frame #2: 0x00007fff204d0f02 CoreFoundation`_cfstream_solo_signalEventSync + 266</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    frame #3: 0x00007fff204d0dba CoreFoundation`_CFStreamSignalEvent + 454</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    frame #4: 0x00007fff2479f46b CFNetwork`___lldb_unnamed_symbol1857$$CFNetwork + 213</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    frame #5: 0x00007fff204d0a4b CoreFoundation`__CFSocketPerformV0 + 1018</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    frame #6: 0x00007fff204a82bc CoreFoundation`__CFRUNLOOP_IS_CALLING_OUT_TO_A_SOURCE0_PERFORM_FUNCTION__ + 17</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    frame #7: 0x00007fff204a8224 CoreFoundation`__CFRunLoopDoSource0 + 180</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    frame #8: 0x00007fff204a7fa4 CoreFoundation`__CFRunLoopDoSources0 + 242</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    frame #9: 0x00007fff204a69cc CoreFoundation`__CFRunLoopRun + 893</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    frame #10: 0x00007fff204a5f8c CoreFoundation`CFRunLoopRunSpecific + 563</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    frame #11: 0x00007fff286ee1f3 HIToolbox`RunCurrentEventLoopInMode + 292</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    frame #12: 0x00007fff286edf55 HIToolbox`ReceiveNextEventCommon + 587</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    frame #13: 0x00007fff286edcf3 HIToolbox`_BlockUntilNextEventMatchingListInModeWithFilter + 70</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    frame #14: 0x00007fff22caf172 AppKit`_DPSNextEvent + 864</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    frame #15: 0x00007fff22cad945 AppKit`-[NSApplication(NSEvent) _nextEventMatchingEventMask:untilDate:inMode:dequeue:] + 1364</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_2GIj">Copy</button></div></div><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_prK2" id="æ¡ˆä¾‹åˆ†æ3ï¼šå­çº¿ç¨‹æ‰§è¡Œä»»åŠ¡"></a>æ¡ˆä¾‹åˆ†æ3ï¼šå­çº¿ç¨‹æ‰§è¡Œä»»åŠ¡<a class="hash-link" href="#æ¡ˆä¾‹åˆ†æ3ï¼šå­çº¿ç¨‹æ‰§è¡Œä»»åŠ¡" title="Direct link to heading">#</a></h3><p><img alt="image-20211011105954041" src="/assets/images/image-20211011105954041-547a6371ae423b9fba716ae5ebce5de2.png"></p><div class="mdxCodeBlock_1zKU"><div class="codeBlockContent_actS"><div tabindex="0" class="prism-code language-undefined codeBlock_tuNs thin-scrollbar"><div class="codeBlockLines_3uvA" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">(lldb) bt</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">* thread #9, stop reason = breakpoint 1.1</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  * frame #0: 0x000000010e88a174 Interview03-çº¿ç¨‹ä¿æ´»`__41-[ViewController touchesBegan:withEvent:]_block_invoke(.block_descriptor=0x0000600002952e20) at ViewController.m:32:43</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    frame #1: 0x000000010e889f56 Interview03-çº¿ç¨‹ä¿æ´»`-[MJPermenantThread __executeTask:](self=0x0000600002525380, _cmd=&quot;__executeTask:&quot;, task=0x000000010e88a160) at MJPermenantThread.m:99:5</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    frame #2: 0x00007fff2084258c Foundation`__NSThreadPerformPerform + 207</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    frame #3: 0x00007fff20369e25 CoreFoundation`__CFRUNLOOP_IS_CALLING_OUT_TO_A_SOURCE0_PERFORM_FUNCTION__ + 17</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    frame #4: 0x00007fff20369d1d CoreFoundation`__CFRunLoopDoSource0 + 180</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    frame #5: 0x00007fff203691f2 CoreFoundation`__CFRunLoopDoSources0 + 242</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    frame #6: 0x00007fff20363951 CoreFoundation`__CFRunLoopRun + 875</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    frame #7: 0x00007fff20363103 CoreFoundation`CFRunLoopRunSpecific + 567</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    frame #8: 0x000000010e889c69 Interview03-çº¿ç¨‹ä¿æ´»`__25-[MJPermenantThread init]_block_invoke(.block_descriptor=0x000000010e88c0f8) at MJPermenantThread.m:47:13</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    frame #9: 0x00007fff20842142 Foundation`__NSThread__start__ + 999</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    frame #10: 0x00007fff6bfee8fc libsystem_pthread.dylib`_pthread_start + 224</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    frame #11: 0x00007fff6bfea443 libsystem_pthread.dylib`thread_start + 15</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">(lldb) </span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_2GIj">Copy</button></div></div><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_prK2" id="æ¡ˆä¾‹åˆ†æ4ï¼šç›‘å¬observer"></a>æ¡ˆä¾‹åˆ†æ4ï¼šç›‘å¬Observer<a class="hash-link" href="#æ¡ˆä¾‹åˆ†æ4ï¼šç›‘å¬observer" title="Direct link to heading">#</a></h3><div class="mdxCodeBlock_1zKU"><div class="codeBlockContent_actS"><div tabindex="0" class="prism-code language-undefined codeBlock_tuNs thin-scrollbar"><div class="codeBlockLines_3uvA" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">(lldb) bt</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">* thread #1, queue = &#x27;com.apple.main-thread&#x27;, stop reason = breakpoint 3.1</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  * frame #0: 0x000000010b4f626c Interview03-RunLoop`__29-[ViewController viewDidLoad]_block_invoke(.block_descriptor=0x000000010b4f80c8, observer=0x00006000002d03c0, activity=kCFRunLoopEntry) at ViewController.m:100:48</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    frame #1: 0x00007fff20368c77 CoreFoundation`__CFRUNLOOP_IS_CALLING_OUT_TO_AN_OBSERVER_CALLBACK_FUNCTION__ + 23</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    frame #2: 0x00007fff2036349c CoreFoundation`__CFRunLoopDoObservers + 541</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    frame #3: 0x00007fff2036308a CoreFoundation`CFRunLoopRunSpecific + 446</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    frame #4: 0x00007fff2c851cd3 GraphicsServices`GSEventRunModal + 139</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    frame #5: 0x00007fff24ffbe63 UIKitCore`-[UIApplication _run] + 928</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    frame #6: 0x00007fff25000a53 UIKitCore`UIApplicationMain + 101</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    frame #7: 0x000000010b4f6468 Interview03-RunLoop`main(argc=1, argv=0x00007ffee4709c10) at main.m:14:16</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    frame #8: 0x000000010b505e1e dyld_sim`start_sim + 10</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">(lldb) </span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_2GIj">Copy</button></div></div><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_prK2" id="runloopè°ƒç”¨æ ˆ"></a>Runloopè°ƒç”¨æ ˆ<a class="hash-link" href="#runloopè°ƒç”¨æ ˆ" title="Direct link to heading">#</a></h3><div class="mdxCodeBlock_1zKU"><div class="codeBlockContent_actS"><div tabindex="0" class="prism-code language-undefined codeBlock_tuNs thin-scrollbar"><div class="codeBlockLines_3uvA" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">    frame #3: 0x00007fff20369e25 CoreFoundation`__CFRUNLOOP_IS_CALLING_OUT_TO_A_SOURCE0_PERFORM_FUNCTION__ + 17</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    frame #4: 0x00007fff20369d1d CoreFoundation`__CFRunLoopDoSource0 + 180</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    frame #5: 0x00007fff203691f2 CoreFoundation`__CFRunLoopDoSources0 + 242</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    frame #6: 0x00007fff20363951 CoreFoundation`__CFRunLoopRun + 875</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    frame #7: 0x00007fff20363103 CoreFoundation`CFRunLoopRunSpecific + 567</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_2GIj">Copy</button></div></div><div class="mdxCodeBlock_1zKU"><div class="codeBlockContent_actS"><div tabindex="0" class="prism-code language-undefined codeBlock_tuNs thin-scrollbar"><div class="codeBlockLines_3uvA" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">    frame #2: 0x00007fff2036a6c6 CoreFoundation`__CFRUNLOOP_IS_CALLING_OUT_TO_A_TIMER_CALLBACK_FUNCTION__ + 20</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    frame #3: 0x00007fff2036a1c2 CoreFoundation`__CFRunLoopDoTimer + 923</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    frame #4: 0x00007fff20369781 CoreFoundation`__CFRunLoopDoTimers + 265</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    frame #5: 0x00007fff20363dc0 CoreFoundation`__CFRunLoopRun + 2010</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    frame #6: 0x00007fff20363103 CoreFoundation`CFRunLoopRunSpecific + 567</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_2GIj">Copy</button></div></div><div class="mdxCodeBlock_1zKU"><div class="codeBlockContent_actS"><div tabindex="0" class="prism-code language-undefined codeBlock_tuNs thin-scrollbar"><div class="codeBlockLines_3uvA" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">    frame #1: 0x00007fff20368c77 CoreFoundation`__CFRUNLOOP_IS_CALLING_OUT_TO_AN_OBSERVER_CALLBACK_FUNCTION__ + 23</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    frame #2: 0x00007fff2036349c CoreFoundation`__CFRunLoopDoObservers + 541</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    frame #3: 0x00007fff2036308a CoreFoundation`CFRunLoopRunSpecific + 446</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_2GIj">Copy</button></div></div><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_prK2" id="source1"></a>Source1<a class="hash-link" href="#source1" title="Direct link to heading">#</a></h3><div class="mdxCodeBlock_1zKU"><div class="codeBlockContent_actS"><div tabindex="0" class="prism-code language-undefined codeBlock_tuNs thin-scrollbar"><div class="codeBlockLines_3uvA" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">(lldb) b __CFRUNLOOP_IS_CALLING_OUT_TO_A_SOURCE1_PERFORM_FUNCTION__</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">Breakpoint 9: where = CoreFoundation`__CFRUNLOOP_IS_CALLING_OUT_TO_A_SOURCE1_PERFORM_FUNCTION__, address = 0x00007fff2036a6c8</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_2GIj">Copy</button></div></div><div class="mdxCodeBlock_1zKU"><div class="codeBlockContent_actS"><div tabindex="0" class="prism-code language-undefined codeBlock_tuNs thin-scrollbar"><div class="codeBlockLines_3uvA" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">(lldb) bt</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">* thread #1, queue = &#x27;com.apple.main-thread&#x27;, stop reason = breakpoint 9.1</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  * frame #0: 0x00007fff2036a6c8 CoreFoundation`__CFRUNLOOP_IS_CALLING_OUT_TO_A_SOURCE1_PERFORM_FUNCTION__</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    frame #1: 0x00007fff20369abe CoreFoundation`__CFRunLoopDoSource1 + 607</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    frame #2: 0x00007fff20363ff8 CoreFoundation`__CFRunLoopRun + 2578</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    frame #3: 0x00007fff20363103 CoreFoundation`CFRunLoopRunSpecific + 567</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    frame #4: 0x00007fff2c851cd3 GraphicsServices`GSEventRunModal + 139</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    frame #5: 0x00007fff24ffbe63 UIKitCore`-[UIApplication _run] + 928</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    frame #6: 0x00007fff25000a53 UIKitCore`UIApplicationMain + 101</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    frame #7: 0x0000000104b383f8 Interview03-RunLoop`main(argc=1, argv=0x00007ffeeb0c7c10) at main.m:14:16</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    frame #8: 0x0000000104b47e1e dyld_sim`start_sim + 10</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">(lldb) </span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_2GIj">Copy</button></div></div><div class="mdxCodeBlock_1zKU"><div class="codeBlockContent_actS"><div tabindex="0" class="prism-code language-undefined codeBlock_tuNs thin-scrollbar"><div class="codeBlockLines_3uvA" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">2021-10-11 14:18:49.837749+0800 Interview03-RunLoop[43991:1876885] kCFRunLoopBeforeTimers - kCFRunLoopDefaultMode</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">2021-10-11 14:18:49.838001+0800 Interview03-RunLoop[43991:1876885] kCFRunLoopBeforeSources - kCFRunLoopDefaultMode</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">2021-10-11 14:18:49.838190+0800 Interview03-RunLoop[43991:1876885] kCFRunLoopBeforeWaiting - kCFRunLoopDefaultMode</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">2021-10-11 14:18:49.859221+0800 Interview03-RunLoop[43991:1876885] kCFRunLoopAfterWaiting - kCFRunLoopDefaultMode</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">(lldb) </span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_2GIj">Copy</button></div></div><p><img alt="image-20211011141930666" src="/assets/images/image-20211011141930666-478ee638f9439f70a850da18055a8c08.png"></p><p>Call Out</p><div class="mdxCodeBlock_1zKU"><div class="codeBlockContent_actS"><div tabindex="0" class="prism-code language-undefined codeBlock_tuNs thin-scrollbar"><div class="codeBlockLines_3uvA" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">    static void __CFRUNLOOP_IS_CALLING_OUT_TO_AN_OBSERVER_CALLBACK_FUNCTION__();</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    static void __CFRUNLOOP_IS_CALLING_OUT_TO_A_BLOCK__();</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    static void __CFRUNLOOP_IS_SERVICING_THE_MAIN_DISPATCH_QUEUE__();</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    static void __CFRUNLOOP_IS_CALLING_OUT_TO_A_TIMER_CALLBACK_FUNCTION__();</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    static void __CFRUNLOOP_IS_CALLING_OUT_TO_A_SOURCE0_PERFORM_FUNCTION__();</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    static void __CFRUNLOOP_IS_CALLING_OUT_TO_A_SOURCE1_PERFORM_FUNCTION__();</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_2GIj">Copy</button></div></div><p><a href="https://www.cnblogs.com/kenshincui/p/6823841.html" target="_blank" rel="noopener noreferrer">iOSåˆ¨æ ¹é—®åº•-æ·±å…¥ç†è§£RunLoop</a></p><h1><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_prK2" id="autoreleasepool"></a>autoreleasepool<a class="hash-link" href="#autoreleasepool" title="Direct link to heading">#</a></h1><p><a href="https://draveness.me/autoreleasepool" target="_blank" rel="noopener noreferrer">https://draveness.me/autoreleasepool</a></p><p>å‚è€ƒæ–‡æ¡£</p><ul><li><a href="https://draveness.me/autoreleasepool" target="_blank" rel="noopener noreferrer">è‡ªåŠ¨é‡Šæ”¾æ± çš„å‰ä¸–ä»Šç”Ÿ ---- æ·±å…¥è§£æ autoreleasepool</a></li></ul><p>autoreleasepool ä»¥ä¸€ä¸ªé˜Ÿåˆ—æ•°ç»„çš„å½¢å¼å®ç°,ä¸»è¦é€šè¿‡ä¸‹åˆ—ä¸‰ä¸ªå‡½æ•°å®Œæˆ.</p><div class="mdxCodeBlock_1zKU"><div class="codeBlockContent_actS"><div tabindex="0" class="prism-code language-undefined codeBlock_tuNs thin-scrollbar"><div class="codeBlockLines_3uvA" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">1. `objc_autoreleasepoolPush`</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">2. `objc_autoreleasepoolPop`</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">3. `objc_autorelease`</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_2GIj">Copy</button></div></div><p>çœ‹å‡½æ•°åå°±å¯ä»¥çŸ¥é“ï¼Œå¯¹ autorelease åˆ†åˆ«æ‰§è¡Œ pushï¼Œå’Œ pop æ“ä½œã€‚é”€æ¯å¯¹è±¡æ—¶æ‰§è¡Œreleaseæ“ä½œã€‚</p></div></article><div class="margin-vert--xl"><div class="row"><div class="col"><a href="dys-typora-open://mine/survival/docs/Apple/iOSå¼€å‘/Runloop/Runloop.md" target="_blank" rel="noreferrer noopener"><svg fill="currentColor" height="1.2em" width="1.2em" preserveAspectRatio="xMidYMid meet" role="img" viewBox="0 0 40 40" class="iconEdit_2LL7"><g><path d="m34.5 11.7l-3 3.1-6.3-6.3 3.1-3q0.5-0.5 1.2-0.5t1.1 0.5l3.9 3.9q0.5 0.4 0.5 1.1t-0.5 1.2z m-29.5 17.1l18.4-18.5 6.3 6.3-18.4 18.4h-6.3v-6.2z"></path></g></svg>Edit this page</a></div></div></div><div class="margin-vert--lg"><nav class="pagination-nav" aria-label="Blog list page navigation"><div class="pagination-nav__item"></div><div class="pagination-nav__item pagination-nav__item--next"></div></nav></div></div></div><div class="col col--3"><div class="tableOfContents_2xL- thin-scrollbar"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#åº”ç”¨èŒƒç•´" class="table-of-contents__link">åº”ç”¨èŒƒç•´</a></li><li><a href="#runloopçš„åŸºæœ¬ä½œç”¨" class="table-of-contents__link">RunLoopçš„åŸºæœ¬ä½œç”¨</a></li><li><a href="#nsrunloopå¯¹è±¡" class="table-of-contents__link">NSRunLoopå¯¹è±¡</a></li><li><a href="#runloopä¸çº¿ç¨‹" class="table-of-contents__link">Runloopä¸çº¿ç¨‹</a></li><li><a href="#è·å–runloopå¯¹è±¡" class="table-of-contents__link">è·å–Runloopå¯¹è±¡</a></li><li><a href="#runloopç›¸å…³çš„ç±»" class="table-of-contents__link">RunLoopç›¸å…³çš„ç±»</a></li><li><a href="#cfrunloopmoderef" class="table-of-contents__link">CFRunLoopModeRef</a><ul><li><a href="#å¸¸è§çš„2ç§mode" class="table-of-contents__link">å¸¸è§çš„2ç§Mode</a></li></ul></li><li><a href="#cfrunloopobserverref" class="table-of-contents__link">CFRunLoopObserverRef</a></li><li><a href="#runloopçš„è¿è¡Œé€»è¾‘" class="table-of-contents__link">RunLoopçš„è¿è¡Œé€»è¾‘</a></li><li><a href="#runloopä¼‘çœ çš„å®ç°åŸç†" class="table-of-contents__link">RunLoopä¼‘çœ çš„å®ç°åŸç†</a></li><li><a href="#runloopåœ¨å®é™…å¼€ä¸­çš„åº”ç”¨" class="table-of-contents__link">RunLoopåœ¨å®é™…å¼€ä¸­çš„åº”ç”¨</a></li><li><a href="#runloopæ¡ˆä¾‹åˆ†æ" class="table-of-contents__link">Runloopæ¡ˆä¾‹åˆ†æ</a><ul><li><a href="#æ¡ˆä¾‹åˆ†æ1ï¼šnstimer" class="table-of-contents__link">æ¡ˆä¾‹åˆ†æ1ï¼šNSTimer</a></li><li><a href="#æ¡ˆä¾‹åˆ†æ2ï¼šsocketé€šä¿¡" class="table-of-contents__link">æ¡ˆä¾‹åˆ†æ2ï¼šSocketé€šä¿¡</a></li><li><a href="#æ¡ˆä¾‹åˆ†æ3ï¼šå­çº¿ç¨‹æ‰§è¡Œä»»åŠ¡" class="table-of-contents__link">æ¡ˆä¾‹åˆ†æ3ï¼šå­çº¿ç¨‹æ‰§è¡Œä»»åŠ¡</a></li><li><a href="#æ¡ˆä¾‹åˆ†æ4ï¼šç›‘å¬observer" class="table-of-contents__link">æ¡ˆä¾‹åˆ†æ4ï¼šç›‘å¬Observer</a></li><li><a href="#runloopè°ƒç”¨æ ˆ" class="table-of-contents__link">Runloopè°ƒç”¨æ ˆ</a></li><li><a href="#source1" class="table-of-contents__link">Source1</a></li></ul></li></ul></div></div></div></div></main></div></div><footer class="footer footer--dark"><div class="container"><div class="row footer__links"><div class="col footer__col"><h4 class="footer__title">Docs</h4><ul class="footer__items"><li class="footer__item"><a class="footer__link-item" href="/docs/">Style Guide</a></li><li class="footer__item"><a class="footer__link-item" href="/docs/">Second Doc</a></li></ul></div><div class="col footer__col"><h4 class="footer__title">Community</h4><ul class="footer__items"><li class="footer__item"><a href="https://stackoverflow.com/questions/tagged/docusaurus" target="_blank" rel="noopener noreferrer" class="footer__link-item">Stack Overflow</a></li><li class="footer__item"><a href="https://discordapp.com/invite/docusaurus" target="_blank" rel="noopener noreferrer" class="footer__link-item">Discord</a></li><li class="footer__item"><a href="https://twitter.com/docusaurus" target="_blank" rel="noopener noreferrer" class="footer__link-item">Twitter</a></li></ul></div><div class="col footer__col"><h4 class="footer__title">More</h4><ul class="footer__items"><li class="footer__item"><a class="footer__link-item" href="/blog">Blog</a></li><li class="footer__item"><a href="https://github.com/facebook/docusaurus" target="_blank" rel="noopener noreferrer" class="footer__link-item">GitHub</a></li></ul></div></div><div class="footer__bottom text--center"><div class="footer__copyright">Copyright Â© 2021 My Project, Inc. Built with Docusaurus.</div></div></div></footer></div>
<script src="/styles.9f2bd08d.js"></script>
<script src="/runtime~main.b9916a1e.js"></script>
<script src="/main.aad198f0.js"></script>
<script src="/1.c6142e7c.js"></script>
<script src="/259.bd219e04.js"></script>
<script src="/260.8c75c7b8.js"></script>
<script src="/935f2afb.b83995d3.js"></script>
<script src="/258.77a3145c.js"></script>
<script src="/94f04a0e.a5922850.js"></script>
</body>
</html>