<!doctype html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width,initial-scale=1">
<meta name="generator" content="Docusaurus v2.0.0-alpha.70">
<link rel="alternate" type="application/rss+xml" href="/blog/rss.xml" title="My Site Blog RSS Feed">
<link rel="alternate" type="application/atom+xml" href="/blog/atom.xml" title="My Site Blog Atom Feed"><title data-react-helmet="true">macOS二进制命令行工具 | My Site</title><meta data-react-helmet="true" name="twitter:card" content="summary_large_image"><meta data-react-helmet="true" name="docusaurus_locale" content="en"><meta data-react-helmet="true" name="docusaurus_version" content="current"><meta data-react-helmet="true" name="docusaurus_tag" content="docs-default-current"><meta data-react-helmet="true" property="og:title" content="macOS二进制命令行工具 | My Site"><meta data-react-helmet="true" name="description" content="macOS 二进制命令行工具"><meta data-react-helmet="true" property="og:description" content="macOS 二进制命令行工具"><meta data-react-helmet="true" property="og:url" content="http://localhost:9999//docs/Apple/开发工具/macOS二进制命令行工具"><link data-react-helmet="true" rel="shortcut icon" href="/img/favicon.ico"><link data-react-helmet="true" rel="canonical" href="http://localhost:9999//docs/Apple/开发工具/macOS二进制命令行工具"><link rel="stylesheet" href="/styles.8cfbcdec.css">
<link rel="preload" href="/styles.aaa24a49.js" as="script">
<link rel="preload" href="/runtime~main.7eeb3d64.js" as="script">
<link rel="preload" href="/main.7a041c89.js" as="script">
<link rel="preload" href="/1.62b3ea65.js" as="script">
<link rel="preload" href="/257.bb7ed37e.js" as="script">
<link rel="preload" href="/258.ed1b30f8.js" as="script">
<link rel="preload" href="/935f2afb.55f5968c.js" as="script">
<link rel="preload" href="/256.a7530d90.js" as="script">
<link rel="preload" href="/401eedf3.45842d0b.js" as="script">
</head>
<body>
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){var t=null;try{t=localStorage.getItem("theme")}catch(t){}return t}();t(null!==e?e:"light")}()</script><div id="__docusaurus">
<nav aria-label="Skip navigation links"><button type="button" tabindex="0" class="skipToContent_11B0">Skip to main content</button></nav><nav class="navbar navbar--fixed-top"><div class="navbar__inner"><div class="navbar__items"><div aria-label="Navigation bar toggle" class="navbar__toggle" role="button" tabindex="0"><svg aria-label="Menu" width="30" height="30" viewBox="0 0 30 30" role="img" focusable="false"><title>Menu</title><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></div><a class="navbar__brand" href="/"><img src="/img/logo.svg" alt="My Site Logo" class="themedImage_YANc themedImage--light_3CMI navbar__logo"><img src="/img/logo.svg" alt="My Site Logo" class="themedImage_YANc themedImage--dark_3ARp navbar__logo"><strong class="navbar__title">My Site</strong></a><a class="navbar__item navbar__link" href="/docs/">编程基础</a><a class="navbar__item navbar__link" href="/docs/编程语言/编程语言">编程语言</a><a class="navbar__item navbar__link" href="/docs/工具/常用工具">工具</a><a class="navbar__item navbar__link" href="/docs/应用开发/应用开发">应用开发</a><a aria-current="page" class="navbar__item navbar__link navbar__link--active" href="/docs/Apple/iOS开发/iOS开发">Apple</a><a class="navbar__item navbar__link" href="/docs/音视频/音视频">音视频</a><a class="navbar__item navbar__link" href="/docs/项目/项目">项目</a></div><div class="navbar__items navbar__items--right"><div class="react-toggle react-toggle--disabled displayOnlyInLargeViewport_2N3Q"><div class="react-toggle-track"><div class="react-toggle-track-check"><span class="toggle_3NWk">🌜</span></div><div class="react-toggle-track-x"><span class="toggle_3NWk">🌞</span></div></div><div class="react-toggle-thumb"></div><input type="checkbox" disabled="" aria-label="Dark mode toggle" class="react-toggle-screenreader-only"></div><div class="navbar__search"><span aria-label="expand searchbar" role="button" class="search-icon" tabindex="0"></span><input type="search" id="search_input_react" placeholder="Search" aria-label="Search" class="navbar__search-input search-bar"></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div><div class="navbar-sidebar"><div class="navbar-sidebar__brand"><a class="navbar__brand" href="/"><img src="/img/logo.svg" alt="My Site Logo" class="themedImage_YANc themedImage--light_3CMI navbar__logo"><img src="/img/logo.svg" alt="My Site Logo" class="themedImage_YANc themedImage--dark_3ARp navbar__logo"><strong class="navbar__title">My Site</strong></a></div><div class="navbar-sidebar__items"><div class="menu"><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" href="/docs/">编程基础</a></li><li class="menu__list-item"><a class="menu__link" href="/docs/编程语言/编程语言">编程语言</a></li><li class="menu__list-item"><a class="menu__link" href="/docs/工具/常用工具">工具</a></li><li class="menu__list-item"><a class="menu__link" href="/docs/应用开发/应用开发">应用开发</a></li><li class="menu__list-item"><a aria-current="page" class="menu__link navbar__link--active" href="/docs/Apple/iOS开发/iOS开发">Apple</a></li><li class="menu__list-item"><a class="menu__link" href="/docs/音视频/音视频">音视频</a></li><li class="menu__list-item"><a class="menu__link" href="/docs/项目/项目">项目</a></li></ul></div></div></div></nav><div class="main-wrapper"><div class="docPage_vMrn"><main class="docMainContainer_2iGs"><div class="container padding-vert--lg docItemWrapper_1bxp"><div class="row"><div class="col docItemCol_U38p"><div class="docItemContainer_a7m4"><article><header><h1 class="docTitle_Oumm">macOS二进制命令行工具</h1></header><div class="markdown"><h1><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_prK2" id="macos-二进制命令行工具"></a>macOS 二进制命令行工具<a class="hash-link" href="#macos-二进制命令行工具" title="Direct link to heading">#</a></h1><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_prK2" id="xcrun"></a>xcrun<a class="hash-link" href="#xcrun" title="Direct link to heading">#</a></h2><p><a href="https://jamesdouble.github.io/blog/2019/12/23/xcCmdLine-2/" target="_blank" rel="noopener noreferrer">https://jamesdouble.github.io/blog/2019/12/23/xcCmdLine-2/</a></p><div class="mdxCodeBlock_1zKU"><div class="codeBlockContent_actS"><div tabindex="0" class="prism-code language-undefined codeBlock_tuNs thin-scrollbar"><div class="codeBlockLines_3uvA" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">➜  mach-o xcrun --find clang</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">/Applications/Xcode.app/Contents/Developer/Toolchains/XcodeDefault.xctoolchain/usr/bin/clang</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">➜  mach-o xcrun --find dyldinfo</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">/Applications/Xcode.app/Contents/Developer/Toolchains/XcodeDefault.xctoolchain/usr/bin/dyldinfo</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">➜  mach-o open /Applications/Xcode.app/Contents/Developer/Toolchains/XcodeDefault.xctoolchain/usr/bin</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">➜  mach-o which ld</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">/usr/bin/ld</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_2GIj">Copy</button></div></div><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_prK2" id="dyldinfo"></a>dyldinfo<a class="hash-link" href="#dyldinfo" title="Direct link to heading">#</a></h3><div class="mdxCodeBlock_1zKU"><div class="codeBlockContent_actS"><div tabindex="0" class="prism-code language-undefined codeBlock_tuNs thin-scrollbar"><div class="codeBlockLines_3uvA" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">➜  mach-o xcrun dyldinfo -lazy_bind a </span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">lazy binding information (from lazy_bind part of dyld info):</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">segment section          address    index  dylib            symbol</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">__DATA  __la_symbol_ptr  0x100008000 0x0000 libSystem        _exit</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">__DATA  __la_symbol_ptr  0x100008008 0x000C libSystem        _printf</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_2GIj">Copy</button></div></div><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_prK2" id="dwarfdump"></a>dwarfdump<a class="hash-link" href="#dwarfdump" title="Direct link to heading">#</a></h2><div class="mdxCodeBlock_1zKU"><div class="codeBlockContent_actS"><div tabindex="0" class="prism-code language-undefined codeBlock_tuNs thin-scrollbar"><div class="codeBlockLines_3uvA" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">dwarfdump --uuid dSYM文件</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">dwarfdump --lookup [address] -arch arm64 dSYM文件</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_2GIj">Copy</button></div></div><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_prK2" id="nm"></a>nm<a class="hash-link" href="#nm" title="Direct link to heading">#</a></h2><p>nm命令用于显示二进制的符号表。该命令有两个版本，我们常用的nm实际上是 <strong><em>llvm-nm</em></strong> 。</p><p>nm显示的符号表，即每个二进制文件的 <strong><em>nlist</em></strong> 结构中的符号表。</p><p>注意：如果安装了gnu的binutils nm可能会被覆盖。可以将gnu的nm重新命名为gnm。这样就不会冲突了。</p><div class="mdxCodeBlock_1zKU"><div class="codeBlockContent_actS"><div tabindex="0" class="prism-code language-undefined codeBlock_tuNs thin-scrollbar"><div class="codeBlockLines_3uvA" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">➜  dys_ios_framework.framework nm -m dys_ios_framework  </span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">0000000000007e1c (__TEXT,__text) non-external +[DYSFrameWorkClass dys_test]</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">0000000000007e38 (__TEXT,__text) non-external -[DYSFrameWorkClass dys_test1]</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">0000000000007e54 (__TEXT,__text) non-external -[DYSFrameWorkClass dys_test2]</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">                 (undefined) external _NSLog (from Foundation)</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">000000000000c120 (__DATA,__objc_data) non-external (was a private external) _OBJC_CLASS_$_DYSFrameWorkClass</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">                 (undefined) external _OBJC_CLASS_$_NSObject (from libobjc)</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">000000000000c0f8 (__DATA,__objc_data) non-external (was a private external) _OBJC_METACLASS_$_DYSFrameWorkClass</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">                 (undefined) external _OBJC_METACLASS_$_NSObject (from libobjc)</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">000000000000c010 (__DATA,__objc_const) non-external __OBJC_$_CLASS_METHODS_DYSFrameWorkClass</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">000000000000c078 (__DATA,__objc_const) non-external __OBJC_$_INSTANCE_METHODS_DYSFrameWorkClass</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">000000000000c0b0 (__DATA,__objc_const) non-external __OBJC_CLASS_RO_$_DYSFrameWorkClass</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">000000000000c030 (__DATA,__objc_const) non-external __OBJC_METACLASS_RO_$_DYSFrameWorkClass</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">                 (undefined) external ___CFConstantStringClassReference (from CoreFoundation)</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">000000000000c148 (__DATA,__data) non-external __dyld_private</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">                 (undefined) external __objc_empty_cache (from libobjc)</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">0000000000007ef8 (__TEXT,__const) non-external (was a private external) _dys_ios_frameworkVersionNumber</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">0000000000007eb8 (__TEXT,__const) non-external (was a private external) _dys_ios_frameworkVersionString</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">0000000000007e04 (__TEXT,__text) non-external (was a private external) _my_c_print</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">0000000000007e10 (__TEXT,__text) non-external (was a private external) _my_c_print_in</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">                 (undefined) external _printf (from libSystem)</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">                 (undefined) external dyld_stub_binder (from libSystem)</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">➜  dys_ios_framework.framework </span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_2GIj">Copy</button></div></div><p>查看帮助</p><p><code>man nm</code></p><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_prK2" id="mfind"></a>mfind<a class="hash-link" href="#mfind" title="Direct link to heading">#</a></h2><p>使用mfind用于在Mac系统中定位dSYM文件，如：</p><div class="mdxCodeBlock_1zKU"><div class="codeBlockContent_actS"><div tabindex="0" class="prism-code language-undefined codeBlock_tuNs thin-scrollbar"><div class="codeBlockLines_3uvA" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">mdfind &quot;com_apple_xcode_dsym_uuids == E30FC309-DF7B-3C9F-8AC5-7F0F6047D65F&quot;复制代码</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_2GIj">Copy</button></div></div><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_prK2" id="atos"></a>atos<a class="hash-link" href="#atos" title="Direct link to heading">#</a></h2><p>使用atos命令，可以对单个地址进行符号化。运行shell命令 <strong><em>xcrun atos -o [dwarf文件地址] -arch arm64 -l [loadAddress][instructionAddress]</em></strong> 。</p><div class="mdxCodeBlock_1zKU"><div class="codeBlockContent_actS"><div tabindex="0" class="prism-code language-undefined codeBlock_tuNs thin-scrollbar"><div class="codeBlockLines_3uvA" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">xcrun atos -o app.dSYM/Contents/Resources/DWARF/MyApp -arch arm64 -l -l 0x1006b4000 0x0000000100d382a8复制代码</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_2GIj">Copy</button></div></div><p>实际上仅通过符号在对应mach-o中的 <strong><em>offset</em></strong> 即可符号化，可假设 <strong><em>loadAddress</em></strong> 为1，计算 <strong><em>instructionAddress = offset + loadAddress</em></strong> 。atos命令不接受直接传递offset地址，很奇怪。且loadAddress不能为0。</p><div class="mdxCodeBlock_1zKU"><div class="codeBlockContent_actS"><div tabindex="0" class="prism-code language-undefined codeBlock_tuNs thin-scrollbar"><div class="codeBlockLines_3uvA" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">xcrun atos -o app.dSYM/Contents/Resources/DWARF/MyApp -arch arm64 -l 0x1 0xF781复制代码</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_2GIj">Copy</button></div></div><p>其中，0xF781即为loadAddress为0x1的情况下，通过offet计算得到的instructionAddress。</p><div class="mdxCodeBlock_1zKU"><div class="codeBlockContent_actS"><div tabindex="0" class="prism-code language-undefined codeBlock_tuNs thin-scrollbar"><div class="codeBlockLines_3uvA" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">➜  crashes &#x27;/Users/dingyusong/Desktop/duobei/crashes/20211022150639&#x27;</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">➜  20211022150639 symbolicatecrash 2021-10-22-16-32-04.log &gt; 33</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">➜  20211022150639 atos -arch x86_64  -o RZPaas_macOS -l 0x109eed000 0x000000010b503f73</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">sol2::Sol2ClientProtocol::onStart() (in RZPaas_macOS) + 19</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">➜  20211022150639 atos -arch x86_64  -o RZPaas_macOS -l 0x109eed000 0x000000010b5058f8</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">sol2::Sol2Protocol::start() (in RZPaas_macOS) + 344</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">➜  20211022150639 symbolicatecrash  2021-10-22-16-32-04.log &gt; 33</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">➜  20211022150639 atos -arch x86_64  -o RZPaas_macOS -l 0x109eed000 0x000000010b5058f8</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">sol2::Sol2Protocol::start() (in RZPaas_macOS) + 344</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">➜  20211022150639 ..</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">➜  crashes atos -arch x86_64  -o RZPaas_macOS -l 0x109eed000 0x000000010b5058f8</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">atos cannot load symbols for the file RZPaas_macOS for architecture x86_64.</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">➜  crashes cd -</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">~/Desktop/duobei/crashes/20211022150639</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">➜  20211022150639 atos -arch x86_64  -o RZPaas_macOS -l 0x109eed000 0x000000010b5058f8</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">sol2::Sol2Protocol::start() (in RZPaas_macOS) + 344</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">➜  20211022150639 </span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_2GIj">Copy</button></div></div><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_prK2" id="otool"></a>otool<a class="hash-link" href="#otool" title="Direct link to heading">#</a></h2><p>the otool-compatible command line parser for <strong>llvm-objdump</strong>。</p><div class="mdxCodeBlock_1zKU"><div class="codeBlockContent_actS"><div tabindex="0" class="prism-code language-undefined codeBlock_tuNs thin-scrollbar"><div class="codeBlockLines_3uvA" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">➜  mach-o otool -f /usr/bin/perl</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">Fat headers</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">fat_magic 0xcafebabe</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">nfat_arch 2</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">architecture 0</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    cputype 16777223</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    cpusubtype 3</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    capabilities 0x0</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    offset 16384</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    size 58752</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    align 2^14 (16384)</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">architecture 1</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    cputype 16777228</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    cpusubtype 2</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    capabilities 0x80</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    offset 81920</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    size 58256</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    align 2^14 (16384)</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_2GIj">Copy</button></div></div><p>替代linux的readelf和ldd。</p><p>otool 从 main开始反汇编</p><div class="mdxCodeBlock_1zKU"><div class="codeBlockContent_actS"><div tabindex="0" class="prism-code language-undefined codeBlock_tuNs thin-scrollbar"><div class="codeBlockLines_3uvA" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">#include&lt;stdio.h&gt;</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">#include&lt;stdlib.h&gt;</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">int main(int argc, char* argv[]) {</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    printf(&quot;Salvem Munde!\n&quot;);</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    printf(&quot;Vale!\n&quot;);</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    exit(0);</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">}</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_2GIj">Copy</button></div></div><div class="mdxCodeBlock_1zKU"><div class="codeBlockContent_actS"><div tabindex="0" class="prism-code language-undefined codeBlock_tuNs thin-scrollbar"><div class="codeBlockLines_3uvA" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">➜  mach-o otool -p _main -tV a</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">a:</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">(__TEXT,__text) section</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">_main:</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">0000000100003f20        pushq   %rbp</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">0000000100003f21        movq    %rsp, %rbp</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">0000000100003f24        subq    $0x20, %rsp</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">0000000100003f28        movl    $0x0, -0x4(%rbp)</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">0000000100003f2f        movl    %edi, -0x8(%rbp)</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">0000000100003f32        movq    %rsi, -0x10(%rbp)</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">0000000100003f36        leaq    0x63(%rip), %rdi                ## literal pool for: &quot;Salvem Munde!\n&quot;</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">0000000100003f3d        xorl    %eax, %eax</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">0000000100003f3f        movb    %al, %cl</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">0000000100003f41        movl    %eax, -0x14(%rbp)</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">0000000100003f44        movb    %cl, %al</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">0000000100003f46        movb    %cl, -0x15(%rbp)</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">0000000100003f49        callq   0x100003f74                     ## symbol stub for: _printf</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">0000000100003f4e        leaq    0x5a(%rip), %rdi                ## literal pool for: &quot;Vale!\n&quot;</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">0000000100003f55        movb    -0x15(%rbp), %cl</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">0000000100003f58        movl    %eax, -0x1c(%rbp)</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">0000000100003f5b        movb    %cl, %al</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">0000000100003f5d        callq   0x100003f74                     ## symbol stub for: _printf</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">0000000100003f62        movl    -0x14(%rbp), %edi</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">0000000100003f65        movl    %eax, -0x20(%rbp)</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">0000000100003f68        callq   0x100003f6e                     ## symbol stub for: _exit</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_2GIj">Copy</button></div></div><div class="mdxCodeBlock_1zKU"><div class="codeBlockContent_actS"><div tabindex="0" class="prism-code language-undefined codeBlock_tuNs thin-scrollbar"><div class="codeBlockLines_3uvA" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">➜  mach-o nm a | grep &quot;U &quot; </span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">                 U _exit</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">                 U _printf</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">                 U dyld_stub_binder</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">➜  mach-o nm a | wc -l</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">       6</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">➜  mach-o nm a        </span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">0000000100008010 d __dyld_private</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">0000000100000000 T __mh_execute_header</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">                 U _exit</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">0000000100003f20 T _main</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">                 U _printf</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">                 U dyld_stub_binder</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_2GIj">Copy</button></div></div><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_prK2" id="jtool2"></a><a href="http://www.newosxbook.com/tools/jtool.html" target="_blank" rel="noopener noreferrer">jtool2</a><a class="hash-link" href="#jtool2" title="Direct link to heading">#</a></h2><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_prK2" id="查看header--h"></a>查看header: <code>-h</code><a class="hash-link" href="#查看header--h" title="Direct link to heading">#</a></h3><div class="mdxCodeBlock_1zKU"><div class="codeBlockContent_actS"><div tabindex="0" class="prism-code language-shell codeBlock_tuNs thin-scrollbar"><div class="codeBlockLines_3uvA" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">Zephyr:~ morpheus$ otool -h /bin/ls</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">/bin/ls:</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">Mach header</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">      magic cputype cpusubtype  caps    filetype ncmds sizeofcmds      flags</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"> 0xfeedfacf </span><span class="token number" style="color:rgb(247, 140, 108)">16777223</span><span class="token plain">          </span><span class="token number" style="color:rgb(247, 140, 108)">3</span><span class="token plain">  0x80           </span><span class="token number" style="color:rgb(247, 140, 108)">2</span><span class="token plain">    </span><span class="token number" style="color:rgb(247, 140, 108)">19</span><span class="token plain">       </span><span class="token number" style="color:rgb(247, 140, 108)">1816</span><span class="token plain"> 0x00200085</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">Zephyr:~ morpheus$ jtool -h  /bin/ls</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">Magic:  </span><span class="token number" style="color:rgb(247, 140, 108)">64</span><span class="token plain">-bit Mach-O</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">Type:   executable</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">CPU:    x86_64</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">Cmds:   </span><span class="token number" style="color:rgb(247, 140, 108)">19</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">size:   </span><span class="token number" style="color:rgb(247, 140, 108)">1816</span><span class="token plain"> bytes</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">Flags:  0x200085</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_2GIj">Copy</button></div></div><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_prK2" id="查看load-command--l"></a>查看load command: <code>-l</code><a class="hash-link" href="#查看load-command--l" title="Direct link to heading">#</a></h3><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_prK2" id="查看page分布"></a>查看page分布<a class="hash-link" href="#查看page分布" title="Direct link to heading">#</a></h3><p>优化 pagestuff</p><div class="mdxCodeBlock_1zKU"><div class="codeBlockContent_actS"><div tabindex="0" class="prism-code language-undefined codeBlock_tuNs thin-scrollbar"><div class="codeBlockLines_3uvA" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">➜  mach-o jtool2   --pages dys_ios_framework_demo </span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">0x0-0x8000 __TEXT       (32768 bytes)</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        0x5fb0-0x653c __TEXT.__text     (1420 bytes)</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        0x653c-0x65d8 __TEXT.__stubs    (156 bytes)</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        0x65d8-0x668c __TEXT.__stub_helper      (180 bytes)</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        0x668c-0x7416 __TEXT.__objc_methname    (3466 bytes)</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        0x7416-0x7486 __TEXT.__objc_classname   (112 bytes)</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        0x7486-0x7f95 __TEXT.__objc_methtype    (2831 bytes)</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        0x7f95-0x7fab __TEXT.__cstring  (22 bytes)</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        0x7fac-0x8000 __TEXT.__unwind_info      (84 bytes)</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">0x8000-0xc000 __DATA_CONST      (16384 bytes)</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        0x8000-0x8008 __DATA_CONST.__got        (8 bytes)</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        0x8008-0x8028 __DATA_CONST.__cfstring   (32 bytes)</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        0x8028-0x8040 __DATA_CONST.__objc_classlist     (24 bytes)</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        0x8040-0x8060 __DATA_CONST.__objc_protolist     (32 bytes)</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        0x8060-0x8068 __DATA_CONST.__objc_imageinfo     (8 bytes)</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">0xc000-0x10000 __DATA   (16384 bytes)</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        0xc000-0xc068 __DATA.__la_symbol_ptr    (104 bytes)</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        0xc068-0xd390 __DATA.__objc_const       (4904 bytes)</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        0xd390-0xd3a8 __DATA.__objc_selrefs     (24 bytes)</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        0xd3a8-0xd3b8 __DATA.__objc_classrefs   (16 bytes)</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        0xd3b8-0xd3c0 __DATA.__objc_superrefs   (8 bytes)</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        0xd3c0-0xd3c4 __DATA.__objc_ivar        (4 bytes)</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        0xd3c8-0xd4b8 __DATA.__objc_data        (240 bytes)</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        0xd4b8-0xd640 __DATA.__data     (392 bytes)</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">0x10000-0x17950 __LINKEDIT      (31056 bytes)</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        0x10000-0x10150 Rebase info       (opcodes)     (336 bytes)</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        0x10150-0x102a0 Binding info      (opcodes)     (336 bytes)</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        0x102a0-0x103f8 Lazy Binding info (opcodes)     (344 bytes)</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        0x103f8-0x104d0 Exports (216 bytes)</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        0x104d0-0x104e8 Function Starts (24 bytes)</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        0x104e8-0x111c8 Symbol Table    (3296 bytes)</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        0x11238-0x12b40 String Table    (6408 bytes)</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        0x12b40-0x17950 Code Signature  (19984 bytes)</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">➜  mach-o size dys_ios_framework_demo</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">__TEXT  __DATA  __OBJC  others  dec     hex</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">32768   16384   0       4295016448      4295065600      100018000</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_2GIj">Copy</button></div></div><p>代码段，数据段</p><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_prK2" id="htool"></a><a href="https://h3adsh0tzz.com/projects/htool/" target="_blank" rel="noopener noreferrer">HTool</a><a class="hash-link" href="#htool" title="Direct link to heading">#</a></h2><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_prK2" id="macho-o-helper-toolset"></a><a href="https://h3adsh0tzz.com/2020/01/macho-helper-toolset/" target="_blank" rel="noopener noreferrer">Macho-O Helper Toolset</a><a class="hash-link" href="#macho-o-helper-toolset" title="Direct link to heading">#</a></h2><p><a href="https://h3adsh0tzz.com/projects/macho-toolset/" target="_blank" rel="noopener noreferrer">https://h3adsh0tzz.com/projects/macho-toolset/</a></p><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_prK2" id="libhelper"></a><a href="https://github.com/h3adshotzz/libhelper" target="_blank" rel="noopener noreferrer">libhelper</a><a class="hash-link" href="#libhelper" title="Direct link to heading">#</a></h2><p><a href="https://h3adsh0tzz.com/projects/libhelper/" target="_blank" rel="noopener noreferrer">https://h3adsh0tzz.com/projects/libhelper/</a></p><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_prK2" id="img4helper"></a><a href="https://h3adsh0tzz.com/projects/img4helper/" target="_blank" rel="noopener noreferrer">Img4Helper</a><a class="hash-link" href="#img4helper" title="Direct link to heading">#</a></h2><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_prK2" id="lipo"></a>lipo<a class="hash-link" href="#lipo" title="Direct link to heading">#</a></h2><p>显示arch信息</p><div class="mdxCodeBlock_1zKU"><div class="codeBlockContent_actS"><div tabindex="0" class="prism-code language-undefined codeBlock_tuNs thin-scrollbar"><div class="codeBlockLines_3uvA" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">➜  mach-o lipo -detailed_info /usr/bin/perl</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">Fat header in: /usr/bin/perl</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">fat_magic 0xcafebabe</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">nfat_arch 2</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">architecture x86_64</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    cputype CPU_TYPE_X86_64</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    cpusubtype CPU_SUBTYPE_X86_64_ALL</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    capabilities 0x0</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    offset 16384</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    size 58752</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    align 2^14 (16384)</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">architecture arm64e</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    cputype CPU_TYPE_ARM64</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    cpusubtype CPU_SUBTYPE_ARM64E</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    capabilities PTR_AUTH_VERSION USERSPACE 0</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    offset 81920</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    size 58256</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    align 2^14 (16384)</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_2GIj">Copy</button></div></div><div class="mdxCodeBlock_1zKU"><div class="codeBlockContent_actS"><div tabindex="0" class="prism-code language-undefined codeBlock_tuNs thin-scrollbar"><div class="codeBlockLines_3uvA" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">➜  mach-o tldr lipo</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  lipo</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  Tool for handling Mach-O Universal Binaries.</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  More information: https://ss64.com/osx/lipo.html.</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  - Create a universal file from two single-architecture files:</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    lipo path/to/binary.x86_64 path/to/binary.arm64e -create -output path/to/binary</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  - List all architectures contained in a universal file:</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    lipo path/to/binary -archs</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  - Display detailed information about a universal file:</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    lipo path/to/binary -detailed_info</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  - Extract a single-architecture file from a universal file:</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    lipo path/to/binary -thin arm64e -output path/to/binary.arm64e</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_2GIj">Copy</button></div></div><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_prK2" id="pagestuff"></a>pagestuff<a class="hash-link" href="#pagestuff" title="Direct link to heading">#</a></h2><div class="mdxCodeBlock_1zKU"><div class="codeBlockContent_actS"><div tabindex="0" class="prism-code language-undefined codeBlock_tuNs thin-scrollbar"><div class="codeBlockLines_3uvA" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">➜  mach-o pagestuff dys_ios_framework-11 -a</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">File Page 0 contains Mach-O headers</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">File Page 1 contains empty space in the Mach-O file for arm64 between:</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    Mach-O headers and</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    contents of section (__TEXT,__text)</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">File Page 2 contains empty space in the Mach-O file for arm64 between:</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    Mach-O headers and</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    contents of section (__TEXT,__text)</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">...</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_2GIj">Copy</button></div></div><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_prK2" id="arch"></a>arch<a class="hash-link" href="#arch" title="Direct link to heading">#</a></h2><div class="mdxCodeBlock_1zKU"><div class="codeBlockContent_actS"><div tabindex="0" class="prism-code language-undefined codeBlock_tuNs thin-scrollbar"><div class="codeBlockLines_3uvA" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">➜  mach-o tldr arch</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  arch</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  Display the name of the system architecture, or run a command under a different architecture.</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  See also uname.</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  - Display the system&#x27;s architecture:</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    arch</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  - Run a command using x86_64:</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    arch -x86_64 command</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">See also: uname</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">➜  mach-o arch </span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">i386</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_2GIj">Copy</button></div></div><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_prK2" id="file"></a>file<a class="hash-link" href="#file" title="Direct link to heading">#</a></h2><p>macOS下：</p><div class="mdxCodeBlock_1zKU"><div class="codeBlockContent_actS"><div tabindex="0" class="prism-code language-undefined codeBlock_tuNs thin-scrollbar"><div class="codeBlockLines_3uvA" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">➜  link-test uname -a</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">Darwin bogon 20.6.0 Darwin Kernel Version 20.6.0: Wed Jun 23 00:26:31 PDT 2021; root:xnu-7195.141.2~5/RELEASE_X86_64 x86_64</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">➜  link-test file a.c </span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">a.c: ASCII text</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">➜  link-test file a.o</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">a.o: Mach-O 64-bit object x86_64</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">➜  link-test file a.out </span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">a.out: Mach-O 64-bit executable x86_64</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_2GIj">Copy</button></div></div><p>Ubuntu下：</p><div class="mdxCodeBlock_1zKU"><div class="codeBlockContent_actS"><div tabindex="0" class="prism-code language-undefined codeBlock_tuNs thin-scrollbar"><div class="codeBlockLines_3uvA" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">➜  link-test git:(master) ✗ uname -a</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">Linux dys-ubuntu-desktop 5.11.0-25-generic #27~20.04.1-Ubuntu SMP Tue Jul 13 17:41:23 UTC 2021 x86_64 x86_64 x86_64 GNU/Linux</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">➜  link-test git:(master) ✗ file a.c</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">a.c: ASCII text</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">➜  link-test git:(master) ✗ file a.o</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">a.o: ELF 64-bit LSB relocatable, x86-64, version 1 (SYSV), not stripped</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">➜  link-test git:(master) ✗ file a.out</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">a.out: ELF 64-bit LSB shared object, x86-64, version 1 (SYSV), dynamically linked, interpreter /lib64/ld-linux-x86-64.so.2, BuildID[sha1]=824c177b1a8f2ca5c249ce66ec8a671bf92a14ee, for GNU/Linux 3.2.0, not stripped</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_2GIj">Copy</button></div></div><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_prK2" id="lipo-1"></a>lipo<a class="hash-link" href="#lipo-1" title="Direct link to heading">#</a></h2><p>参考：lipo</p><ul><li><a href="https://www.cnblogs.com/dabaopku/p/5698186.html" target="_blank" rel="noopener noreferrer">Mac系统下lipo, ar, nm等工具的使用简介</a></li></ul><p>而对于苹果系统来说, 丰富的设备包含了多种架构平台, armv7, arm64, i386, x86_64是最常见的指令集, 一个程序库为了兼容各个平台, 常常要把不同平台编译的程序合并起来, 生成所谓的胖文件(Fat File)。</p><p>因此对于一个可执行文件, 其实包含了3层结构: Universal Fat File -&gt; Single Architecture Binary File -&gt; Mach-O Object.</p><p>objdump 二进制文件分析 <a href="https://linuxtools-rst.readthedocs.io/zh_CN/latest/tool/objdump.html" target="_blank" rel="noopener noreferrer">https://linuxtools-rst.readthedocs.io/zh_CN/latest/tool/objdump.html</a></p><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_prK2" id="binutils"></a>binutils<a class="hash-link" href="#binutils" title="Direct link to heading">#</a></h2><p>mac有部分自带的工具和binutils相同，mac下的工具主要是解析Mach-O的，gnu的binutil主要是elf的，所以gnu的那一套util安装后最好加上前缀g。以区分。防止对mac系统的二进制工具进行覆盖。</p><p>mac下也可以用binutils。但是因为mac下是Mach-O格式，所以不能用readelf。</p><p>Mac : brew install binutils，然后用greadelf和gobjdump(readelf和objdump)。</p><p>MachOView 查看 mach-o文件</p><p>objdump Mac 可用</p><div class="mdxCodeBlock_1zKU"><div class="codeBlockContent_actS"><div tabindex="0" class="prism-code language-undefined codeBlock_tuNs thin-scrollbar"><div class="codeBlockLines_3uvA" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">➜  /Users/dingyusong/mine/gitee/clab/SimpleSection git:(master) readelf -S SimpleSection.o</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">readelf: Error: Not an ELF file - it has the wrong magic bytes at the start</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">➜  /Users/dingyusong/mine/gitee/clab/SimpleSection git:(master) file SimpleSection.o </span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">SimpleSection.o: Mach-O 64-bit object x86_64</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_2GIj">Copy</button></div></div><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_prK2" id="strip"></a>strip<a class="hash-link" href="#strip" title="Direct link to heading">#</a></h2><p>strip用来删除程序里的符号表. -R 用来指定一个要删除的符号列表, 使用上述生成的symbols文件. 添加 -S 选项来保留其他符号.</p><p><strong>strip -S -R symbols MAMapKit.armv7 -o MAMapKit.armv7.strip</strong></p><p>可以验证生成的新文件已经没有了png符号.</p><div class="mdxCodeBlock_1zKU"><div class="codeBlockContent_actS"><div tabindex="0" class="prism-code language-undefined codeBlock_tuNs thin-scrollbar"><div class="codeBlockLines_3uvA" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">➜  ~ cat symbols</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">_OBJC_CLASS_$_FW1Obj1</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_2GIj">Copy</button></div></div><div class="mdxCodeBlock_1zKU"><div class="codeBlockContent_actS"><div tabindex="0" class="prism-code language-undefined codeBlock_tuNs thin-scrollbar"><div class="codeBlockLines_3uvA" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">➜  ~ nm -gU /Users/dingyusong/Library/Developer/Xcode/DerivedData/framework-demo-gpomogmayijsfpclllhlbeetrizz/Build/Products/Debug-iphonesimulator/fw2.framework/fw2</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">0000000000008158 S _OBJC_CLASS_$_FW1Obj1</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">00000000000081a8 S _OBJC_CLASS_$_FW2Obj1</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">0000000000008130 S _OBJC_METACLASS_$_FW1Obj1</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">0000000000008180 S _OBJC_METACLASS_$_FW2Obj1</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">0000000000003f80 S _fw2VersionNumber</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">0000000000003f50 S _fw2VersionString</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_2GIj">Copy</button></div></div><p>删除某个符号</p><div class="mdxCodeBlock_1zKU"><div class="codeBlockContent_actS"><div tabindex="0" class="prism-code language-undefined codeBlock_tuNs thin-scrollbar"><div class="codeBlockLines_3uvA" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">➜  ~ strip -S -R symbols /Users/dingyusong/Library/Developer/Xcode/DerivedData/framework-demo-gpomogmayijsfpclllhlbeetrizz/Build/Products/Debug-iphonesimulator/fw2.framework/fw2</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">/Applications/Xcode.app/Contents/Developer/Toolchains/XcodeDefault.xctoolchain/usr/bin/strip: warning: changes being made to the file will invalidate the code signature in: /Users/dingyusong/Library/Developer/Xcode/DerivedData/framework-demo-gpomogmayijsfpclllhlbeetrizz/Build/Products/Debug-iphonesimulator/fw2.framework/fw2</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">➜  ~ nm -gU /Users/dingyusong/Library/Developer/Xcode/DerivedData/framework-demo-gpomogmayijsfpclllhlbeetrizz/Build/Products/Debug-iphonesimulator/fw2.framework/fw2</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">00000000000081a8 S _OBJC_CLASS_$_FW2Obj1</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">0000000000008130 S _OBJC_METACLASS_$_FW1Obj1</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">0000000000008180 S _OBJC_METACLASS_$_FW2Obj1</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">0000000000003f80 S _fw2VersionNumber</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">0000000000003f50 S _fw2VersionString</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_2GIj">Copy</button></div></div><p><code>_OBJC_CLASS_$_FW1Obj1</code>这个符号确实没有了。</p><p>移除某个符号</p><p>用nm获得待移除的符号表的列表</p><p><img alt="image-20210906170406035" src="/assets/images/image-20210906170406035-0d91fe20e91997b52434899b43698102.png"></p><div class="mdxCodeBlock_1zKU"><div class="codeBlockContent_actS"><div tabindex="0" class="prism-code language-undefined codeBlock_tuNs thin-scrollbar"><div class="codeBlockLines_3uvA" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">➜  ~ nm -j /Users/dingyusong/Library/Developer/Xcode/DerivedData/framework-demo-gpomogmayijsfpclllhlbeetrizz/Build/Products/Debug-iphonesimulator/fw2.framework/fw2  | grep FW1Obj1  &gt; third.symbol</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">➜  ~ cat third.symbol</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">_OBJC_CLASS_$_FW1Obj1</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">_OBJC_METACLASS_$_FW1Obj1</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">__OBJC_CLASS_RO_$_FW1Obj1</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">__OBJC_METACLASS_RO_$_FW1Obj1</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_2GIj">Copy</button></div></div><p>把对外暴露的符号被剔除了</p><div class="mdxCodeBlock_1zKU"><div class="codeBlockContent_actS"><div tabindex="0" class="prism-code language-undefined codeBlock_tuNs thin-scrollbar"><div class="codeBlockLines_3uvA" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">➜  ~ nm -gU /Users/dingyusong/Library/Developer/Xcode/DerivedData/framework-demo-gpomogmayijsfpclllhlbeetrizz/Build/Products/Debug-iphonesimulator/fw2.framework/fw2</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">00000000000081c0 S _OBJC_CLASS_$_FW2Obj1</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">0000000000008198 S _OBJC_METACLASS_$_FW2Obj1</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">0000000000003f70 S _fw2VersionNumber</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">0000000000003f40 S _fw2VersionString</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">➜  ~ nm -a /Users/dingyusong/Library/Developer/Xcode/DerivedData/framework-demo-gpomogmayijsfpclllhlbeetrizz/Build/Products/Debug-iphonesimulator/fw2.framework/fw2 | grep FW1</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">0000000000003e50 t -[FW1Obj1 hello]</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">0000000000003e50 - 01 0000   FUN -[FW1Obj1 hello]</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">000000006135da52 - 03 0001   OSO /Users/dingyusong/Library/Developer/Xcode/DerivedData/framework-demo-gpomogmayijsfpclllhlbeetrizz/Build/Intermediates.noindex/framework-demo.build/Debug-iphonesimulator/fw2.build/Objects-normal/x86_64/FW1Obj1.o</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">0000000000003e50 - 01 0000    SO FW1Obj1.m</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">0000000000000000 - 00 0000  GSYM _OBJC_CLASS_$_FW1Obj1</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">0000000000008170 s _OBJC_CLASS_$_FW1Obj1</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">0000000000000000 - 00 0000  GSYM _OBJC_METACLASS_$_FW1Obj1</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">0000000000008148 s _OBJC_METACLASS_$_FW1Obj1</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">0000000000003f10 s __OBJC_$_INSTANCE_METHODS_FW1Obj1</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">0000000000008058 - 0f 0000 STSYM __OBJC_CLASS_RO_$_FW1Obj1</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">0000000000008058 s __OBJC_CLASS_RO_$_FW1Obj1</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">0000000000008010 - 0f 0000 STSYM __OBJC_METACLASS_RO_$_FW1Obj1</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">0000000000008010 s __OBJC_METACLASS_RO_$_FW1Obj1</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_2GIj">Copy</button></div></div><p>导出需要剔除的符号</p><div class="mdxCodeBlock_1zKU"><div class="codeBlockContent_actS"><div tabindex="0" class="prism-code language-undefined codeBlock_tuNs thin-scrollbar"><div class="codeBlockLines_3uvA" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">➜  Example git:(develop) ✗ nm -jgU /Users/dingyusong/Library/Developer/Xcode/DerivedData/tosee-bnxlmdxecdrxoyhkhhqgpchfrcew/Build/Products/Debug-iphoneos/tosee.app/Frameworks/RZGMS.framework/RZGMS | grep RZDataCollectManager &gt;&gt; symbol.strip</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">➜  Example git:(develop) ✗ nm -jgU /Users/dingyusong/Library/Developer/Xcode/DerivedData/tosee-bnxlmdxecdrxoyhkhhqgpchfrcew/Build/Products/Debug-iphoneos/tosee.app/Frameworks/RZGMS.framework/RZGMS | grep RZUUIDHelper &gt;&gt; symbol.strip        </span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_2GIj">Copy</button></div></div><p><img alt="image-20210906181630219" src="/assets/images/image-20210906181630219-c276d12582d15487ff6fd15c0dedc514.png"></p><div class="mdxCodeBlock_1zKU"><div class="codeBlockContent_actS"><div tabindex="0" class="prism-code language-undefined codeBlock_tuNs thin-scrollbar"><div class="codeBlockLines_3uvA" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">-j     Just display the symbol names (no value or type).</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">-g     Display only global (external) symbols.</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">-U     Don&#x27;t display undefined symbols.</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_2GIj">Copy</button></div></div><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_prK2" id="altool"></a>altool<a class="hash-link" href="#altool" title="Direct link to heading">#</a></h2><div class="mdxCodeBlock_1zKU"><div class="codeBlockContent_actS"><div tabindex="0" class="prism-code language-undefined codeBlock_tuNs thin-scrollbar"><div class="codeBlockLines_3uvA" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">-----------apple-build-system: run upload ipa to appstore start-----------</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">upload_to_appstore 436LQ6QXGA 6cdf900a-8cec-456f-84d7-883e3b45d891 /Users/dingyusong/Desktop/duobei/tosee-ios/build/tosee/20210907111935/tosee.ipa</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"> apiKey is: 436LQ6QXGA -- apiIssuer is: 6cdf900a-8cec-456f-84d7-883e3b45d891 </span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">running validate cmd xcrun altool --validate-app -f /Users/dingyusong/Desktop/duobei/tosee-ios/build/tosee/20210907111935/tosee.ipa -t iOS --apiKey 436LQ6QXGA --apiIssuer 6cdf900a-8cec-456f-84d7-883e3b45d891 --verbose</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">Verbose logging enabled.</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">Non-localized server string received: &#x27;Could not find private key file: AuthKey_436LQ6QXGA.p8, in any of the following locations.</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"> ./private_keys or &lt;user home&gt;/private_keys or &lt;user home&gt;/.private_keys or &lt;user home&gt;/.appstoreconnect/private_keys.&#x27;.</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">*** Could not find private key file: AuthKey_436LQ6QXGA.p8, in any of the following locations.</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"> ./private_keys or &lt;user home&gt;/private_keys or &lt;user home&gt;/.private_keys or &lt;user home&gt;/.appstoreconnect/private_keys.</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">*** Error: Unable to validate archive &#x27;/Users/dingyusong/Desktop/duobei/tosee-ios/build/tosee/20210907111935/tosee.ipa&#x27;.</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">*** Error: Authentication failed. Failed to authenticate with errors: (</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    &quot;Error Domain=ITunesConnectionAuthenticationErrorDomain Code=-26000 \&quot;Could not find private key file: AuthKey_436LQ6QXGA.p8, in any of the following locations.\n ./private_keys or &lt;user home&gt;/private_keys or &lt;user home&gt;/.private_keys or &lt;user home&gt;/.appstoreconnect/private_keys.\&quot; UserInfo={NSLocalizedRecoverySuggestion=Could not find private key file: AuthKey_436LQ6QXGA.p8, in any of the following locations.\n ./private_keys or &lt;user home&gt;/private_keys or &lt;user home&gt;/.private_keys or &lt;user home&gt;/.appstoreconnect/private_keys., NSLocalizedDescription=Could not find private key file: AuthKey_436LQ6QXGA.p8, in any of the following locations.\n ./private_keys or &lt;user home&gt;/private_keys or &lt;user home&gt;/.private_keys or &lt;user home&gt;/.appstoreconnect/private_keys., NSLocalizedFailureReason=App Store operation failed.}&quot;</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">) (-1011)</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">033[31m validate failed </span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">-----------apple-build-system: run upload ipa to appstore done-----------</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_2GIj">Copy</button></div></div><p><img alt="image-20210907112922000" src="/assets/images/image-20210907112922000-01f022588fb4cf36146cd1192d2725a9.png"></p><p>私钥下载下来放这里</p><p><img alt="image-20210922110638660" src="/assets/images/image-20210922110638660-3c1c1f9231b08ca83878704e10d47730.png"></p><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_prK2" id="class-dump"></a>class-dump<a class="hash-link" href="#class-dump" title="Direct link to heading">#</a></h2><p>class-dump is a command-line utility for examining the Objective-C segment of Mach-O files. It generates declarations for the classes, categories and protocols. This is the same information provided by using &#x27;otool -ov&#x27;, but presented as normal Objective-C declarations.</p><p><a href="https://github.com/nygard/class-dump" target="_blank" rel="noopener noreferrer">https://github.com/nygard/class-dump</a></p><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_prK2" id="libtool"></a>Libtool<a class="hash-link" href="#libtool" title="Direct link to heading">#</a></h2></div></article><div class="margin-vert--xl"><div class="row"><div class="col"><a href="dys-typora-open://mine/survival/docs/Apple/开发工具/macOS二进制命令行工具.md" target="_blank" rel="noreferrer noopener"><svg fill="currentColor" height="1.2em" width="1.2em" preserveAspectRatio="xMidYMid meet" role="img" viewBox="0 0 40 40" class="iconEdit_2LL7"><g><path d="m34.5 11.7l-3 3.1-6.3-6.3 3.1-3q0.5-0.5 1.2-0.5t1.1 0.5l3.9 3.9q0.5 0.4 0.5 1.1t-0.5 1.2z m-29.5 17.1l18.4-18.5 6.3 6.3-18.4 18.4h-6.3v-6.2z"></path></g></svg>Edit this page</a></div></div></div><div class="margin-vert--lg"><nav class="pagination-nav" aria-label="Blog list page navigation"><div class="pagination-nav__item"></div><div class="pagination-nav__item pagination-nav__item--next"></div></nav></div></div></div><div class="col col--3"><div class="tableOfContents_2xL- thin-scrollbar"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#xcrun" class="table-of-contents__link">xcrun</a><ul><li><a href="#dyldinfo" class="table-of-contents__link">dyldinfo</a></li></ul></li><li><a href="#dwarfdump" class="table-of-contents__link">dwarfdump</a></li><li><a href="#nm" class="table-of-contents__link">nm</a></li><li><a href="#mfind" class="table-of-contents__link">mfind</a></li><li><a href="#atos" class="table-of-contents__link">atos</a></li><li><a href="#otool" class="table-of-contents__link">otool</a></li><li><a href="#jtool2" class="table-of-contents__link">jtool2</a><ul><li><a href="#查看header--h" class="table-of-contents__link">查看header: <code>-h</code></a></li><li><a href="#查看load-command--l" class="table-of-contents__link">查看load command: <code>-l</code></a></li><li><a href="#查看page分布" class="table-of-contents__link">查看page分布</a></li></ul></li><li><a href="#htool" class="table-of-contents__link">HTool</a></li><li><a href="#macho-o-helper-toolset" class="table-of-contents__link">Macho-O Helper Toolset</a></li><li><a href="#libhelper" class="table-of-contents__link">libhelper</a></li><li><a href="#img4helper" class="table-of-contents__link">Img4Helper</a></li><li><a href="#lipo" class="table-of-contents__link">lipo</a></li><li><a href="#pagestuff" class="table-of-contents__link">pagestuff</a></li><li><a href="#arch" class="table-of-contents__link">arch</a></li><li><a href="#file" class="table-of-contents__link">file</a></li><li><a href="#lipo-1" class="table-of-contents__link">lipo</a></li><li><a href="#binutils" class="table-of-contents__link">binutils</a></li><li><a href="#strip" class="table-of-contents__link">strip</a></li><li><a href="#altool" class="table-of-contents__link">altool</a></li><li><a href="#class-dump" class="table-of-contents__link">class-dump</a></li><li><a href="#libtool" class="table-of-contents__link">Libtool</a></li></ul></div></div></div></div></main></div></div><footer class="footer footer--dark"><div class="container"><div class="row footer__links"><div class="col footer__col"><h4 class="footer__title">Docs</h4><ul class="footer__items"><li class="footer__item"><a class="footer__link-item" href="/docs/">Style Guide</a></li><li class="footer__item"><a class="footer__link-item" href="/docs/">Second Doc</a></li></ul></div><div class="col footer__col"><h4 class="footer__title">Community</h4><ul class="footer__items"><li class="footer__item"><a href="https://stackoverflow.com/questions/tagged/docusaurus" target="_blank" rel="noopener noreferrer" class="footer__link-item">Stack Overflow</a></li><li class="footer__item"><a href="https://discordapp.com/invite/docusaurus" target="_blank" rel="noopener noreferrer" class="footer__link-item">Discord</a></li><li class="footer__item"><a href="https://twitter.com/docusaurus" target="_blank" rel="noopener noreferrer" class="footer__link-item">Twitter</a></li></ul></div><div class="col footer__col"><h4 class="footer__title">More</h4><ul class="footer__items"><li class="footer__item"><a class="footer__link-item" href="/blog">Blog</a></li><li class="footer__item"><a href="https://github.com/facebook/docusaurus" target="_blank" rel="noopener noreferrer" class="footer__link-item">GitHub</a></li></ul></div></div><div class="footer__bottom text--center"><div class="footer__copyright">Copyright © 2021 My Project, Inc. Built with Docusaurus.</div></div></div></footer></div>
<script src="/styles.aaa24a49.js"></script>
<script src="/runtime~main.7eeb3d64.js"></script>
<script src="/main.7a041c89.js"></script>
<script src="/1.62b3ea65.js"></script>
<script src="/257.bb7ed37e.js"></script>
<script src="/258.ed1b30f8.js"></script>
<script src="/935f2afb.55f5968c.js"></script>
<script src="/256.a7530d90.js"></script>
<script src="/401eedf3.45842d0b.js"></script>
</body>
</html>