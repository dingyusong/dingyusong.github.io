(window.webpackJsonp=window.webpackJsonp||[]).push([[26],{333:function(e,n,t){"use strict";t.d(n,"a",(function(){return p})),t.d(n,"b",(function(){return u}));var a=t(0),r=t.n(a);function i(e,n,t){return n in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t,e}function l(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);n&&(a=a.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,a)}return t}function o(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?l(Object(t),!0).forEach((function(n){i(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):l(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}function b(e,n){if(null==e)return{};var t,a,r=function(e,n){if(null==e)return{};var t,a,r={},i=Object.keys(e);for(a=0;a<i.length;a++)t=i[a],n.indexOf(t)>=0||(r[t]=e[t]);return r}(e,n);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)t=i[a],n.indexOf(t)>=0||Object.prototype.propertyIsEnumerable.call(e,t)&&(r[t]=e[t])}return r}var c=r.a.createContext({}),s=function(e){var n=r.a.useContext(c),t=n;return e&&(t="function"==typeof e?e(n):o(o({},n),e)),t},p=function(e){var n=s(e.components);return r.a.createElement(c.Provider,{value:n},e.children)},m={inlineCode:"code",wrapper:function(e){var n=e.children;return r.a.createElement(r.a.Fragment,{},n)}},_=r.a.forwardRef((function(e,n){var t=e.components,a=e.mdxType,i=e.originalType,l=e.parentName,c=b(e,["components","mdxType","originalType","parentName"]),p=s(t),_=a,u=p["".concat(l,".").concat(_)]||p[_]||m[_]||i;return t?r.a.createElement(u,o(o({ref:n},c),{},{components:t})):r.a.createElement(u,o({ref:n},c))}));function u(e,n){var t=arguments,a=n&&n.mdxType;if("string"==typeof e||a){var i=t.length,l=new Array(i);l[0]=_;var o={};for(var b in n)hasOwnProperty.call(n,b)&&(o[b]=n[b]);o.originalType=e,o.mdxType="string"==typeof e?e:a,l[1]=o;for(var c=2;c<i;c++)l[c]=t[c];return r.a.createElement.apply(null,l)}return r.a.createElement.apply(null,t)}_.displayName="MDXCreateElement"},427:function(e,n,t){"use strict";t.r(n),n.default=t.p+"assets/images/image-20210904151001416-3b9993530cf1a942be868334d42b1a88.png"},95:function(e,n,t){"use strict";t.r(n),t.d(n,"frontMatter",(function(){return o})),t.d(n,"metadata",(function(){return b})),t.d(n,"toc",(function(){return c})),t.d(n,"default",(function(){return p}));var a=t(3),r=t(7),i=(t(0),t(333)),l=["components"],o={},b={unversionedId:"\u5de5\u5177/1-\u5f00\u53d1\u5de5\u5177/\u4e8c\u8fdb\u5236\u5de5\u5177/binutils",id:"\u5de5\u5177/1-\u5f00\u53d1\u5de5\u5177/\u4e8c\u8fdb\u5236\u5de5\u5177/binutils",isDocsHomePage:!1,title:"binutils",description:"binutils",source:"@site/docs/\u5de5\u5177/1-\u5f00\u53d1\u5de5\u5177/\u4e8c\u8fdb\u5236\u5de5\u5177/binutils.md",slug:"/\u5de5\u5177/1-\u5f00\u53d1\u5de5\u5177/\u4e8c\u8fdb\u5236\u5de5\u5177/binutils",permalink:"/docs/\u5de5\u5177/1-\u5f00\u53d1\u5de5\u5177/\u4e8c\u8fdb\u5236\u5de5\u5177/binutils",editUrl:"dys-typora-open://mine/survival/docs/\u5de5\u5177/1-\u5f00\u53d1\u5de5\u5177/\u4e8c\u8fdb\u5236\u5de5\u5177/binutils.md",version:"current"},c=[{value:"nm",id:"nm",children:[{value:"\u67e5\u770b\u6211\u4eec\u7ed9\u5916\u90e8\u63d0\u4f9b\u7684\u7b26\u53f7",id:"\u67e5\u770b\u6211\u4eec\u7ed9\u5916\u90e8\u63d0\u4f9b\u7684\u7b26\u53f7",children:[]}]},{value:"objdump",id:"objdump",children:[]},{value:"LIEF",id:"lief",children:[]}],s={toc:c};function p(e){var n=e.components,o=Object(r.a)(e,l);return Object(i.b)("wrapper",Object(a.a)({},s,o,{components:n,mdxType:"MDXLayout"}),Object(i.b)("h1",{id:"binutils"},"binutils"),Object(i.b)("p",null,Object(i.b)("a",{parentName:"p",href:"https://zh.wikipedia.org/wiki/GNU_Binutils"},"https://zh.wikipedia.org/wiki/GNU_Binutils")),Object(i.b)("p",null,Object(i.b)("a",{parentName:"p",href:"https://www.gnu.org/software/binutils/"},"https://www.gnu.org/software/binutils/")),Object(i.b)("p",null,"manual\uff1a",Object(i.b)("a",{parentName:"p",href:"https://sourceware.org/binutils/docs-2.37/"},"https://sourceware.org/binutils/docs-2.37/")),Object(i.b)("p",null,"This is an HTML conversion of the documentation included in the binutils 2.37 sources."),Object(i.b)("ul",null,Object(i.b)("li",{parentName:"ul"},"Assembler (gas) ",Object(i.b)("a",{parentName:"li",href:"https://sourceware.org/binutils/docs-2.37/as/index.html"},"(Multiple pages,")," ",Object(i.b)("a",{parentName:"li",href:"https://sourceware.org/binutils/docs-2.37/as.html"},"All on one page,")," ",Object(i.b)("a",{parentName:"li",href:"https://sourceware.org/binutils/docs-2.37/as.pdf"},"PDF file)")),Object(i.b)("li",{parentName:"ul"},"BFD Library (libbfd) ",Object(i.b)("a",{parentName:"li",href:"https://sourceware.org/binutils/docs-2.37/bfd/index.html"},"(Multiple pages,")," ",Object(i.b)("a",{parentName:"li",href:"https://sourceware.org/binutils/docs-2.37/bfd.html"},"All on one page,")," ",Object(i.b)("a",{parentName:"li",href:"https://sourceware.org/binutils/docs-2.37/bfd.pdf"},"PDF file)")),Object(i.b)("li",{parentName:"ul"},"Binary Tools (binutils) ",Object(i.b)("a",{parentName:"li",href:"https://sourceware.org/binutils/docs-2.37/binutils/index.html"},"(Multiple pages,")," ",Object(i.b)("a",{parentName:"li",href:"https://sourceware.org/binutils/docs-2.37/binutils.html"},"All on one page,")," ",Object(i.b)("a",{parentName:"li",href:"https://sourceware.org/binutils/docs-2.37/binutils.pdf"},"PDF file)")),Object(i.b)("li",{parentName:"ul"},"Linker (ld) ",Object(i.b)("a",{parentName:"li",href:"https://sourceware.org/binutils/docs-2.37/ld/index.html"},"(Multiple pages,")," ",Object(i.b)("a",{parentName:"li",href:"https://sourceware.org/binutils/docs-2.37/ld.html"},"All on one page,")," ",Object(i.b)("a",{parentName:"li",href:"https://sourceware.org/binutils/docs-2.37/ld.pdf"},"PDF file)")),Object(i.b)("li",{parentName:"ul"},"Profiler (gprof) ",Object(i.b)("a",{parentName:"li",href:"https://sourceware.org/binutils/docs-2.37/gprof/index.html"},"(Multiple pages,")," ",Object(i.b)("a",{parentName:"li",href:"https://sourceware.org/binutils/docs-2.37/gprof.html"},"All on one page,")," ",Object(i.b)("a",{parentName:"li",href:"https://sourceware.org/binutils/docs-2.37/gprof.pdf"},"PDF file)"))),Object(i.b)("p",null,"The GNU Binutils are a collection of binary tools. The main ones are:"),Object(i.b)("ul",null,Object(i.b)("li",{parentName:"ul"},Object(i.b)("strong",{parentName:"li"},"ld")," - the GNU linker."),Object(i.b)("li",{parentName:"ul"},Object(i.b)("strong",{parentName:"li"},"as")," - the GNU assembler.")),Object(i.b)("p",null,"But they also include:"),Object(i.b)("ul",null,Object(i.b)("li",{parentName:"ul"},Object(i.b)("strong",{parentName:"li"},"addr2line")," - Converts addresses into filenames and line numbers."),Object(i.b)("li",{parentName:"ul"},Object(i.b)("strong",{parentName:"li"},"ar")," - A utility for creating, modifying and extracting from archives."),Object(i.b)("li",{parentName:"ul"},Object(i.b)("strong",{parentName:"li"},"c++filt")," - Filter to demangle encoded C++ symbols."),Object(i.b)("li",{parentName:"ul"},Object(i.b)("strong",{parentName:"li"},"dlltool")," - Creates files for building and using DLLs."),Object(i.b)("li",{parentName:"ul"},Object(i.b)("strong",{parentName:"li"},"gold")," - A new, faster, ELF only linker, still in beta test."),Object(i.b)("li",{parentName:"ul"},Object(i.b)("strong",{parentName:"li"},"gprof")," - Displays profiling information."),Object(i.b)("li",{parentName:"ul"},Object(i.b)("strong",{parentName:"li"},"nlmconv")," - Converts object code into an NLM."),Object(i.b)("li",{parentName:"ul"},Object(i.b)("strong",{parentName:"li"},"nm")," - Lists symbols from object files."),Object(i.b)("li",{parentName:"ul"},Object(i.b)("strong",{parentName:"li"},"objcopy")," - Copies and translates object files."),Object(i.b)("li",{parentName:"ul"},Object(i.b)("strong",{parentName:"li"},"objdump")," - Displays information from object files."),Object(i.b)("li",{parentName:"ul"},Object(i.b)("strong",{parentName:"li"},"ranlib")," - Generates an index to the contents of an archive."),Object(i.b)("li",{parentName:"ul"},Object(i.b)("strong",{parentName:"li"},"readelf")," - Displays information from any ELF format object file."),Object(i.b)("li",{parentName:"ul"},Object(i.b)("strong",{parentName:"li"},"size")," - Lists the section sizes of an object or archive file."),Object(i.b)("li",{parentName:"ul"},Object(i.b)("strong",{parentName:"li"},"strings")," - Lists printable strings from files."),Object(i.b)("li",{parentName:"ul"},Object(i.b)("strong",{parentName:"li"},"strip")," - Discards symbols."),Object(i.b)("li",{parentName:"ul"},Object(i.b)("strong",{parentName:"li"},"windmc")," - A Windows compatible message compiler."),Object(i.b)("li",{parentName:"ul"},Object(i.b)("strong",{parentName:"li"},"windres")," - A compiler for Windows resource files.")),Object(i.b)("hr",null),Object(i.b)("ul",null,Object(i.b)("li",{parentName:"ul"},Object(i.b)("a",{parentName:"li",href:"https://www.cnblogs.com/tocy/p/gnu-binutils-simple-usage.html"},"GNU Binutils\u7b80\u4ecb\u53ca\u57fa\u672c\u7528\u6cd5"))),Object(i.b)("p",null,"GNU Binutils\u662f\u4e00\u7cfb\u5217\u4e8c\u8fdb\u5236\u5de5\u5177\u7684\u96c6\u5408\u3002\u4e3b\u8981\u5305\u62ec\uff1a"),Object(i.b)("ul",null,Object(i.b)("li",{parentName:"ul"},"ld \u2014\u2014 GNU\u94fe\u63a5\u5668"),Object(i.b)("li",{parentName:"ul"},"as\u2014\u2014 GNU\u6c47\u7f16\u5668")),Object(i.b)("p",null,"\u4f46\u4e5f\u5305\u62ec\u4ee5\u4e0b\u4e8c\u8fdb\u5236\u5de5\u5177\uff1a"),Object(i.b)("ul",null,Object(i.b)("li",{parentName:"ul"},Object(i.b)("p",{parentName:"li"},"addr2line\uff1a\u4ece\u76ee\u6807\u6587\u4ef6\u7684\u865a\u62df\u5730\u5740\u83b7\u53d6\u6587\u4ef6\u7684\u884c\u53f7\u6216\u7b26\u53f7\u3002")),Object(i.b)("li",{parentName:"ul"},Object(i.b)("p",{parentName:"li"},"ar\uff1a\u53ef\u4ee5\u5bf9\u9759\u6001\u5e93\u505a\u521b\u5efa\u3001\u4fee\u6539\u548c\u63d0\u53d6\u7684\u64cd\u4f5c\u3002")),Object(i.b)("li",{parentName:"ul"},Object(i.b)("p",{parentName:"li"},"c++filt\uff1a\u53cd\u7f16\u8bd1\uff08\u53cd\u6df7\u6dc6\uff0cdemangle\uff09C++\u7b26\u53f7\u7684\u5de5\u5177\u3002")),Object(i.b)("li",{parentName:"ul"},Object(i.b)("p",{parentName:"li"},"dlltool\uff1a\u521b\u5efa\u521b\u5efaWindows\u52a8\u6001\u5e93\u3002")),Object(i.b)("li",{parentName:"ul"},Object(i.b)("p",{parentName:"li"},"gold\uff1a\u53e6\u4e00\u79cd\u65b0\u7684\u3001\u66f4\u5feb\u7684\u4ec5\u652f\u6301ELF\u7684\u94fe\u63a5\u5668\u3002")),Object(i.b)("li",{parentName:"ul"},Object(i.b)("p",{parentName:"li"},"gprof\uff1a\u6027\u80fd\u5206\u6790\uff08profiling\uff09\u5de5\u5177\u7a0b\u5e8f\u3002")),Object(i.b)("li",{parentName:"ul"},Object(i.b)("p",{parentName:"li"},"nlmconv\uff1a\u53ef\u4ee5\u8f6c\u6362\u6210NetWare Loadable Module(NLM)\u76ee\u6807\u6587\u4ef6\u683c\u5f0f\u3002"))),Object(i.b)("h2",{id:"nm"},"nm"),Object(i.b)("p",null,"nm\uff1a\u663e\u793a\u76ee\u6807\u6587\u4ef6\u5185\u7684\u7b26\u53f7\u4fe1\u606f\u3002"),Object(i.b)("p",null,"\u53c2\u8003\uff1a"),Object(i.b)("ul",null,Object(i.b)("li",{parentName:"ul"},Object(i.b)("p",{parentName:"li"},Object(i.b)("a",{parentName:"p",href:"https://sourceware.org/binutils/docs-2.37/binutils/nm.html#nm"},"https://sourceware.org/binutils/docs-2.37/binutils/nm.html#nm"))),Object(i.b)("li",{parentName:"ul"},Object(i.b)("p",{parentName:"li"},Object(i.b)("a",{parentName:"p",href:"https://linuxtools-rst.readthedocs.io/zh_CN/latest/tool/nm.html"},"https://linuxtools-rst.readthedocs.io/zh_CN/latest/tool/nm.html")))),Object(i.b)("pre",null,Object(i.b)("code",{parentName:"pre"},"man nm\n")),Object(i.b)("pre",null,Object(i.b)("code",{parentName:"pre"},"nm --help\n")),Object(i.b)("p",null,"\u7b80\u5355\u793a\u4f8b\uff1a\u7b26\u53f7\u8868\u80fd\u5bf9\u4e0a\uff0c\u94fe\u63a5\u7684\u65f6\u5019\u5c31\u4e0d\u4f1a\u51fa\u9519\uff0c\u5c31\u6ca1\u6709\u95ee\u9898\u3002"),Object(i.b)("pre",null,Object(i.b)("code",{parentName:"pre"},"\u279c  /C++\u8c03\u7528C git:(master) nm main.o | grep testCfun\n                 U _testCfun\n\u279c  /C++\u8c03\u7528C git:(master) nm test.o | grep testCfun\n0000000000000000 T _testCfun\n\u279c  /C++\u8c03\u7528C git:(master) nm main | grep testCfun \n0000000100003d30 T _testCfun\n")),Object(i.b)("p",null,Object(i.b)("strong",{parentName:"p"},"\u7b26\u53f7\u8bf4\u660e")),Object(i.b)("p",null,"\u53c2\u8003\uff1a ",Object(i.b)("a",{parentName:"p",href:"https://linuxtools-rst.readthedocs.io/zh_CN/latest/tool/nm.html#id3"},"https://linuxtools-rst.readthedocs.io/zh_CN/latest/tool/nm.html#id3")),Object(i.b)("p",null,"\u5bf9\u4e8e\u6bcf\u4e00\u4e2a\u7b26\u53f7\u6765\u8bf4\uff0c\u5176\u7c7b\u578b",Object(i.b)("strong",{parentName:"p"},"\u5982\u679c\u662f\u5c0f\u5199\u7684\uff0c\u5219\u8868\u660e\u8be5\u7b26\u53f7\u662flocal\u7684"),"\uff1b\u5927\u5199\u5219\u8868\u660e\u8be5\u7b26\u53f7\u662fglobal(external)\u7684\u3002-g \u662f\u53ea\u663e\u793aexternal\u7684\u3002"),Object(i.b)("ul",null,Object(i.b)("li",{parentName:"ul"},"U \u8be5\u7b26\u53f7\u5728\u5f53\u524d\u6587\u4ef6\u4e2d\u662f\u672a\u5b9a\u4e49\u7684\uff0c\u5373\u8be5\u7b26\u53f7\u7684\u5b9a\u4e49\u5728\u522b\u7684\u6587\u4ef6\u4e2d\u3002")),Object(i.b)("p",null,"\u4f8b\u5982\uff0c\u5f53\u524d\u6587\u4ef6\u8c03\u7528\u53e6\u4e00\u4e2a\u6587\u4ef6\u4e2d\u5b9a\u4e49\u7684\u51fd\u6570\uff0c\u5728\u8fd9\u4e2a\u88ab\u8c03\u7528\u7684\u51fd\u6570\u5728\u5f53\u524d\u5c31\u662f\u672a\u5b9a\u4e49\u7684\uff1b\u4f46\u662f\u5728\u5b9a\u4e49\u5b83\u7684\u6587\u4ef6\u4e2d\u7c7b\u578b\u662fT\u3002\u4f46\u662f\u5bf9\u4e8e\u5168\u5c40\u53d8\u91cf\u6765\u8bf4\uff0c\u5728\u5b9a\u4e49\u5b83\u7684\u6587\u4ef6\u4e2d\uff0c\u5176\u7b26\u53f7\u7c7b\u578b\u4e3aC\uff0c\u5728\u4f7f\u7528\u5b83\u7684\u6587\u4ef6\u4e2d\uff0c\u5176\u7c7b\u578b\u4e3aU\u3002"),Object(i.b)("ul",null,Object(i.b)("li",{parentName:"ul"},Object(i.b)("p",{parentName:"li"},"T \u8be5\u7b26\u53f7\u4f4d\u4e8e\u4ee3\u7801\u533atext section\u3002")),Object(i.b)("li",{parentName:"ul"},Object(i.b)("p",{parentName:"li"},"D \u8be5\u7b26\u53f7\u4f4d\u4e8e\u521d\u59cb\u5316\u6570\u636e\u6bb5\u4e2d\u3002\u4e00\u822c\u6765\u8bf4\uff0c\u5206\u914d\u5230data section\u4e2d\u3002"),Object(i.b)("p",{parentName:"li"},"\u4f8b\u5982\uff1a\u5b9a\u4e49\u5168\u5c40int baud_table","[5]"," = {9600, 19200, 38400, 57600, 115200}\uff0c\u4f1a\u5206\u914d\u5230\u521d\u59cb\u5316\u6570\u636e\u6bb5\u4e2d\u3002")),Object(i.b)("li",{parentName:"ul"},Object(i.b)("p",{parentName:"li"},"R \u8be5\u7b26\u53f7\u4f4d\u4e8e\u53ea\u8bfb\u6570\u636e\u533a\u3002"),Object(i.b)("p",{parentName:"li"},"\u4f8b\u5982\u5b9a\u4e49\u5168\u5c40const int test[] = {123, 123};\u5219test\u5c31\u662f\u4e00\u4e2a\u53ea\u8bfb\u6570\u636e\u533a\u7684\u7b26\u53f7\u3002\u503c\u5f97\u6ce8\u610f\u7684\u662f\uff0c\u5982\u679c\u5728\u4e00\u4e2a\u51fd\u6570\u4e2d\u5b9a\u4e49const char ",Object(i.b)("a",{parentName:"p",href:"https://linuxtools-rst.readthedocs.io/zh_CN/latest/tool/nm.html#id4"},"*"),"test = \u201cabc\u201d, const char test_int = 3\u3002\u4f7f\u7528nm\u90fd\u4e0d\u4f1a\u5f97\u5230\u7b26\u53f7\u4fe1\u606f\uff0c\u4f46\u662f\u5b57\u7b26\u4e32\u201dabc\u201d\u5206\u914d\u4e8e\u53ea\u8bfb\u5b58\u50a8\u5668\u4e2d\uff0ctest\u5728rodata section\u4e2d\uff0c\u5927\u5c0f\u4e3a4\u3002")),Object(i.b)("li",{parentName:"ul"},Object(i.b)("p",{parentName:"li"},"S \u7b26\u53f7\u4f4d\u4e8e\u975e\u521d\u59cb\u5316\u6570\u636e\u533a\uff0c\u7528\u4e8esmall object\u3002"))),Object(i.b)("hr",null),Object(i.b)("p",null,"\u8bd5\u9a8c\u4e00\u4e0b\uff1a"),Object(i.b)("pre",null,Object(i.b)("code",{parentName:"pre",className:"language-c"},'// a.c\nint foo(int a, int b) {\n  return a + b;\n}\n// b.c\nint x = 100, y = 200;\n// main.c\nextern int x, y;\nint foo(int a, int b); // \u53ef\u4ee5\u8bd5\u8bd5 extern int foo;\nint main() {\n  printf("%d + %d = %d\\n", x, y, foo(x, y));\n}\n')),Object(i.b)("p",null,"Makefile (\u9ed8\u8ba4\u7f16\u8bd1)"),Object(i.b)("pre",null,Object(i.b)("code",{parentName:"pre"},"#CFLAGS  := -O2 -fno-pic\n#LDFLAGS := -static\n\na.out: a.o b.o main.o\n        gcc $(LDFLAGS) a.o b.o main.o\n\na.o: a.c\n        gcc $(CFLAGS) -c a.c\n\nb.o: b.c\n        gcc $(CFLAGS) -c b.c\n\nmain.o: main.c\n        gcc $(CFLAGS) -c main.c\n\nclean:\n        rm -f *.o a.out\n")),Object(i.b)("p",null,"Linux\u4e0b\u8868\u73b0\uff1a"),Object(i.b)("pre",null,Object(i.b)("code",{parentName:"pre"},"\u279c  link-test git:(master) \u2717 nm a.o\n0000000000000000 T foo\n\u279c  link-test git:(master) \u2717 nm b.o\n0000000000000000 D x\n0000000000000004 D y\n\u279c  link-test git:(master) \u2717 nm main.o\n                 U foo\n                 U _GLOBAL_OFFSET_TABLE_\n0000000000000000 T main\n                 U printf\n                 U x\n                 U y\n\u279c  link-test git:(master) \u2717 nm a.out\n0000000000004018 B __bss_start\n0000000000004018 b completed.8060\n                 w __cxa_finalize@@GLIBC_2.2.5\n0000000000004000 D __data_start\n0000000000004000 W data_start\n0000000000001090 t deregister_tm_clones\n0000000000001100 t __do_global_dtors_aux\n0000000000003dc0 d __do_global_dtors_aux_fini_array_entry\n0000000000004008 D __dso_handle\n0000000000003dc8 d _DYNAMIC\n0000000000004018 D _edata\n0000000000004020 B _end\n0000000000001228 T _fini\n0000000000001149 T foo\n0000000000001140 t frame_dummy\n0000000000003db8 d __frame_dummy_init_array_entry\n0000000000002184 r __FRAME_END__\n0000000000003fb8 d _GLOBAL_OFFSET_TABLE_\n                 w __gmon_start__\n0000000000002014 r __GNU_EH_FRAME_HDR\n0000000000001000 t _init\n0000000000003dc0 d __init_array_end\n0000000000003db8 d __init_array_start\n0000000000002000 R _IO_stdin_used\n                 w _ITM_deregisterTMCloneTable\n                 w _ITM_registerTMCloneTable\n0000000000001220 T __libc_csu_fini\n00000000000011b0 T __libc_csu_init\n                 U __libc_start_main@@GLIBC_2.2.5\n0000000000001161 T main\n                 U printf@@GLIBC_2.2.5\n00000000000010c0 t register_tm_clones\n0000000000001060 T _start\n0000000000004018 D __TMC_END__\n0000000000004010 D x\n0000000000004014 D y\n")),Object(i.b)("p",null,"macOS\u4e0b\u8868\u73b0\uff1a"),Object(i.b)("pre",null,Object(i.b)("code",{parentName:"pre"},"\u279c  link-test nm a.o\n0000000000000000 T _foo\n\u279c  link-test nm b.o\n0000000000000000 D _x\n0000000000000004 D _y\n\u279c  link-test nm main.o\n                 U _foo\n0000000000000000 T _main\n                 U _printf\n                 U _x\n                 U _y\n\u279c  link-test nm a.out \n0000000100008008 d __dyld_private\n0000000100000000 T __mh_execute_header\n0000000100003f10 T _foo\n0000000100003f30 T _main\n                 U _printf\n0000000100008010 D _x\n0000000100008014 D _y\n                 U dyld_stub_binder\n                 \n\u279c  link-test nm -g a.out\n0000000100000000 T __mh_execute_header\n0000000100003f10 T _foo\n0000000100003f30 T _main\n                 U _printf\n0000000100008010 D _x\n0000000100008014 D _y\n                 U dyld_stub_binder\n                 \n\u279c  link-test cat Makefile \n#CFLAGS  := -O2 -fno-pic\n#LDFLAGS := -static\n\na.out: a.o b.o main.o\n        gcc $(LDFLAGS) a.o b.o main.o\n\na.o: a.c\n        gcc $(CFLAGS) -c a.c\n\nb.o: b.c\n        gcc $(CFLAGS) -c b.c\n\nmain.o: main.c\n        gcc $(CFLAGS) -c main.c\n\nclean:\n        rm -f *.o a.out\n")),Object(i.b)("hr",null),Object(i.b)("p",null,Object(i.b)("a",{parentName:"p",href:"https://developer.apple.com/library/archive/documentation/MacOSX/Conceptual/BPFrameworks/Tasks/ExportingInterfaces.html"},"Exporting Your Framework Interface")),Object(i.b)("p",null,"Run ",Object(i.b)("inlineCode",{parentName:"p"},"nm")," with the ",Object(i.b)("inlineCode",{parentName:"p"},"-g")," option to see the currently exported symbols. "),Object(i.b)("h3",{id:"\u67e5\u770b\u6211\u4eec\u7ed9\u5916\u90e8\u63d0\u4f9b\u7684\u7b26\u53f7"},"\u67e5\u770b\u6211\u4eec\u7ed9\u5916\u90e8\u63d0\u4f9b\u7684\u7b26\u53f7"),Object(i.b)("p",null,Object(i.b)("inlineCode",{parentName:"p"},"nm -gU xxx")),Object(i.b)("pre",null,Object(i.b)("code",{parentName:"pre"},"\u279c  Downloads nm -gU /Users/dingyusong/Desktop/duobei/tosee-ios/Pods/RZPaas_iOS/RZPaas_iOS.xcframework/ios-x86_64-simulator/RZPaas_iOS.framework/RZPaas_iOS\n00000000017aebb8 S _OBJC_CLASS_$_RZChannelStats\n00000000017ae9d8 S _OBJC_CLASS_$_RZLastmileProbeConfig\n00000000017aec08 S _OBJC_CLASS_$_RZLastmileProbeOneWayResult\n00000000017aec58 S _OBJC_CLASS_$_RZLastmileProbeResult\n00000000017ae690 S _OBJC_CLASS_$_RZProgressDataHelper\n00000000017aea28 S _OBJC_CLASS_$_RZRtcAudioVolumeInfo\n00000000017aec80 S _OBJC_CLASS_$_RZRtcChannel\n00000000017ae8c0 S _OBJC_CLASS_$_RZRtcEngineConfig\n00000000017aecd0 S _OBJC_CLASS_$_RZRtcEngineKit\n00000000017aeac8 S _OBJC_CLASS_$_RZRtcLocalAudioStats\n00000000017aeb18 S _OBJC_CLASS_$_RZRtcLocalVideoStats\n00000000017aea78 S _OBJC_CLASS_$_RZRtcRemoteAudioStats\n00000000017aeb68 S _OBJC_CLASS_$_RZRtcRemoteVideoStats\n00000000017ae910 S _OBJC_CLASS_$_RZRtcVideoCanvas\n00000000017aed20 S _OBJC_CLASS_$_RZRtcVideoStream\n00000000017ae960 S _OBJC_CLASS_$_RZVideoEncoderConfiguration\n00000000017aeb90 S _OBJC_METACLASS_$_RZChannelStats\n00000000017ae9b0 S _OBJC_METACLASS_$_RZLastmileProbeConfig\n00000000017aebe0 S _OBJC_METACLASS_$_RZLastmileProbeOneWayResult\n00000000017aec30 S _OBJC_METACLASS_$_RZLastmileProbeResult\n00000000017ae6b8 S _OBJC_METACLASS_$_RZProgressDataHelper\n00000000017aea00 S _OBJC_METACLASS_$_RZRtcAudioVolumeInfo\n00000000017aeca8 S _OBJC_METACLASS_$_RZRtcChannel\n00000000017ae8e8 S _OBJC_METACLASS_$_RZRtcEngineConfig\n00000000017aecf8 S _OBJC_METACLASS_$_RZRtcEngineKit\n00000000017aeaa0 S _OBJC_METACLASS_$_RZRtcLocalAudioStats\n00000000017aeaf0 S _OBJC_METACLASS_$_RZRtcLocalVideoStats\n00000000017aea50 S _OBJC_METACLASS_$_RZRtcRemoteAudioStats\n00000000017aeb40 S _OBJC_METACLASS_$_RZRtcRemoteVideoStats\n00000000017ae938 S _OBJC_METACLASS_$_RZRtcVideoCanvas\n00000000017aed48 S _OBJC_METACLASS_$_RZRtcVideoStream\n00000000017ae988 S _OBJC_METACLASS_$_RZVideoEncoderConfiguration\n00000000013be588 S _RZVideoDimension120x120\n00000000013be678 S _RZVideoDimension1280x720\n00000000013be598 S _RZVideoDimension160x120\n00000000013be5a8 S _RZVideoDimension180x180\n00000000013be688 S _RZVideoDimension1920x1080\n00000000013be5b8 S _RZVideoDimension240x180\n00000000013be5d8 S _RZVideoDimension240x240\n00000000013be5c8 S _RZVideoDimension320x180\n00000000013be5e8 S _RZVideoDimension320x240\n00000000013be608 S _RZVideoDimension360x360\n00000000013be5f8 S _RZVideoDimension424x240\n00000000013be618 S _RZVideoDimension480x360\n00000000013be638 S _RZVideoDimension480x480\n00000000013be628 S _RZVideoDimension640x360\n00000000013be648 S _RZVideoDimension640x480\n00000000013be658 S _RZVideoDimension840x480\n00000000013be668 S _RZVideoDimension960x720\n0000000000126df0 T __ZN2rz10IRtcEngine10getVersionEv\n0000000000126de0 T __ZN2rz10IRtcEngine19getErrorDescriptionEi\n0000000000126ae0 T __ZN2rz10IRtcEngine7releaseEb\n0000000000124a40 T _createRZRtcEngine\n")),Object(i.b)("p",null,"\u67e5\u770b\u6211\u4eec\u9700\u8981\u7684\u5916\u90e8\u7b26\u53f7"),Object(i.b)("p",null,Object(i.b)("inlineCode",{parentName:"p"},"nm -gu xxx")),Object(i.b)("pre",null,Object(i.b)("code",{parentName:"pre"},"\u279c  ~ nm -gU /Users/dingyusong/Library/Developer/Xcode/DerivedData/framework-demo-gpomogmayijsfpclllhlbeetrizz/Build/Products/Debug-iphonesimulator/fw2.framework/fw2\n0000000000008158 S _OBJC_CLASS_$_FW1Obj1\n00000000000081a8 S _OBJC_CLASS_$_FW2Obj1\n0000000000008130 S _OBJC_METACLASS_$_FW1Obj1\n0000000000008180 S _OBJC_METACLASS_$_FW2Obj1\n0000000000003f80 S _fw2VersionNumber\n0000000000003f50 S _fw2VersionString\n\u279c  ~ nm -gU /Users/dingyusong/Library/Developer/Xcode/DerivedData/framework-demo-gpomogmayijsfpclllhlbeetrizz/Build/Products/Debug-iphonesimulator/fw1.framework/fw1\n00000000000080c8 S _OBJC_CLASS_$_FW1Obj1\n00000000000080a0 S _OBJC_METACLASS_$_FW1Obj1\n0000000000003f80 S _fw1VersionNumber\n0000000000003f50 S _fw1VersionString\n\u279c  ~ nm -gu /Users/dingyusong/Library/Developer/Xcode/DerivedData/framework-demo-gpomogmayijsfpclllhlbeetrizz/Build/Products/Debug-iphonesimulator/framework-demo.app/framework-demo\n_NSStringFromClass\n_OBJC_CLASS_$_FW1Obj1\n_OBJC_CLASS_$_FW2Obj1\n_OBJC_CLASS_$_UIResponder\n_OBJC_CLASS_$_UISceneConfiguration\n_OBJC_CLASS_$_UIViewController\n_OBJC_METACLASS_$_NSObject\n_OBJC_METACLASS_$_UIResponder\n_OBJC_METACLASS_$_UIViewController\n_UIApplicationMain\n___CFConstantStringClassReference\n__objc_empty_cache\n_objc_alloc\n_objc_autoreleasePoolPop\n_objc_autoreleasePoolPush\n_objc_autoreleaseReturnValue\n_objc_msgSend\n_objc_msgSendSuper2\n_objc_opt_class\n_objc_opt_new\n_objc_release\n_objc_retainAutoreleasedReturnValue\n_objc_storeStrong\ndyld_stub_binder\n\u279c  ~\n")),Object(i.b)("p",null,"\u53ef\u4ee5\u770b\u5230\u6211\u4eec\u7684demo\u9700\u8981",Object(i.b)("inlineCode",{parentName:"p"},"_OBJC_CLASS_$_FW1Obj1"),"\u7b26\u53f7\uff0c\u800cfw2\u548cfw2\u90fd\u63d0\u4f9b \u6240\u4ee5\u4f1a\u62a5\u9519\uff0c\u751a\u81f3\u53d1\u751f\u8fd0\u884c\u65f6\u9519\u8bef"),Object(i.b)("h2",{id:"objdump"},"objdump"),Object(i.b)("p",null,Object(i.b)("inlineCode",{parentName:"p"},"objdump --help")),Object(i.b)("pre",null,Object(i.b)("code",{parentName:"pre"},"\u279c  link-test git:(master) objdump -d a.o\n\na.o\uff1a     \u6587\u4ef6\u683c\u5f0f mach-o-x86-64\n\n\nDisassembly of section .text:\n\n0000000000000000 <_foo>:\n   0:   55                      push   %rbp\n   1:   48 89 e5                mov    %rsp,%rbp\n   4:   89 7d fc                mov    %edi,-0x4(%rbp)\n   7:   89 75 f8                mov    %esi,-0x8(%rbp)\n   a:   8b 45 fc                mov    -0x4(%rbp),%eax\n   d:   03 45 f8                add    -0x8(%rbp),%eax\n  10:   5d                      pop    %rbp\n  11:   c3                      retq   \n\n")),Object(i.b)("pre",null,Object(i.b)("code",{parentName:"pre"},"\u279c  link-test git:(master) objdump -D a.o\n\na.o\uff1a     \u6587\u4ef6\u683c\u5f0f mach-o-x86-64\n\n\nDisassembly of section .text:\n\n0000000000000000 <_foo>:\n   0:   55                      push   %rbp\n   1:   48 89 e5                mov    %rsp,%rbp\n   4:   89 7d fc                mov    %edi,-0x4(%rbp)\n   7:   89 75 f8                mov    %esi,-0x8(%rbp)\n   a:   8b 45 fc                mov    -0x4(%rbp),%eax\n   d:   03 45 f8                add    -0x8(%rbp),%eax\n  10:   5d                      pop    %rbp\n  11:   c3                      retq   \n\nDisassembly of section __LD.__compact_unwind:\n\n0000000000000018 <__LD.__compact_unwind>:\n        ...\n  20:   12 00                   adc    (%rax),%al\n  22:   00 00                   add    %al,(%rax)\n  24:   00 00                   add    %al,(%rax)\n  26:   00 01                   add    %al,(%rcx)\n        ...\n\nDisassembly of section .eh_frame:\n\n0000000000000038 <.eh_frame>:\n  38:   14 00                   adc    $0x0,%al\n  3a:   00 00                   add    %al,(%rax)\n  3c:   00 00                   add    %al,(%rax)\n  3e:   00 00                   add    %al,(%rax)\n  40:   01 7a 52                add    %edi,0x52(%rdx)\n  43:   00 01                   add    %al,(%rcx)\n  45:   78 10                   js     57 <.eh_frame+0x1f>\n  47:   01 10                   add    %edx,(%rax)\n  49:   0c 07                   or     $0x7,%al\n  4b:   08 90 01 00 00 24       or     %dl,0x24000001(%rax)\n  51:   00 00                   add    %al,(%rax)\n  53:   00 1c 00                add    %bl,(%rax,%rax,1)\n  56:   00 00                   add    %al,(%rax)\n  58:   a8 ff                   test   $0xff,%al\n  5a:   ff                      (bad)  \n  5b:   ff                      (bad)  \n  5c:   ff                      (bad)  \n  5d:   ff                      (bad)  \n  5e:   ff                      (bad)  \n  5f:   ff 12                   callq  *(%rdx)\n        ...\n  69:   41 0e                   rex.B (bad) \n  6b:   10 86 02 43 0d 06       adc    %al,0x60d4302(%rsi)\n  71:   00 00                   add    %al,(%rax)\n  73:   00 00                   add    %al,(%rax)\n  75:   00 00                   add    %al,(%rax)\n        ...\n")),Object(i.b)("p",null,"MacOView\u67e5\u770ba.o\u548c\u4e0a\u9762",Object(i.b)("inlineCode",{parentName:"p"},"objdump -d a.o")," \u5c55\u793a\u7684\u4e00\u6837\u3002"),Object(i.b)("p",null,Object(i.b)("img",{alt:"image-20210904151001416",src:t(427).default})),Object(i.b)("p",null,"\u53c2\u8003\uff1a",Object(i.b)("a",{parentName:"p",href:"https://linuxtools-rst.readthedocs.io/zh_CN/latest/tool/objdump.html"},"https://linuxtools-rst.readthedocs.io/zh_CN/latest/tool/objdump.html")),Object(i.b)("ul",null,Object(i.b)("li",{parentName:"ul"},"objcopy\uff1a\u590d\u5236\u548c\u8f6c\u8bd1\u76ee\u6807\u6587\u4ef6\u3002"),Object(i.b)("li",{parentName:"ul"},"objdump\uff1a\u663e\u793a\u76ee\u6807\u6587\u4ef6\u7684\u76f8\u5173\u4fe1\u606f\uff0c\u4ea6\u53ef\u53cd\u6c47\u7f16\u3002"),Object(i.b)("li",{parentName:"ul"},"ranlib\uff1a\u4ea7\u751f\u9759\u6001\u5e93\u7684\u7d22\u5f15\u3002\uff08\u548c",Object(i.b)("inlineCode",{parentName:"li"},"nm -s"),"\u529f\u80fd\u7c7b\u4f3c\uff09"),Object(i.b)("li",{parentName:"ul"},"readelf\uff1a \u663e\u793aELF\u6587\u4ef6\u7684\u5185\u5bb9\u3002"),Object(i.b)("li",{parentName:"ul"},"size\uff1a\u5217\u51fa\u76ee\u6807\u6587\u4ef6\u6216\u5e93\u6587\u4ef6\u7684section\u5927\u5c0f\u3002"),Object(i.b)("li",{parentName:"ul"},"strings\uff1a\u5217\u51fa\u6587\u4ef6\u4e2d\u53ef\u6253\u5370\u7684\u5b57\u7b26\u4e32\u4fe1\u606f\u3002"),Object(i.b)("li",{parentName:"ul"},"strip\uff1a\u4ece\u76ee\u6807\u6587\u4ef6\u4e2d\u79fb\u9664\u7b26\u53f7\u4fe1\u606f\u3002"),Object(i.b)("li",{parentName:"ul"},"windmc\uff1aWindows\u6d88\u606f\u8d44\u6e90\u7f16\u8bd1\u5668\u3002"),Object(i.b)("li",{parentName:"ul"},"windres\uff1aWindows\u8d44\u6e90\u6587\u4ef6\u7f16\u8bd1\u5668\u3002")),Object(i.b)("p",null,"\u5de5\u5177\u53c2\u8003\u7bc7: ",Object(i.b)("a",{parentName:"p",href:"https://linuxtools-rst.readthedocs.io/zh_CN/latest/tool/index.html"},"https://linuxtools-rst.readthedocs.io/zh_CN/latest/tool/index.html")),Object(i.b)("p",null,"\u4e0a\u624b9\u5957\u5de5\u5177\uff0c\u73a9\u8f6c\u4e8c\u8fdb\u5236\u6587\u4ef6\uff1a",Object(i.b)("a",{parentName:"p",href:"https://zhuanlan.zhihu.com/p/82199492"},"https://zhuanlan.zhihu.com/p/82199492")),Object(i.b)("p",null,Object(i.b)("a",{parentName:"p",href:"https://sourceware.org/binutils/"},"https://sourceware.org/binutils/")),Object(i.b)("h2",{id:"lief"},"LIEF"),Object(i.b)("p",null,"Library to Instrument Executable Formats"),Object(i.b)("p",null,Object(i.b)("a",{parentName:"p",href:"https://lief-project.github.io/doc/latest/intro.html"},"https://lief-project.github.io/doc/latest/intro.html")))}p.isMDXComponent=!0}}]);